{"ast":null,"code":"import _defineProperty from \"C:/Users/Max/Desktop/project1.0.0-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport Layout from \"../../layouts/main.vue\";\nimport PageHeader from \"@/components/page-header\";\nimport appConfig from \"../../../app.config\";\nimport \"prismjs\";\nimport \"prismjs/themes/prism.css\";\nimport RolesDataServise from \"../../services/RolesDataServise\";\nimport router from \"../../router\";\nexport default {\n  page: {\n    title: \"Сountries\",\n    meta: [{\n      name: \"description\",\n      content: appConfig.description\n    }]\n  },\n  data: function data() {\n    return {\n      PageRequest: {\n        Fields: [{\n          Name: '',\n          Value: '',\n          Operation: '',\n          Order: ''\n        }],\n        PageNumber: 0,\n        PageLenght: 0,\n        TotalRecords: 0,\n        TotalPage: 0\n      },\n      page: 1,\n      perPage: 7,\n      pages: [],\n      jsonPages: {\n        PageNumber: 0,\n        TotalRecords: 0\n      },\n      jsonFields: [{\n        name: '',\n        value: ''\n      }],\n      search: \"\",\n      type_list: 'admin/listRoles',\n      //(это часть URL-list)\n      main_type: 'users',\n      //(это часть URL)\n      list_items: [],\n      title: \"Roles\",\n      items: [{\n        text: \"Главная\",\n        href: \"/\"\n      }, {\n        text: \"roles\",\n        active: true\n      }]\n    };\n  },\n  components: {\n    Layout: Layout,\n    PageHeader: PageHeader\n  },\n  methods: _defineProperty({\n    setPage: function setPage(numPage) {\n      this.page = numPage;\n      this.retrieveRoles();\n      console.log(numPage);\n    },\n    retrieveRoles: function retrieveRoles() {\n      var _this = this;\n\n      this.jsonPages = {\n        pg_number: this.page,\n        pg_length: this.perPage\n      };\n\n      if (this.search != \"\") {\n        this.jsonPages = [{\n          field: \"name\",\n          value: this.search\n        }];\n      } else {\n        this.jsonFields = [];\n      }\n\n      ;\n      RolesDataServise.setPath(this.type_list);\n      RolesDataServise.list(this.jsonPages).then(function (response) {\n        //dispatch('notification/success', 'Получение списка прошло успешно', { root: true });\n        _this.list_items = response.data;\n        console.log(response.data);\n        _this.perPage = response.data.pg_length;\n        _this.page = response.data.pg_number;\n        var i = 0;\n\n        for (i = 0; i < response.data.total_pg; i++) {\n          _this.pages[i] = i + 1;\n        }\n      }).catch(function (error) {\n        //dispatch('notification/error', error, { root: true });\n        console.log(error);\n      });\n    },\n    remove: function remove(id) {\n      var _this2 = this;\n\n      RolesDataServise.setPath(this.main_type);\n      RolesDataServise.delete(id).then(function () {\n        //dispatch('notification/success', 'Удаление прошло успешно', { root: true });\n        _this2.retrieveRoles();\n      }).catch(function (error) {\n        //dispatch('notification/error', error, { root: true });\n        console.log(error);\n      });\n    },\n    edit: function edit(id) {\n      router.push('/' + this.main_type + '/' + id);\n    }\n  }, \"remove\", function remove(id) {\n    var _this3 = this;\n\n    RolesDataServise.delete(id).then(function () {\n      //dispatch('notification/success', 'Удаление прошло успешно', { root: true });\n      _this3.retrieveRoles();\n    }).catch(function (error) {\n      //dispatch('notification/error', error, { root: true });\n      console.log(error);\n    });\n  }),\n  mounted: function mounted() {\n    this.retrieveRoles();\n  }\n};","map":{"version":3,"mappings":"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","names":["Layout","PageHeader","appConfig","RolesDataServise","router","page","title","meta","name","content","description","data","PageRequest","Fields","Name","Value","Operation","Order","PageNumber","PageLenght","TotalRecords","TotalPage","perPage","pages","jsonPages","jsonFields","value","search","type_list","main_type","list_items","items","text","href","active","components","methods","setPage","numPage","retrieveRoles","console","log","pg_number","pg_length","field","setPath","list","then","response","i","total_pg","catch","error","remove","id","delete","edit","push","mounted"],"sourceRoot":"","sources":["C:\\Users\\Max\\Desktop\\project1.0.0-main\\src\\views\\roles\\list.vue"],"sourcesContent":["<script>\r\n    import Layout from \"../../layouts/main.vue\";\r\n    import PageHeader from \"@/components/page-header\";\r\n    import appConfig from \"../../../app.config\";\r\n\r\n    import \"prismjs\";\r\n    import \"prismjs/themes/prism.css\";\r\n\r\n    import RolesDataServise from \"../../services/RolesDataServise\";\r\n    import router from \"../../router\";\r\n\r\n    export default {\r\n        page: {\r\n            title: \"Сountries\",\r\n            meta: [{ name: \"description\", content: appConfig.description }],\r\n        },\r\n        data() {\r\n            return {\r\n                PageRequest: {\r\n                        Fields: [{\r\n                        Name :'',\r\n                        Value:'',\r\n                        Operation:'',\r\n                        Order:'',\r\n                        }],\r\n                        PageNumber:0,\r\n                        PageLenght:0,\r\n                        TotalRecords:0,\r\n                        TotalPage:0,\r\n                    },\r\n                page: 1,\r\n                perPage: 7,\r\n                pages: [],\r\n                jsonPages: {\r\n                            PageNumber: 0,\r\n                            TotalRecords:0,\r\n                },\r\n                jsonFields: [{\r\n                            name:'',\r\n                            value: ''\r\n                }],\r\n\r\n                search:\"\",\r\n             \r\n\r\n                \r\n                type_list:'admin/listRoles',//(это часть URL-list)\r\n                main_type:'users',//(это часть URL)\r\n                list_items:[],\r\n                title: \"Roles\",\r\n                items: [\r\n                    {\r\n                        text: \"Главная\",\r\n                        href: \"/\",\r\n                    },\r\n                    {\r\n                        text: \"roles\",\r\n                        active: true,\r\n                    },\r\n                ],\r\n            };\r\n        },\r\n        components: {\r\n            Layout,\r\n            PageHeader,\r\n        },\r\n        methods:{\r\n\r\n            setPage(numPage){\r\n         this.page = numPage;\r\n         this.retrieveRoles();\r\n         console.log(numPage)\r\n        \r\n    },\r\n    \r\n    \r\n    \r\n    retrieveRoles() {\r\n       \r\n        this.jsonPages = {\r\n          pg_number:this.page,\r\n          pg_length: this.perPage\r\n      };\r\n \r\n      if (this.search!=\"\"){\r\n       this.jsonPages = [{\r\n          field:\"name\",\r\n          value: this.search\r\n       }];\r\n       }else{\r\n           this.jsonFields = [];\r\n       };\r\n       \r\n\r\n            RolesDataServise.setPath(this.type_list);\r\n            RolesDataServise.list( this.jsonPages)\r\n            .then(response => {\r\n\r\n                  //dispatch('notification/success', 'Получение списка прошло успешно', { root: true });\r\n                  this.list_items = response.data;\r\n\r\n                  console.log(response.data)\r\n\r\n                  this.perPage = response.data.pg_length;\r\n\r\n                  this.page = response.data.pg_number;\r\n                  \r\n                  let i=0;\r\n                  for(i=0; i<response.data.total_pg;i++){\r\n                  this.pages[i]=i+1;}\r\n                  })\r\n                  .catch(error => {\r\n                  //dispatch('notification/error', error, { root: true });\r\n                  console.log(error);\r\n                  });\r\n\r\n\r\n            },\r\n\r\n            remove(id){\r\n                RolesDataServise.setPath(this.main_type);\r\n                RolesDataServise.delete(id)\r\n                    .then(() => {\r\n                        //dispatch('notification/success', 'Удаление прошло успешно', { root: true });\r\n                        this.retrieveRoles();\r\n                    })\r\n                    .catch(error => {\r\n                        //dispatch('notification/error', error, { root: true });\r\n                        console.log(error);\r\n                    });\r\n\r\n            },\r\n            edit(id){\r\n                router.push('/'+this.main_type + '/'+id);\r\n\r\n            },\r\n            remove(id){\r\n                \r\n                RolesDataServise.delete(id)\r\n                    .then(() => {\r\n                        //dispatch('notification/success', 'Удаление прошло успешно', { root: true });\r\n                        this.retrieveRoles();\r\n                    })\r\n                    .catch(error => {\r\n                        //dispatch('notification/error', error, { root: true });\r\n                        console.log(error);\r\n                    });\r\n\r\n            },\r\n        },\r\n\r\n        mounted() {\r\n            this.retrieveRoles();\r\n           \r\n        },\r\n    };\r\n</script>\r\n\r\n<template>\r\n    <Layout>\r\n        <PageHeader :title=\"title\" :items=\"items\"/>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-xl-12\">\r\n\r\n\r\n                        <div class=\"live-preview\">\r\n                            <div class=\"table-responsive\">\r\n                                <table class=\"table table-primary table-striped align-middle table-nowrap mb-0\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th scope=\"col\">Id</th>\r\n                                            <th scope=\"col\">Name</th>\r\n                                            \r\n                                            <th scope=\"col\"></th>\r\n                                           \r\n                                            \r\n                                        \r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                    <tr v-for=\"item in list_items\" :key=\"item.id\">\r\n\r\n                                    <td><a href=\"#\" class=\"fw-medium\">{{item.id}}</a></td>\r\n                                    \r\n                                    <td>{{item.name}}</td>\r\n                                    <td>\r\n                                            <div class=\"hstack gap-3 flex-wrap\">\r\n                                                <router-link :to=\"{name: 'RolesEdit', params: { id: item.id }}\"> <a href=\"javascript:void(0);\" class=\"link-primary fs-15\"><i class=\"ri-edit-2-line\"></i></a></router-link> \r\n                                       \r\n                                                <a href=\"javascript:void(0);\" class=\"link-danger fs-15\"><i class=\"ri-delete-bin-line\" @click=\"remove(item.id)\"></i></a>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n\r\n                                    </tbody>\r\n\r\n                                </table>\r\n                                <!-- end table -->\r\n                                <div class=\"pagination-wrap hstack gap-2\">\r\n              <a\r\n                class=\"page-item pagination-prev disabled\"\r\n                href=\"#\"\r\n                v-if=\"page != 1\"\r\n                @click=\"setPage((--page))\"\r\n              >\r\n                Previous\r\n              </a>\r\n              <ul class=\"pagination listjs-pagination mb-0\">\r\n                <li\r\n                 :class=\"{\r\n                              active: pageNumber == page,\r\n                              disabled: pageNumber == '...',\r\n                            }\"\r\n                  v-for=\"(pageNumber, index) in pages.slice(page - 1, page + 5)\"\r\n                  :key=\"index\"\r\n                  @click=\"setPage(page = pageNumber)\"\r\n                >\r\n                  <a class=\"page\" href=\"#\"  @click=\"setPage(pageNumber)\">{{ pageNumber }}</a>\r\n                </li>\r\n              </ul>\r\n              <a\r\n                class=\"page-item pagination-next\"\r\n                href=\"#\"\r\n                @click=\"setPage(++page)\"\r\n                v-if=\"page < pages.length\"\r\n              >\r\n                Next\r\n              </a>\r\n            </div>\r\n                            </div>\r\n                            <!-- end table responsive -->\r\n                        </div>\r\n\r\n            </div>\r\n            <!-- end col -->\r\n        </div>\r\n        <!--end row-->\r\n    </Layout>\r\n</template>\r\n"]},"metadata":{},"sourceType":"module"}