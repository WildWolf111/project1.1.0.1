{"ast":null,"code":"import _classCallCheck from \"C:/Projects/success/project_v.1.0.0/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Projects/success/project_v.1.0.0/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Projects/success/project_v.1.0.0/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Projects/success/project_v.1.0.0/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nvar VueEcharts_1;\nimport { __decorate, __metadata } from \"tslib\";\nimport * as echarts from 'echarts';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { capitalize, h } from 'vue';\nimport { Component, Inreactive, Prop, VueComponentBase, Watch } from 'vue3-component-base'; // https://echarts.apache.org/zh/api.html#events\n\nvar Events = ['click', 'dblclick', 'mousedown', 'mouseup', 'mouseover', 'mouseout', 'globalout', 'legendselectchanged', 'legendselected', 'legendunselected', 'legendscroll', 'datazoom', 'datarangeselected', 'timelinechanged', 'timelineplaychanged', 'restore', 'dataviewchanged', 'magictypechanged', 'geoselectchanged', 'geoselected', 'geounselected', 'pieselectchanged', 'pieselected', 'pieunselected', 'mapselectchanged', 'mapselected', 'mapunselected', 'axisareaselected', 'focusnodeadjacency', 'unfocusnodeadjacency', 'brush', 'brushselected'];\n\nvar VueEcharts = VueEcharts_1 = /*#__PURE__*/function (_VueComponentBase) {\n  _inherits(VueEcharts, _VueComponentBase);\n\n  var _super = _createSuper(VueEcharts);\n\n  function VueEcharts() {\n    _classCallCheck(this, VueEcharts);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(VueEcharts, [{\n    key: \"render\",\n    value: function render() {\n      return h('div', {\n        class: 'vue-echarts'\n      });\n    }\n  }, {\n    key: \"mounted\",\n    value: function mounted() {\n      this.refreshChart();\n      this.$el._component = this;\n\n      if (!VueEcharts_1.ro) {\n        VueEcharts_1.ro = new ResizeObserver(function (entries) {\n          entries.forEach(function (entry) {\n            var that = entry.target._component;\n\n            if (entry.contentRect.width && entry.contentRect.height && that.chart && !that.resizing) {\n              that.resizing = true;\n              requestAnimationFrame(function () {\n                if (that.chart) that.chart.resize(entry.contentRect);\n                that.resizing = false;\n              });\n            }\n          });\n        });\n      }\n\n      VueEcharts_1.ro.observe(this.$el);\n    }\n  }, {\n    key: \"beforeUnmount\",\n    value: function beforeUnmount() {\n      var _a;\n\n      if (this.chart) {\n        this.chart.dispose();\n        this.chart = undefined;\n      }\n\n      (_a = VueEcharts_1.ro) === null || _a === void 0 ? void 0 : _a.unobserve(this.$el);\n    }\n  }, {\n    key: \"refreshOption\",\n    value: function refreshOption() {\n      if (!this.chart) return;\n\n      if (this.option && Object.keys(this.option).some(function (x) {\n        return /^[a-z]/.test(x);\n      })) {\n        this.chart.setOption(this.option, true);\n        if (this.$el.clientHeight) this.chart.resize();\n        this.chart.hideLoading();\n      } else {\n        this.chart.showLoading('default', this.loadingOption);\n      }\n    }\n  }, {\n    key: \"refreshChart\",\n    value: function refreshChart() {\n      var _this = this;\n\n      if (this.chart) {\n        this.chart.dispose();\n        this.chart = undefined;\n      }\n\n      var chart = echarts.init(this.$el, this.theme, this.initCfg);\n      chart.group = this.groupId;\n      this.chart = chart;\n      this.refreshOption();\n      Events.forEach(function (x) {\n        var eventName = 'on' + capitalize(x);\n\n        if (typeof _this.$.vnode.props[eventName] === 'function') {\n          chart.on(x, _this.$emit.bind(_this, x));\n        }\n      });\n    }\n  }, {\n    key: \"setOption\",\n    value: function setOption() {\n      var _this$chart;\n\n      return (_this$chart = this.chart).setOption.apply(_this$chart, arguments);\n    }\n  }, {\n    key: \"dispatchAction\",\n    value: function dispatchAction() {\n      var _this$chart2;\n\n      return (_this$chart2 = this.chart).dispatchAction.apply(_this$chart2, arguments);\n    }\n  }]);\n\n  return VueEcharts;\n}(VueComponentBase);\n\n__decorate([Prop(), __metadata(\"design:type\", Object)], VueEcharts.prototype, \"option\", void 0);\n\n__decorate([Prop({\n  default: 'default'\n}), __metadata(\"design:type\", String)], VueEcharts.prototype, \"theme\", void 0);\n\n__decorate([Prop(), __metadata(\"design:type\", String)], VueEcharts.prototype, \"groupId\", void 0);\n\n__decorate([Prop({\n  default: function _default() {\n    return {\n      text: '努力加载中',\n      color: '#c23531',\n      textColor: '#489CFF',\n      spinnerRadius: 6,\n      lineWidth: 2,\n      maskColor: 'rgba(0, 0, 0, 0.1)',\n      zlevel: 0\n    };\n  }\n}), __metadata(\"design:type\", Object)], VueEcharts.prototype, \"loadingOption\", void 0);\n\n__decorate([Prop(), __metadata(\"design:type\", Object)], VueEcharts.prototype, \"initCfg\", void 0);\n\n__decorate([Inreactive, __metadata(\"design:type\", Boolean)], VueEcharts.prototype, \"resizing\", void 0);\n\n__decorate([Inreactive, __metadata(\"design:type\", Object)], VueEcharts.prototype, \"chart\", void 0);\n\n__decorate([Watch('option'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], VueEcharts.prototype, \"refreshOption\", null);\n\n__decorate([Watch('theme'), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], VueEcharts.prototype, \"refreshChart\", null);\n\nVueEcharts = VueEcharts_1 = __decorate([Component({\n  name: 'VueEcharts',\n  emits: Events\n})], VueEcharts);\nexport { VueEcharts };","map":{"version":3,"mappings":"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","names":["echarts","ResizeObserver","capitalize","h","Component","Inreactive","Prop","VueComponentBase","Watch","Events","VueEcharts","class","refreshChart","$el","_component","VueEcharts_1","ro","entries","forEach","that","entry","target","contentRect","width","height","chart","resizing","requestAnimationFrame","resize","observe","dispose","undefined","_a","unobserve","option","Object","keys","some","test","x","setOption","clientHeight","hideLoading","showLoading","loadingOption","init","theme","initCfg","group","groupId","refreshOption","eventName","$","vnode","props","on","$emit","bind","dispatchAction","__decorate","default","text","color","textColor","spinnerRadius","lineWidth","maskColor","zlevel","name","emits"],"sourceRoot":"","sources":["index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}