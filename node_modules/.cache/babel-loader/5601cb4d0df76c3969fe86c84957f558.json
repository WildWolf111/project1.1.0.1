{"ast":null,"code":"import \"core-js/modules/es.array.slice.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withCtx as _withCtx, normalizeClass as _normalizeClass, createBlock as _createBlock } from \"vue\";\n\nvar _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"h4\", null, \"Products\")], -1\n/* HOISTED */\n);\n\nvar _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createCommentVNode(\" search string \")], -1\n/* HOISTED */\n);\n\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_4 = {\n  class: \"table table-primary table-striped align-middle table-nowrap mb-0\"\n};\n\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Id\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Slug\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Brand\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"SKU\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Short_description\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n})])], -1\n/* HOISTED */\n);\n\nvar _hoisted_6 = {\n  class: \"hstack gap-3 flex-wrap\"\n};\n\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"javascript:void(0);\",\n  class: \"link-primary fs-15\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-edit-2-line\"\n})], -1\n/* HOISTED */\n);\n\nvar _hoisted_8 = {\n  href: \"javascript:void(0);\",\n  class: \"link-success fs-15\"\n};\nvar _hoisted_9 = [\"onClick\"];\n\nvar _hoisted_10 = /*#__PURE__*/_createElementVNode(\"p\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_11 = {\n  class: \"pagination-wrap hstack gap-2\"\n};\nvar _hoisted_12 = {\n  class: \"pagination listjs-pagination mb-0\"\n};\nvar _hoisted_13 = [\"onClick\"];\nvar _hoisted_14 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_PageHeader = _resolveComponent(\"PageHeader\");\n\n  var _component_router_link = _resolveComponent(\"router-link\");\n\n  var _component_Layout = _resolveComponent(\"Layout\");\n\n  return _openBlock(), _createBlock(_component_Layout, null, {\n    default: _withCtx(function () {\n      return [_createVNode(_component_PageHeader, {\n        title: $data.title,\n        items: _ctx.items\n      }, null, 8\n      /* PROPS */\n      , [\"title\", \"items\"]), _hoisted_1, _hoisted_2, _hoisted_3, _createElementVNode(\"table\", _hoisted_4, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.Products, function (Product, index) {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: index\n        }, [_createElementVNode(\"td\", null, _toDisplayString(Product.Id), 1\n        /* TEXT */\n        ), _createElementVNode(\"td\", null, _toDisplayString(Product.Name), 1\n        /* TEXT */\n        ), _createElementVNode(\"td\", null, _toDisplayString(Product.Slug), 1\n        /* TEXT */\n        ), _createElementVNode(\"td\", null, _toDisplayString(Product.Brand.Name), 1\n        /* TEXT */\n        ), _createElementVNode(\"td\", null, _toDisplayString(Product.SKU), 1\n        /* TEXT */\n        ), _createElementVNode(\"td\", null, _toDisplayString(Product.short_description), 1\n        /* TEXT */\n        ), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_router_link, {\n          to: {\n            name: 'ProductEdit',\n            params: {\n              id: Product.Id\n            }\n          }\n        }, {\n          default: _withCtx(function () {\n            return [_hoisted_7];\n          }),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1032\n        /* PROPS, DYNAMIC_SLOTS */\n        , [\"to\"]), _createElementVNode(\"a\", _hoisted_8, [_createElementVNode(\"i\", {\n          class: \"ri-delete-bin-line\",\n          onClick: function onClick($event) {\n            return $options.deleteProduct(Product.Id);\n          }\n        }, null, 8\n        /* PROPS */\n        , _hoisted_9)])])])]);\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))]), _hoisted_10]), _createElementVNode(\"div\", _hoisted_11, [$data.page != 1 ? (_openBlock(), _createElementBlock(\"a\", {\n        key: 0,\n        class: \"page-item pagination-prev disabled\",\n        href: \"#\",\n        onClick: _cache[0] || (_cache[0] = function ($event) {\n          return $options.setPage(--$data.page);\n        })\n      }, \" Previous \")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"ul\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.pages.slice($data.page - 1, $data.page + 5), function (pageNumber, index) {\n        return _openBlock(), _createElementBlock(\"li\", {\n          class: _normalizeClass({\n            active: pageNumber == $data.page,\n            disabled: pageNumber == '...'\n          }),\n          key: index,\n          onClick: function onClick($event) {\n            return $options.setPage($data.page = pageNumber);\n          }\n        }, [_createElementVNode(\"a\", {\n          class: \"page\",\n          href: \"#\",\n          onClick: function onClick($event) {\n            return $options.setPage(pageNumber);\n          }\n        }, _toDisplayString(pageNumber), 9\n        /* TEXT, PROPS */\n        , _hoisted_14)], 10\n        /* CLASS, PROPS */\n        , _hoisted_13);\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))]), $data.page < $data.pages.length ? (_openBlock(), _createElementBlock(\"a\", {\n        key: 1,\n        class: \"page-item pagination-next\",\n        href: \"#\",\n        onClick: _cache[1] || (_cache[1] = function ($event) {\n          return $options.setPage(++$data.page);\n        })\n      }, \" Next \")) : _createCommentVNode(\"v-if\", true)])];\n    }),\n    _: 1\n    /* STABLE */\n\n  });\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","_createCommentVNode","class","scope","href","_createBlock","_component_Layout","_createVNode","_component_PageHeader","title","$data","items","_ctx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_createElementBlock","_Fragment","_renderList","Product","index","key","_toDisplayString","Id","Name","Slug","Brand","SKU","short_description","_component_router_link","to","name","params","id","_hoisted_7","onClick","$options","_hoisted_10","slice","pageNumber","_hoisted_14","length"],"sourceRoot":"","sources":["C:\\Projects\\success\\project_v.1.0.0\\src\\views\\products\\list.vue"],"sourcesContent":["<script>\nimport Layout from \"../../layouts/main.vue\";\nimport PageHeader from \"@/components/page-header\";\nimport appConfig from \"../../../app.config\";\nimport ProductsDataService from \"/src/services/ProductsDataService\";\n\nexport default {\n  \n  page: {\n    title: \"Basic Elements\",\n    meta: [{ name: \"description\", content: appConfig.description }],\n  },\n  \n data() {\n    return {\n       \n      Products: [],\n      currentProducts: null,\n      currentIndex: -1,\n      title: \"\",\n\n \n         PageRequest: {\n            Fields: [{\n               Name :'',\n               Value:'',\n               Operation:'',\n               Order:'',\n            }],\n            PageNumber:0,\n            PageLenght:0,\n            TotalRecords:0,\n            TotalPage:0,\n        },\n       page: 1,\n      perPage: 7,\n      pages: [],\n      jsonPages: {\n                PageNumber: 0,\n                TotalRecords:0,\n      },\n       jsonFields: [{\n                name:'',\n                value: ''\n      }],\n      search:\"\",\n    \n    }; \n       \n  },\n\n  components: {\n    Layout,\n    PageHeader,\n  },\n   methods: {\n    setPage(numPage){\n console.log(this.setPage)\n        this.page = numPage;\n         this.retrieveProducts();\n        \n    },\n    retrieveProducts() {\n         console.log(\"*******************\")\n          console.log(this.page)\n        this.jsonPages = {\n          pg_number:this.page,\n          pg_length: this.perPage\n      };\n\n      if (this.search!=\"\"){\n       this.jsonFields = [{\n          field:\"name\",\n          value: this.search\n       }];\n       }else{\n           this.jsonFields = [];\n       }\n\n\n       ProductsDataService.getAll(this.jsonFields,[],this.jsonPages)\n        .then(response => {\n         console.log(response.data)\n          this.Products = response.data.List;\n           \n          this.perPage = response.data.pg_length;\n          \n          this.page = response.data.pg_number;\n          \n          let i=0;\n          for(i=0; i<response.data.total_pg;i++){\n              this.pages[i]=i+1;\n           \n          }\n\n         \n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n\n    refreshList() {\n      this.retrieveProducts();\n      this.currentProducts = null;\n      this.currentIndex = -1;\n    },\n\n    setActiveProducts(products, index) {\n      this.currentProducts = products;\n      this.currentIndex = products ? index : -1;\n    },\n\n    removeAllProducts() {\n       ProductsDataService.deleteAll()\n        .then(response => {\n     \n          this.refreshList();\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    \n\n    getProductByName(){\n         this.retrieveProducts();\n         this.pages = [];\n      \n    },\n\n     deleteProduct(id) {\n     \n      ProductsDataService.delete(id)\n        .then(response => {\n        \n         \n        if (response.data.message = 202){\n        this.retrieveProducts();\n        console.log()\n        }\n        else{\n        return response.data.message}\n        \n        })\n        .catch(e => {\n          console.log(e);\n        });\n        \n    }\n  },\n  mounted() {\n    this.retrieveProducts();\n  },\n    \n};\n</script>\n\n<template>\n  <Layout>\n    <PageHeader :title=\"title\" :items=\"items\" />\n    \n    <div>\n    <h4>Products</h4>\n    </div>\n\n<div>\n <!-- search string -->\n</div>\n<p></p>\n  \n     <table class=\"table table-primary table-striped align-middle table-nowrap mb-0\">\n    <thead>\n        <tr>\n            <th scope=\"col\">Id</th>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Slug</th>\n            <th scope=\"col\">Brand</th>\n            <th scope=\"col\">SKU</th>\n            <th scope=\"col\">Short_description</th>\n            <th scope=\"col\"></th>\n            \n            \n        \n        </tr>\n    </thead>\n    <tbody>\n        <tr v-for=\"(Product, index) in Products\" :key=\"index\">\n    \n           \n            <td>{{ Product.Id }}</td>\n            <td>{{ Product.Name }}</td>\n            <td>{{ Product.Slug }}</td>\n            <td>{{ Product.Brand.Name}}</td>\n            <td>{{ Product.SKU}}</td>\n            <td>{{ Product.short_description}}</td>\n           \n            \n            <td>\n                <div class=\"hstack gap-3 flex-wrap\">\n                    <router-link :to=\"{name: 'ProductEdit', params: { id: Product.Id }}\"> <a href=\"javascript:void(0);\" class=\"link-primary fs-15\"><i class=\"ri-edit-2-line\"></i></a></router-link>\n                    <a href=\"javascript:void(0);\" class=\"link-success fs-15\"><i class=\"ri-delete-bin-line\" @click=\"deleteProduct(Product.Id)\"></i></a>\n                </div>\n            </td>\n        </tr>\n       \n    </tbody>\n    <p></p>\n</table>\n\n<div class=\"pagination-wrap hstack gap-2\">\n              <a\n                class=\"page-item pagination-prev disabled\"\n                href=\"#\"\n                v-if=\"page != 1\"\n                @click=\"setPage((--page))\"\n              >\n                Previous\n              </a>\n              <ul class=\"pagination listjs-pagination mb-0\">\n                <li\n                 :class=\"{\n                              active: pageNumber == page,\n                              disabled: pageNumber == '...',\n                            }\"\n                  v-for=\"(pageNumber, index) in pages.slice(page - 1, page + 5)\"\n                  :key=\"index\"\n                  @click=\"setPage(page = pageNumber)\"\n                >\n                  <a class=\"page\" href=\"#\"  @click=\"setPage(pageNumber)\">{{ pageNumber }}</a>\n                </li>\n              </ul>\n              <a\n                class=\"page-item pagination-next\"\n                href=\"#\"\n                @click=\"setPage(++page)\"\n                v-if=\"page < pages.length\"\n              >\n                Next\n              </a>\n            </div>\n\n\n\n\n    </Layout>\n</template>\n"]},"metadata":{},"sourceType":"module"}