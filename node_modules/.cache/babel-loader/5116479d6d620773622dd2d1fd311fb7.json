{"ast":null,"code":"import _defineProperty from \"C:/Projects/success/project_v.1.0.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"C:/Projects/success/project_v.1.0.0/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { defineComponent, h } from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { OPTION_IS_COMPLEX } from './options';\nimport { shallowCopy, mapHash } from './utils';\nimport { wrapVDomGenerator, createVueContentTypePlugin } from './custom-content-type';\nvar FullCalendar = defineComponent({\n  props: {\n    options: Object\n  },\n  data: initData,\n  render: function render() {\n    return h('div', {\n      // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n      attrs: {\n        'data-fc-render-id': this.renderId\n      }\n    });\n  },\n  mounted: function mounted() {\n    var internal = this.$options;\n    internal.slotOptions = mapHash(this.$slots, wrapVDomGenerator); // needed for buildOptions\n\n    var calendarOptions = this.buildOptions(this.options, this.$.appContext);\n    var calendar = new Calendar(this.$el, calendarOptions);\n    internal.calendar = calendar;\n    calendar.render();\n  },\n  methods: {\n    getApi: getApi,\n    buildOptions: buildOptions\n  },\n  beforeUpdate: function beforeUpdate() {\n    this.getApi().resumeRendering(); // the watcher handlers paused it\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.getApi().destroy();\n  },\n  watch: buildWatchers()\n});\nexport default FullCalendar;\n\nfunction initData() {\n  return {\n    renderId: 0\n  };\n}\n\nfunction buildOptions(suppliedOptions, appContext) {\n  var internal = this.$options;\n  suppliedOptions = suppliedOptions || {};\n  return _objectSpread(_objectSpread(_objectSpread({}, internal.slotOptions), suppliedOptions), {}, {\n    plugins: (suppliedOptions.plugins || []).concat([createVueContentTypePlugin(appContext)])\n  });\n}\n\nfunction getApi() {\n  var internal = this.$options;\n  return internal.calendar;\n}\n\nfunction buildWatchers() {\n  var watchers = {\n    // watches changes of ALL options and their nested objects,\n    // but this is only a means to be notified of top-level non-complex options changes.\n    options: {\n      deep: true,\n      handler: function handler(options) {\n        var calendar = this.getApi();\n        calendar.pauseRendering();\n        var calendarOptions = this.buildOptions(options, this.$.appContext);\n        calendar.resetOptions(calendarOptions);\n        this.renderId++; // will queue a rerender\n      }\n    }\n  };\n\n  var _loop = function _loop(complexOptionName) {\n    // handlers called when nested objects change\n    watchers[\"options.\".concat(complexOptionName)] = {\n      deep: true,\n      handler: function handler(val) {\n        // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n        if (val !== undefined) {\n          var calendar = this.getApi();\n          calendar.pauseRendering();\n          calendar.resetOptions(_defineProperty({}, complexOptionName, shallowCopy(val)), true);\n          this.renderId++; // will queue a rerender\n        }\n      }\n    };\n  };\n\n  for (var complexOptionName in OPTION_IS_COMPLEX) {\n    _loop(complexOptionName);\n  }\n\n  return watchers;\n}","map":{"version":3,"mappings":"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","names":["defineComponent","h","Calendar","OPTION_IS_COMPLEX","shallowCopy","mapHash","wrapVDomGenerator","createVueContentTypePlugin","FullCalendar","props","options","Object","data","initData","render","attrs","renderId","mounted","internal","$options","slotOptions","$slots","calendarOptions","buildOptions","$","appContext","calendar","$el","methods","getApi","beforeUpdate","resumeRendering","beforeUnmount","destroy","watch","buildWatchers","suppliedOptions","plugins","concat","watchers","deep","handler","pauseRendering","resetOptions","complexOptionName","val","undefined"],"sourceRoot":"","sources":["../src/FullCalendar.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}