{"ast":null,"code":"var _classCallCheck = require(\"C:/Users/Max/Desktop/project1.0.0-main/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"C:/Users/Max/Desktop/project1.0.0-main/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar _slicedToArray = require(\"C:/Users/Max/Desktop/project1.0.0-main/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nvar _toConsumableArray = require(\"C:/Users/Max/Desktop/project1.0.0-main/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\n\nvar _objectSpread = require(\"C:/Users/Max/Desktop/project1.0.0-main/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\n\nvar _createForOfIteratorHelper = require(\"C:/Users/Max/Desktop/project1.0.0-main/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n\nvar _typeof = require(\"C:/Users/Max/Desktop/project1.0.0-main/node_modules/@babel/runtime/helpers/typeof.js\").default;\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.symbol.to-string-tag.js\");\n\nrequire(\"core-js/modules/es.json.to-string-tag.js\");\n\nrequire(\"core-js/modules/es.math.to-string-tag.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.string.trim.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.number.constructor.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.string.match.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nrequire(\"core-js/modules/es.number.to-fixed.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.string.pad-start.js\");\n\nrequire(\"core-js/modules/es.string.starts-with.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.array.find.js\");\n\nrequire(\"core-js/modules/es.string.repeat.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.array.splice.js\");\n\n/*! Pickr 1.8.2 MIT | https://github.com/Simonwep/pickr */\n!function (t, e) {\n  \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) && \"object\" == (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports.Pickr = e() : t.Pickr = e();\n}(self, function () {\n  return function () {\n    \"use strict\";\n\n    var t = {\n      d: function d(e, o) {\n        for (var n in o) {\n          t.o(o, n) && !t.o(e, n) && Object.defineProperty(e, n, {\n            enumerable: !0,\n            get: o[n]\n          });\n        }\n      },\n      o: function o(t, e) {\n        return Object.prototype.hasOwnProperty.call(t, e);\n      },\n      r: function r(t) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n          value: \"Module\"\n        }), Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        });\n      }\n    },\n        e = {};\n    t.d(e, {\n      default: function _default() {\n        return L;\n      }\n    });\n    var o = {};\n\n    function n(t, e, o, n) {\n      var i = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n      e instanceof HTMLCollection || e instanceof NodeList ? e = Array.from(e) : Array.isArray(e) || (e = [e]), Array.isArray(o) || (o = [o]);\n\n      var _iterator = _createForOfIteratorHelper(e),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _s = _step.value;\n\n          var _iterator2 = _createForOfIteratorHelper(o),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _e = _step2.value;\n\n              _s[t](_e, n, _objectSpread({\n                capture: !1\n              }, i));\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return Array.prototype.slice.call(arguments, 1);\n    }\n\n    t.r(o), t.d(o, {\n      adjustableInputNumbers: function adjustableInputNumbers() {\n        return p;\n      },\n      createElementFromString: function createElementFromString() {\n        return r;\n      },\n      createFromTemplate: function createFromTemplate() {\n        return a;\n      },\n      eventPath: function eventPath() {\n        return l;\n      },\n      off: function off() {\n        return s;\n      },\n      on: function on() {\n        return i;\n      },\n      resolveElement: function resolveElement() {\n        return c;\n      }\n    });\n    var i = n.bind(null, \"addEventListener\"),\n        s = n.bind(null, \"removeEventListener\");\n\n    function r(t) {\n      var e = document.createElement(\"div\");\n      return e.innerHTML = t.trim(), e.firstElementChild;\n    }\n\n    function a(t) {\n      var e = function e(t, _e2) {\n        var o = t.getAttribute(_e2);\n        return t.removeAttribute(_e2), o;\n      },\n          o = function o(t) {\n        var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var i = e(t, \":obj\"),\n            s = e(t, \":ref\"),\n            r = i ? n[i] = {} : n;\n        s && (n[s] = t);\n\n        for (var _i = 0, _Array$from = Array.from(t.children); _i < _Array$from.length; _i++) {\n          var _n = _Array$from[_i];\n\n          var _t = e(_n, \":arr\"),\n              _i2 = o(_n, _t ? {} : r);\n\n          _t && (r[_t] || (r[_t] = [])).push(Object.keys(_i2).length ? _i2 : _n);\n        }\n\n        return n;\n      };\n\n      return o(r(t));\n    }\n\n    function l(t) {\n      var e = t.path || t.composedPath && t.composedPath();\n      if (e) return e;\n      var o = t.target.parentElement;\n\n      for (e = [t.target, o]; o = o.parentElement;) {\n        e.push(o);\n      }\n\n      return e.push(document, window), e;\n    }\n\n    function c(t) {\n      return t instanceof Element ? t : \"string\" == typeof t ? t.split(/>>/g).reduce(function (t, e, o, n) {\n        return t = t.querySelector(e), o < n.length - 1 ? t.shadowRoot : t;\n      }, document) : null;\n    }\n\n    function p(t) {\n      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (t) {\n        return t;\n      };\n\n      function o(o) {\n        var n = [.001, .01, .1][Number(o.shiftKey || 2 * o.ctrlKey)] * (o.deltaY < 0 ? 1 : -1);\n        var i = 0,\n            s = t.selectionStart;\n        t.value = t.value.replace(/[\\d.]+/g, function (t, o) {\n          return o <= s && o + t.length >= s ? (s = o, e(Number(t), n, i)) : (i++, t);\n        }), t.focus(), t.setSelectionRange(s, s), o.preventDefault(), t.dispatchEvent(new Event(\"input\"));\n      }\n\n      i(t, \"focus\", function () {\n        return i(window, \"wheel\", o, {\n          passive: !1\n        });\n      }), i(t, \"blur\", function () {\n        return s(window, \"wheel\", o);\n      });\n    }\n\n    var u = Math.min,\n        h = Math.max,\n        d = Math.floor,\n        m = Math.round;\n\n    function f(t, e, o) {\n      e /= 100, o /= 100;\n      var n = d(t = t / 360 * 6),\n          i = t - n,\n          s = o * (1 - e),\n          r = o * (1 - i * e),\n          a = o * (1 - (1 - i) * e),\n          l = n % 6;\n      return [255 * [o, r, s, s, a, o][l], 255 * [a, o, o, r, s, s][l], 255 * [s, s, a, o, o, r][l]];\n    }\n\n    function v(t, e, o) {\n      var n = (2 - (e /= 100)) * (o /= 100) / 2;\n      return 0 !== n && (e = 1 === n ? 0 : n < .5 ? e * o / (2 * n) : e * o / (2 - 2 * n)), [t, 100 * e, 100 * n];\n    }\n\n    function b(t, e, o) {\n      var n = u(t /= 255, e /= 255, o /= 255),\n          i = h(t, e, o),\n          s = i - n;\n      var r, a;\n      if (0 === s) r = a = 0;else {\n        a = s / i;\n\n        var _n2 = ((i - t) / 6 + s / 2) / s,\n            _l = ((i - e) / 6 + s / 2) / s,\n            _c = ((i - o) / 6 + s / 2) / s;\n\n        t === i ? r = _c - _l : e === i ? r = 1 / 3 + _n2 - _c : o === i && (r = 2 / 3 + _l - _n2), r < 0 ? r += 1 : r > 1 && (r -= 1);\n      }\n      return [360 * r, 100 * a, 100 * i];\n    }\n\n    function y(t, e, o, n) {\n      e /= 100, o /= 100;\n      return _toConsumableArray(b(255 * (1 - u(1, (t /= 100) * (1 - (n /= 100)) + n)), 255 * (1 - u(1, e * (1 - n) + n)), 255 * (1 - u(1, o * (1 - n) + n))));\n    }\n\n    function g(t, e, o) {\n      e /= 100;\n      var n = 2 * (e *= (o /= 100) < .5 ? o : 1 - o) / (o + e) * 100,\n          i = 100 * (o + e);\n      return [t, isNaN(n) ? 0 : n, i];\n    }\n\n    function _(t) {\n      return b.apply(void 0, _toConsumableArray(t.match(/.{2}/g).map(function (t) {\n        return parseInt(t, 16);\n      })));\n    }\n\n    function w(t) {\n      t = t.match(/^[a-zA-Z]+$/) ? function (t) {\n        if (\"black\" === t.toLowerCase()) return \"#000\";\n        var e = document.createElement(\"canvas\").getContext(\"2d\");\n        return e.fillStyle = t, \"#000\" === e.fillStyle ? null : e.fillStyle;\n      }(t) : t;\n\n      var e = {\n        cmyk: /^cmyk[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)/i,\n        rgba: /^((rgba)|rgb)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,\n        hsla: /^((hsla)|hsl)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,\n        hsva: /^((hsva)|hsv)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,\n        hexa: /^#?(([\\dA-Fa-f]{3,4})|([\\dA-Fa-f]{6})|([\\dA-Fa-f]{8}))$/i\n      },\n          o = function o(t) {\n        return t.map(function (t) {\n          return /^(|\\d+)\\.\\d+|\\d+$/.test(t) ? Number(t) : void 0;\n        });\n      };\n\n      var n;\n\n      t: for (var _i3 in e) {\n        if (!(n = e[_i3].exec(t))) continue;\n\n        var _s2 = function _s2(t) {\n          return !!n[2] == (\"number\" == typeof t);\n        };\n\n        switch (_i3) {\n          case \"cmyk\":\n            {\n              var _o = o(n),\n                  _o2 = _slicedToArray(_o, 5),\n                  _t2 = _o2[1],\n                  _e3 = _o2[2],\n                  _s3 = _o2[3],\n                  _r = _o2[4];\n\n              if (_t2 > 100 || _e3 > 100 || _s3 > 100 || _r > 100) break t;\n              return {\n                values: y(_t2, _e3, _s3, _r),\n                type: _i3\n              };\n            }\n\n          case \"rgba\":\n            {\n              var _o3 = o(n),\n                  _o4 = _slicedToArray(_o3, 7),\n                  _t3 = _o4[3],\n                  _e4 = _o4[4],\n                  _r2 = _o4[5],\n                  _a = _o4[6];\n\n              if (_t3 > 255 || _e4 > 255 || _r2 > 255 || _a < 0 || _a > 1 || !_s2(_a)) break t;\n              return {\n                values: [].concat(_toConsumableArray(b(_t3, _e4, _r2)), [_a]),\n                a: _a,\n                type: _i3\n              };\n            }\n\n          case \"hexa\":\n            {\n              var _n3 = n,\n                  _n4 = _slicedToArray(_n3, 2),\n                  _t4 = _n4[1];\n\n              4 !== _t4.length && 3 !== _t4.length || (_t4 = _t4.split(\"\").map(function (t) {\n                return t + t;\n              }).join(\"\"));\n\n              var _e5 = _t4.substring(0, 6);\n\n              var _o5 = _t4.substring(6);\n\n              return _o5 = _o5 ? parseInt(_o5, 16) / 255 : void 0, {\n                values: [].concat(_toConsumableArray(_(_e5)), [_o5]),\n                a: _o5,\n                type: _i3\n              };\n            }\n\n          case \"hsla\":\n            {\n              var _o6 = o(n),\n                  _o7 = _slicedToArray(_o6, 7),\n                  _t5 = _o7[3],\n                  _e6 = _o7[4],\n                  _r3 = _o7[5],\n                  _a2 = _o7[6];\n\n              if (_t5 > 360 || _e6 > 100 || _r3 > 100 || _a2 < 0 || _a2 > 1 || !_s2(_a2)) break t;\n              return {\n                values: [].concat(_toConsumableArray(g(_t5, _e6, _r3)), [_a2]),\n                a: _a2,\n                type: _i3\n              };\n            }\n\n          case \"hsva\":\n            {\n              var _o8 = o(n),\n                  _o9 = _slicedToArray(_o8, 7),\n                  _t6 = _o9[3],\n                  _e7 = _o9[4],\n                  _r4 = _o9[5],\n                  _a3 = _o9[6];\n\n              if (_t6 > 360 || _e7 > 100 || _r4 > 100 || _a3 < 0 || _a3 > 1 || !_s2(_a3)) break t;\n              return {\n                values: [_t6, _e7, _r4, _a3],\n                a: _a3,\n                type: _i3\n              };\n            }\n        }\n      }\n\n      return {\n        values: null,\n        type: null\n      };\n    }\n\n    function A() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n      var i = function i(t, e) {\n        return function () {\n          var o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n          return e(~o ? t.map(function (t) {\n            return Number(t.toFixed(o));\n          }) : t);\n        };\n      },\n          s = {\n        h: t,\n        s: e,\n        v: o,\n        a: n,\n        toHSVA: function toHSVA() {\n          var t = [s.h, s.s, s.v, s.a];\n          return t.toString = i(t, function (t) {\n            return \"hsva(\".concat(t[0], \", \").concat(t[1], \"%, \").concat(t[2], \"%, \").concat(s.a, \")\");\n          }), t;\n        },\n        toHSLA: function toHSLA() {\n          var t = [].concat(_toConsumableArray(v(s.h, s.s, s.v)), [s.a]);\n          return t.toString = i(t, function (t) {\n            return \"hsla(\".concat(t[0], \", \").concat(t[1], \"%, \").concat(t[2], \"%, \").concat(s.a, \")\");\n          }), t;\n        },\n        toRGBA: function toRGBA() {\n          var t = [].concat(_toConsumableArray(f(s.h, s.s, s.v)), [s.a]);\n          return t.toString = i(t, function (t) {\n            return \"rgba(\".concat(t[0], \", \").concat(t[1], \", \").concat(t[2], \", \").concat(s.a, \")\");\n          }), t;\n        },\n        toCMYK: function toCMYK() {\n          var t = function (t, e, o) {\n            var n = f(t, e, o),\n                i = n[0] / 255,\n                s = n[1] / 255,\n                r = n[2] / 255,\n                a = u(1 - i, 1 - s, 1 - r);\n            return [100 * (1 === a ? 0 : (1 - i - a) / (1 - a)), 100 * (1 === a ? 0 : (1 - s - a) / (1 - a)), 100 * (1 === a ? 0 : (1 - r - a) / (1 - a)), 100 * a];\n          }(s.h, s.s, s.v);\n\n          return t.toString = i(t, function (t) {\n            return \"cmyk(\".concat(t[0], \"%, \").concat(t[1], \"%, \").concat(t[2], \"%, \").concat(t[3], \"%)\");\n          }), t;\n        },\n        toHEXA: function toHEXA() {\n          var t = function (t, e, o) {\n            return f(t, e, o).map(function (t) {\n              return m(t).toString(16).padStart(2, \"0\");\n            });\n          }(s.h, s.s, s.v),\n              e = s.a >= 1 ? \"\" : Number((255 * s.a).toFixed(0)).toString(16).toUpperCase().padStart(2, \"0\");\n\n          return e && t.push(e), t.toString = function () {\n            return \"#\".concat(t.join(\"\").toUpperCase());\n          }, t;\n        },\n        clone: function clone() {\n          return A(s.h, s.s, s.v, s.a);\n        }\n      };\n\n      return s;\n    }\n\n    var C = function C(t) {\n      return Math.max(Math.min(t, 1), 0);\n    };\n\n    function $(t) {\n      var e = {\n        options: Object.assign({\n          lock: null,\n          onchange: function onchange() {\n            return 0;\n          },\n          onstop: function onstop() {\n            return 0;\n          }\n        }, t),\n        _keyboard: function _keyboard(t) {\n          var o = e.options,\n              n = t.type,\n              i = t.key;\n\n          if (document.activeElement === o.wrapper) {\n            var _o10 = e.options.lock,\n                _s4 = \"ArrowUp\" === i,\n                _r5 = \"ArrowRight\" === i,\n                _a4 = \"ArrowDown\" === i,\n                _l2 = \"ArrowLeft\" === i;\n\n            if (\"keydown\" === n && (_s4 || _r5 || _a4 || _l2)) {\n              var _n5 = 0,\n                  _i4 = 0;\n              \"v\" === _o10 ? _n5 = _s4 || _r5 ? 1 : -1 : \"h\" === _o10 ? _n5 = _s4 || _r5 ? -1 : 1 : (_i4 = _s4 ? -1 : _a4 ? 1 : 0, _n5 = _l2 ? -1 : _r5 ? 1 : 0), e.update(C(e.cache.x + .01 * _n5), C(e.cache.y + .01 * _i4)), t.preventDefault();\n            } else i.startsWith(\"Arrow\") && (e.options.onstop(), t.preventDefault());\n          }\n        },\n        _tapstart: function _tapstart(t) {\n          i(document, [\"mouseup\", \"touchend\", \"touchcancel\"], e._tapstop), i(document, [\"mousemove\", \"touchmove\"], e._tapmove), t.cancelable && t.preventDefault(), e._tapmove(t);\n        },\n        _tapmove: function _tapmove(t) {\n          var o = e.options,\n              n = e.cache,\n              i = o.lock,\n              s = o.element,\n              r = o.wrapper,\n              a = r.getBoundingClientRect();\n          var l = 0,\n              c = 0;\n\n          if (t) {\n            var _e8 = t && t.touches && t.touches[0];\n\n            l = t ? (_e8 || t).clientX : 0, c = t ? (_e8 || t).clientY : 0, l < a.left ? l = a.left : l > a.left + a.width && (l = a.left + a.width), c < a.top ? c = a.top : c > a.top + a.height && (c = a.top + a.height), l -= a.left, c -= a.top;\n          } else n && (l = n.x * a.width, c = n.y * a.height);\n\n          \"h\" !== i && (s.style.left = \"calc(\".concat(l / a.width * 100, \"% - \").concat(s.offsetWidth / 2, \"px)\")), \"v\" !== i && (s.style.top = \"calc(\".concat(c / a.height * 100, \"% - \").concat(s.offsetHeight / 2, \"px)\")), e.cache = {\n            x: l / a.width,\n            y: c / a.height\n          };\n          var p = C(l / a.width),\n              u = C(c / a.height);\n\n          switch (i) {\n            case \"v\":\n              return o.onchange(p);\n\n            case \"h\":\n              return o.onchange(u);\n\n            default:\n              return o.onchange(p, u);\n          }\n        },\n        _tapstop: function _tapstop() {\n          e.options.onstop(), s(document, [\"mouseup\", \"touchend\", \"touchcancel\"], e._tapstop), s(document, [\"mousemove\", \"touchmove\"], e._tapmove);\n        },\n        trigger: function trigger() {\n          e._tapmove();\n        },\n        update: function update() {\n          var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n          var _e$options$wrapper$ge = e.options.wrapper.getBoundingClientRect(),\n              n = _e$options$wrapper$ge.left,\n              i = _e$options$wrapper$ge.top,\n              s = _e$options$wrapper$ge.width,\n              r = _e$options$wrapper$ge.height;\n\n          \"h\" === e.options.lock && (o = t), e._tapmove({\n            clientX: n + s * t,\n            clientY: i + r * o\n          });\n        },\n        destroy: function destroy() {\n          var t = e.options,\n              o = e._tapstart,\n              n = e._keyboard;\n          s(document, [\"keydown\", \"keyup\"], n), s([t.wrapper, t.element], \"mousedown\", o), s([t.wrapper, t.element], \"touchstart\", o, {\n            passive: !1\n          });\n        }\n      },\n          o = e.options,\n          n = e._tapstart,\n          r = e._keyboard;\n      return i([o.wrapper, o.element], \"mousedown\", n), i([o.wrapper, o.element], \"touchstart\", n, {\n        passive: !1\n      }), i(document, [\"keydown\", \"keyup\"], r), e;\n    }\n\n    function k() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      t = Object.assign({\n        onchange: function onchange() {\n          return 0;\n        },\n        className: \"\",\n        elements: []\n      }, t);\n      var e = i(t.elements, \"click\", function (e) {\n        t.elements.forEach(function (o) {\n          return o.classList[e.target === o ? \"add\" : \"remove\"](t.className);\n        }), t.onchange(e), e.stopPropagation();\n      });\n      return {\n        destroy: function destroy() {\n          return s.apply(void 0, _toConsumableArray(e));\n        }\n      };\n    }\n\n    var S = {\n      variantFlipOrder: {\n        start: \"sme\",\n        middle: \"mse\",\n        end: \"ems\"\n      },\n      positionFlipOrder: {\n        top: \"tbrl\",\n        right: \"rltb\",\n        bottom: \"btrl\",\n        left: \"lrbt\"\n      },\n      position: \"bottom\",\n      margin: 8\n    },\n        O = function O(t, e, o) {\n      var _container$S$o = _objectSpread(_objectSpread({\n        container: document.documentElement.getBoundingClientRect()\n      }, S), o),\n          n = _container$S$o.container,\n          i = _container$S$o.margin,\n          s = _container$S$o.position,\n          r = _container$S$o.variantFlipOrder,\n          a = _container$S$o.positionFlipOrder,\n          _e$style = e.style,\n          l = _e$style.left,\n          c = _e$style.top;\n\n      e.style.left = \"0\", e.style.top = \"0\";\n\n      var p = t.getBoundingClientRect(),\n          u = e.getBoundingClientRect(),\n          h = {\n        t: p.top - u.height - i,\n        b: p.bottom + i,\n        r: p.right + i,\n        l: p.left - u.width - i\n      },\n          d = {\n        vs: p.left,\n        vm: p.left + p.width / 2 + -u.width / 2,\n        ve: p.left + p.width - u.width,\n        hs: p.top,\n        hm: p.bottom - p.height / 2 - u.height / 2,\n        he: p.bottom - u.height\n      },\n          _s$split = s.split(\"-\"),\n          _s$split2 = _slicedToArray(_s$split, 2),\n          m = _s$split2[0],\n          _s$split2$ = _s$split2[1],\n          f = _s$split2$ === void 0 ? \"middle\" : _s$split2$,\n          v = a[m],\n          b = r[f],\n          y = n.top,\n          g = n.left,\n          _ = n.bottom,\n          w = n.right;\n\n      var _iterator3 = _createForOfIteratorHelper(v),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _t7 = _step3.value;\n\n          var _o11 = \"t\" === _t7 || \"b\" === _t7,\n              _n6 = h[_t7],\n              _ref = _o11 ? [\"top\", \"left\"] : [\"left\", \"top\"],\n              _ref2 = _slicedToArray(_ref, 2),\n              _i5 = _ref2[0],\n              _s5 = _ref2[1],\n              _ref3 = _o11 ? [u.height, u.width] : [u.width, u.height],\n              _ref4 = _slicedToArray(_ref3, 2),\n              _r6 = _ref4[0],\n              _a5 = _ref4[1],\n              _ref5 = _o11 ? [_, w] : [w, _],\n              _ref6 = _slicedToArray(_ref5, 2),\n              _l3 = _ref6[0],\n              _c2 = _ref6[1],\n              _ref7 = _o11 ? [y, g] : [g, y],\n              _ref8 = _slicedToArray(_ref7, 2),\n              _p = _ref8[0],\n              _m = _ref8[1];\n\n          if (!(_n6 < _p || _n6 + _r6 > _l3)) {\n            var _iterator4 = _createForOfIteratorHelper(b),\n                _step4;\n\n            try {\n              for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                var _r7 = _step4.value;\n                var _l4 = d[(_o11 ? \"v\" : \"h\") + _r7];\n                if (!(_l4 < _m || _l4 + _a5 > _c2)) return e.style[_s5] = _l4 - u[_s5] + \"px\", e.style[_i5] = _n6 - u[_i5] + \"px\", _t7 + _r7;\n              }\n            } catch (err) {\n              _iterator4.e(err);\n            } finally {\n              _iterator4.f();\n            }\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return e.style.left = l, e.style.top = c, null;\n    };\n\n    function E(t, e, o) {\n      return e in t ? Object.defineProperty(t, e, {\n        value: o,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : t[e] = o, t;\n    }\n\n    var L = /*#__PURE__*/function () {\n      function L(t) {\n        var _this = this;\n\n        _classCallCheck(this, L);\n\n        E(this, \"_initializingActive\", !0), E(this, \"_recalc\", !0), E(this, \"_nanopop\", null), E(this, \"_root\", null), E(this, \"_color\", A()), E(this, \"_lastColor\", A()), E(this, \"_swatchColors\", []), E(this, \"_setupAnimationFrame\", null), E(this, \"_eventListener\", {\n          init: [],\n          save: [],\n          hide: [],\n          show: [],\n          clear: [],\n          change: [],\n          changestop: [],\n          cancel: [],\n          swatchselect: []\n        }), this.options = t = Object.assign(_objectSpread({}, L.DEFAULT_OPTIONS), t);\n        var _t8 = t,\n            e = _t8.swatches,\n            o = _t8.components,\n            n = _t8.theme,\n            i = _t8.sliders,\n            s = _t8.lockOpacity,\n            r = _t8.padding;\n        [\"nano\", \"monolith\"].includes(n) && !i && (t.sliders = \"h\"), o.interaction || (o.interaction = {});\n        var a = o.preview,\n            l = o.opacity,\n            c = o.hue,\n            p = o.palette;\n        o.opacity = !s && l, o.palette = p || a || l || c, this._preBuild(), this._buildComponents(), this._bindEvents(), this._finalBuild(), e && e.length && e.forEach(function (t) {\n          return _this.addSwatch(t);\n        });\n        var _this$_root = this._root,\n            u = _this$_root.button,\n            h = _this$_root.app;\n        this._nanopop = function (t, e, o) {\n          var n = \"object\" != _typeof(t) || t instanceof HTMLElement ? _objectSpread({\n            reference: t,\n            popper: e\n          }, o) : t;\n          return {\n            update: function update() {\n              var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : n;\n\n              var _Object$assign = Object.assign(n, t),\n                  e = _Object$assign.reference,\n                  o = _Object$assign.popper;\n\n              if (!o || !e) throw new Error(\"Popper- or reference-element missing.\");\n              return O(e, o, n);\n            }\n          };\n        }(u, h, {\n          margin: r\n        }), u.setAttribute(\"role\", \"button\"), u.setAttribute(\"aria-label\", this._t(\"btn:toggle\"));\n        var d = this;\n        this._setupAnimationFrame = requestAnimationFrame(function e() {\n          if (!h.offsetWidth) return requestAnimationFrame(e);\n          d.setColor(t.default), d._rePositioningPicker(), t.defaultRepresentation && (d._representation = t.defaultRepresentation, d.setColorRepresentation(d._representation)), t.showAlways && d.show(), d._initializingActive = !1, d._emit(\"init\");\n        });\n      }\n\n      _createClass(L, [{\n        key: \"_preBuild\",\n        value: function _preBuild() {\n          var t = this.options;\n\n          for (var _i6 = 0, _arr = [\"el\", \"container\"]; _i6 < _arr.length; _i6++) {\n            var _e9 = _arr[_i6];\n            t[_e9] = c(t[_e9]);\n          }\n\n          this._root = function (t) {\n            var _t$options = t.options,\n                e = _t$options.components,\n                o = _t$options.useAsButton,\n                n = _t$options.inline,\n                i = _t$options.appClass,\n                s = _t$options.theme,\n                r = _t$options.lockOpacity,\n                l = function l(t) {\n              return t ? \"\" : 'style=\"display:none\" hidden';\n            },\n                c = function c(e) {\n              return t._t(e);\n            },\n                p = a(\"\\n      <div :ref=\\\"root\\\" class=\\\"pickr\\\">\\n\\n        \".concat(o ? \"\" : '<button type=\"button\" :ref=\"button\" class=\"pcr-button\"></button>', \"\\n\\n        <div :ref=\\\"app\\\" class=\\\"pcr-app \").concat(i || \"\", \"\\\" data-theme=\\\"\").concat(s, \"\\\" \").concat(n ? 'style=\"position: unset\"' : \"\", \" aria-label=\\\"\").concat(c(\"ui:dialog\"), \"\\\" role=\\\"window\\\">\\n          <div class=\\\"pcr-selection\\\" \").concat(l(e.palette), \">\\n            <div :obj=\\\"preview\\\" class=\\\"pcr-color-preview\\\" \").concat(l(e.preview), \">\\n              <button type=\\\"button\\\" :ref=\\\"lastColor\\\" class=\\\"pcr-last-color\\\" aria-label=\\\"\").concat(c(\"btn:last-color\"), \"\\\"></button>\\n              <div :ref=\\\"currentColor\\\" class=\\\"pcr-current-color\\\"></div>\\n            </div>\\n\\n            <div :obj=\\\"palette\\\" class=\\\"pcr-color-palette\\\">\\n              <div :ref=\\\"picker\\\" class=\\\"pcr-picker\\\"></div>\\n              <div :ref=\\\"palette\\\" class=\\\"pcr-palette\\\" tabindex=\\\"0\\\" aria-label=\\\"\").concat(c(\"aria:palette\"), \"\\\" role=\\\"listbox\\\"></div>\\n            </div>\\n\\n            <div :obj=\\\"hue\\\" class=\\\"pcr-color-chooser\\\" \").concat(l(e.hue), \">\\n              <div :ref=\\\"picker\\\" class=\\\"pcr-picker\\\"></div>\\n              <div :ref=\\\"slider\\\" class=\\\"pcr-hue pcr-slider\\\" tabindex=\\\"0\\\" aria-label=\\\"\").concat(c(\"aria:hue\"), \"\\\" role=\\\"slider\\\"></div>\\n            </div>\\n\\n            <div :obj=\\\"opacity\\\" class=\\\"pcr-color-opacity\\\" \").concat(l(e.opacity), \">\\n              <div :ref=\\\"picker\\\" class=\\\"pcr-picker\\\"></div>\\n              <div :ref=\\\"slider\\\" class=\\\"pcr-opacity pcr-slider\\\" tabindex=\\\"0\\\" aria-label=\\\"\").concat(c(\"aria:opacity\"), \"\\\" role=\\\"slider\\\"></div>\\n            </div>\\n          </div>\\n\\n          <div class=\\\"pcr-swatches \").concat(e.palette ? \"\" : \"pcr-last\", \"\\\" :ref=\\\"swatches\\\"></div>\\n\\n          <div :obj=\\\"interaction\\\" class=\\\"pcr-interaction\\\" \").concat(l(Object.keys(e.interaction).length), \">\\n            <input :ref=\\\"result\\\" class=\\\"pcr-result\\\" type=\\\"text\\\" spellcheck=\\\"false\\\" \").concat(l(e.interaction.input), \" aria-label=\\\"\").concat(c(\"aria:input\"), \"\\\">\\n\\n            <input :arr=\\\"options\\\" class=\\\"pcr-type\\\" data-type=\\\"HEXA\\\" value=\\\"\").concat(r ? \"HEX\" : \"HEXA\", \"\\\" type=\\\"button\\\" \").concat(l(e.interaction.hex), \">\\n            <input :arr=\\\"options\\\" class=\\\"pcr-type\\\" data-type=\\\"RGBA\\\" value=\\\"\").concat(r ? \"RGB\" : \"RGBA\", \"\\\" type=\\\"button\\\" \").concat(l(e.interaction.rgba), \">\\n            <input :arr=\\\"options\\\" class=\\\"pcr-type\\\" data-type=\\\"HSLA\\\" value=\\\"\").concat(r ? \"HSL\" : \"HSLA\", \"\\\" type=\\\"button\\\" \").concat(l(e.interaction.hsla), \">\\n            <input :arr=\\\"options\\\" class=\\\"pcr-type\\\" data-type=\\\"HSVA\\\" value=\\\"\").concat(r ? \"HSV\" : \"HSVA\", \"\\\" type=\\\"button\\\" \").concat(l(e.interaction.hsva), \">\\n            <input :arr=\\\"options\\\" class=\\\"pcr-type\\\" data-type=\\\"CMYK\\\" value=\\\"CMYK\\\" type=\\\"button\\\" \").concat(l(e.interaction.cmyk), \">\\n\\n            <input :ref=\\\"save\\\" class=\\\"pcr-save\\\" value=\\\"\").concat(c(\"btn:save\"), \"\\\" type=\\\"button\\\" \").concat(l(e.interaction.save), \" aria-label=\\\"\").concat(c(\"aria:btn:save\"), \"\\\">\\n            <input :ref=\\\"cancel\\\" class=\\\"pcr-cancel\\\" value=\\\"\").concat(c(\"btn:cancel\"), \"\\\" type=\\\"button\\\" \").concat(l(e.interaction.cancel), \" aria-label=\\\"\").concat(c(\"aria:btn:cancel\"), \"\\\">\\n            <input :ref=\\\"clear\\\" class=\\\"pcr-clear\\\" value=\\\"\").concat(c(\"btn:clear\"), \"\\\" type=\\\"button\\\" \").concat(l(e.interaction.clear), \" aria-label=\\\"\").concat(c(\"aria:btn:clear\"), \"\\\">\\n          </div>\\n        </div>\\n      </div>\\n    \")),\n                u = p.interaction;\n\n            return u.options.find(function (t) {\n              return !t.hidden && !t.classList.add(\"active\");\n            }), u.type = function () {\n              return u.options.find(function (t) {\n                return t.classList.contains(\"active\");\n              });\n            }, p;\n          }(this), t.useAsButton && (this._root.button = t.el), t.container.appendChild(this._root.root);\n        }\n      }, {\n        key: \"_finalBuild\",\n        value: function _finalBuild() {\n          var t = this.options,\n              e = this._root;\n\n          if (t.container.removeChild(e.root), t.inline) {\n            var _o12 = t.el.parentElement;\n            t.el.nextSibling ? _o12.insertBefore(e.app, t.el.nextSibling) : _o12.appendChild(e.app);\n          } else t.container.appendChild(e.app);\n\n          t.useAsButton ? t.inline && t.el.remove() : t.el.parentNode.replaceChild(e.root, t.el), t.disabled && this.disable(), t.comparison || (e.button.style.transition = \"none\", t.useAsButton || (e.preview.lastColor.style.transition = \"none\")), this.hide();\n        }\n      }, {\n        key: \"_buildComponents\",\n        value: function _buildComponents() {\n          var _this2 = this;\n\n          var t = this,\n              e = this.options.components,\n              o = (t.options.sliders || \"v\").repeat(2),\n              _ref9 = o.match(/^[vh]+$/g) ? o : [],\n              _ref10 = _slicedToArray(_ref9, 2),\n              n = _ref10[0],\n              i = _ref10[1],\n              s = function s() {\n            return _this2._color || (_this2._color = _this2._lastColor.clone());\n          },\n              r = {\n            palette: $({\n              element: t._root.palette.picker,\n              wrapper: t._root.palette.palette,\n              onstop: function onstop() {\n                return t._emit(\"changestop\", \"slider\", t);\n              },\n              onchange: function onchange(o, n) {\n                if (!e.palette) return;\n                var i = s(),\n                    r = t._root,\n                    a = t.options,\n                    _r$preview = r.preview,\n                    l = _r$preview.lastColor,\n                    c = _r$preview.currentColor;\n                t._recalc && (i.s = 100 * o, i.v = 100 - 100 * n, i.v < 0 && (i.v = 0), t._updateOutput(\"slider\"));\n                var p = i.toRGBA().toString(0);\n                this.element.style.background = p, this.wrapper.style.background = \"\\n                        linear-gradient(to top, rgba(0, 0, 0, \".concat(i.a, \"), transparent),\\n                        linear-gradient(to left, hsla(\").concat(i.h, \", 100%, 50%, \").concat(i.a, \"), rgba(255, 255, 255, \").concat(i.a, \"))\\n                    \"), a.comparison ? a.useAsButton || t._lastColor || l.style.setProperty(\"--pcr-color\", p) : (r.button.style.setProperty(\"--pcr-color\", p), r.button.classList.remove(\"clear\"));\n                var u = i.toHEXA().toString();\n\n                var _iterator5 = _createForOfIteratorHelper(t._swatchColors),\n                    _step5;\n\n                try {\n                  for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                    var _step5$value = _step5.value,\n                        _e10 = _step5$value.el,\n                        _o13 = _step5$value.color;\n\n                    _e10.classList[u === _o13.toHEXA().toString() ? \"add\" : \"remove\"](\"pcr-active\");\n                  }\n                } catch (err) {\n                  _iterator5.e(err);\n                } finally {\n                  _iterator5.f();\n                }\n\n                c.style.setProperty(\"--pcr-color\", p);\n              }\n            }),\n            hue: $({\n              lock: \"v\" === i ? \"h\" : \"v\",\n              element: t._root.hue.picker,\n              wrapper: t._root.hue.slider,\n              onstop: function onstop() {\n                return t._emit(\"changestop\", \"slider\", t);\n              },\n              onchange: function onchange(o) {\n                if (!e.hue || !e.palette) return;\n                var n = s();\n                t._recalc && (n.h = 360 * o), this.element.style.backgroundColor = \"hsl(\".concat(n.h, \", 100%, 50%)\"), r.palette.trigger();\n              }\n            }),\n            opacity: $({\n              lock: \"v\" === n ? \"h\" : \"v\",\n              element: t._root.opacity.picker,\n              wrapper: t._root.opacity.slider,\n              onstop: function onstop() {\n                return t._emit(\"changestop\", \"slider\", t);\n              },\n              onchange: function onchange(o) {\n                if (!e.opacity || !e.palette) return;\n                var n = s();\n                t._recalc && (n.a = Math.round(100 * o) / 100), this.element.style.background = \"rgba(0, 0, 0, \".concat(n.a, \")\"), r.palette.trigger();\n              }\n            }),\n            selectable: k({\n              elements: t._root.interaction.options,\n              className: \"active\",\n              onchange: function onchange(e) {\n                t._representation = e.target.getAttribute(\"data-type\").toUpperCase(), t._recalc && t._updateOutput(\"swatch\");\n              }\n            })\n          };\n\n          this._components = r;\n        }\n      }, {\n        key: \"_bindEvents\",\n        value: function _bindEvents() {\n          var _this3 = this;\n\n          var t = this._root,\n              e = this.options,\n              o = [i(t.interaction.clear, \"click\", function () {\n            return _this3._clearColor();\n          }), i([t.interaction.cancel, t.preview.lastColor], \"click\", function () {\n            _this3.setHSVA.apply(_this3, _toConsumableArray((_this3._lastColor || _this3._color).toHSVA()).concat([!0])), _this3._emit(\"cancel\");\n          }), i(t.interaction.save, \"click\", function () {\n            !_this3.applyColor() && !e.showAlways && _this3.hide();\n          }), i(t.interaction.result, [\"keyup\", \"input\"], function (t) {\n            _this3.setColor(t.target.value, !0) && !_this3._initializingActive && (_this3._emit(\"change\", _this3._color, \"input\", _this3), _this3._emit(\"changestop\", \"input\", _this3)), t.stopImmediatePropagation();\n          }), i(t.interaction.result, [\"focus\", \"blur\"], function (t) {\n            _this3._recalc = \"blur\" === t.type, _this3._recalc && _this3._updateOutput(null);\n          }), i([t.palette.palette, t.palette.picker, t.hue.slider, t.hue.picker, t.opacity.slider, t.opacity.picker], [\"mousedown\", \"touchstart\"], function () {\n            return _this3._recalc = !0;\n          }, {\n            passive: !0\n          })];\n\n          if (!e.showAlways) {\n            var _n7 = e.closeWithKey;\n            o.push(i(t.button, \"click\", function () {\n              return _this3.isOpen() ? _this3.hide() : _this3.show();\n            }), i(document, \"keyup\", function (t) {\n              return _this3.isOpen() && (t.key === _n7 || t.code === _n7) && _this3.hide();\n            }), i(document, [\"touchstart\", \"mousedown\"], function (e) {\n              _this3.isOpen() && !l(e).some(function (e) {\n                return e === t.app || e === t.button;\n              }) && _this3.hide();\n            }, {\n              capture: !0\n            }));\n          }\n\n          if (e.adjustableNumbers) {\n            var _e11 = {\n              rgba: [255, 255, 255, 1],\n              hsva: [360, 100, 100, 1],\n              hsla: [360, 100, 100, 1],\n              cmyk: [100, 100, 100, 100]\n            };\n            p(t.interaction.result, function (t, o, n) {\n              var i = _e11[_this3.getColorRepresentation().toLowerCase()];\n\n              if (i) {\n                var _e12 = i[n],\n                    _s6 = t + (_e12 >= 100 ? 1e3 * o : o);\n\n                return _s6 <= 0 ? 0 : Number((_s6 < _e12 ? _s6 : _e12).toPrecision(3));\n              }\n\n              return t;\n            });\n          }\n\n          if (e.autoReposition && !e.inline) {\n            var _t9 = null;\n\n            var _n8 = this;\n\n            o.push(i(window, [\"scroll\", \"resize\"], function () {\n              _n8.isOpen() && (e.closeOnScroll && _n8.hide(), null === _t9 ? (_t9 = setTimeout(function () {\n                return _t9 = null;\n              }, 100), requestAnimationFrame(function e() {\n                _n8._rePositioningPicker(), null !== _t9 && requestAnimationFrame(e);\n              })) : (clearTimeout(_t9), _t9 = setTimeout(function () {\n                return _t9 = null;\n              }, 100)));\n            }, {\n              capture: !0\n            }));\n          }\n\n          this._eventBindings = o;\n        }\n      }, {\n        key: \"_rePositioningPicker\",\n        value: function _rePositioningPicker() {\n          var t = this.options;\n\n          if (!t.inline) {\n            if (!this._nanopop.update({\n              container: document.body.getBoundingClientRect(),\n              position: t.position\n            })) {\n              var _t10 = this._root.app,\n                  _e13 = _t10.getBoundingClientRect();\n\n              _t10.style.top = (window.innerHeight - _e13.height) / 2 + \"px\", _t10.style.left = (window.innerWidth - _e13.width) / 2 + \"px\";\n            }\n          }\n        }\n      }, {\n        key: \"_updateOutput\",\n        value: function _updateOutput(t) {\n          var e = this._root,\n              o = this._color,\n              n = this.options;\n\n          if (e.interaction.type()) {\n            var _t11 = \"to\".concat(e.interaction.type().getAttribute(\"data-type\"));\n\n            e.interaction.result.value = \"function\" == typeof o[_t11] ? o[_t11]().toString(n.outputPrecision) : \"\";\n          }\n\n          !this._initializingActive && this._recalc && this._emit(\"change\", o, t, this);\n        }\n      }, {\n        key: \"_clearColor\",\n        value: function _clearColor() {\n          var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n          var e = this._root,\n              o = this.options;\n          o.useAsButton || e.button.style.setProperty(\"--pcr-color\", \"rgba(0, 0, 0, 0.15)\"), e.button.classList.add(\"clear\"), o.showAlways || this.hide(), this._lastColor = null, this._initializingActive || t || (this._emit(\"save\", null), this._emit(\"clear\"));\n        }\n      }, {\n        key: \"_parseLocalColor\",\n        value: function _parseLocalColor(t) {\n          var _w = w(t),\n              e = _w.values,\n              o = _w.type,\n              n = _w.a,\n              i = this.options.lockOpacity,\n              s = void 0 !== n && 1 !== n;\n\n          return e && 3 === e.length && (e[3] = void 0), {\n            values: !e || i && s ? null : e,\n            type: o\n          };\n        }\n      }, {\n        key: \"_t\",\n        value: function _t(t) {\n          return this.options.i18n[t] || L.I18N_DEFAULTS[t];\n        }\n      }, {\n        key: \"_emit\",\n        value: function _emit(t) {\n          var _this4 = this;\n\n          for (var _len = arguments.length, e = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            e[_key - 1] = arguments[_key];\n          }\n\n          this._eventListener[t].forEach(function (t) {\n            return t.apply(void 0, e.concat([_this4]));\n          });\n        }\n      }, {\n        key: \"on\",\n        value: function on(t, e) {\n          return this._eventListener[t].push(e), this;\n        }\n      }, {\n        key: \"off\",\n        value: function off(t, e) {\n          var o = this._eventListener[t] || [],\n              n = o.indexOf(e);\n          return ~n && o.splice(n, 1), this;\n        }\n      }, {\n        key: \"addSwatch\",\n        value: function addSwatch(t) {\n          var _this5 = this;\n\n          var _this$_parseLocalColo = this._parseLocalColor(t),\n              e = _this$_parseLocalColo.values;\n\n          if (e) {\n            var _t12 = this._swatchColors,\n                _o14 = this._root,\n                _n9 = A.apply(void 0, _toConsumableArray(e)),\n                _s7 = r(\"<button type=\\\"button\\\" style=\\\"--pcr-color: \".concat(_n9.toRGBA().toString(0), \"\\\" aria-label=\\\"\").concat(this._t(\"btn:swatch\"), \"\\\"/>\"));\n\n            return _o14.swatches.appendChild(_s7), _t12.push({\n              el: _s7,\n              color: _n9\n            }), this._eventBindings.push(i(_s7, \"click\", function () {\n              _this5.setHSVA.apply(_this5, _toConsumableArray(_n9.toHSVA()).concat([!0])), _this5._emit(\"swatchselect\", _n9), _this5._emit(\"change\", _n9, \"swatch\", _this5);\n            })), !0;\n          }\n\n          return !1;\n        }\n      }, {\n        key: \"removeSwatch\",\n        value: function removeSwatch(t) {\n          var e = this._swatchColors[t];\n\n          if (e) {\n            var _o15 = e.el;\n            return this._root.swatches.removeChild(_o15), this._swatchColors.splice(t, 1), !0;\n          }\n\n          return !1;\n        }\n      }, {\n        key: \"applyColor\",\n        value: function applyColor() {\n          var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n\n          var _this$_root2 = this._root,\n              e = _this$_root2.preview,\n              o = _this$_root2.button,\n              n = this._color.toRGBA().toString(0);\n\n          return e.lastColor.style.setProperty(\"--pcr-color\", n), this.options.useAsButton || o.style.setProperty(\"--pcr-color\", n), o.classList.remove(\"clear\"), this._lastColor = this._color.clone(), this._initializingActive || t || this._emit(\"save\", this._color), this;\n        }\n      }, {\n        key: \"destroy\",\n        value: function destroy() {\n          var _this6 = this;\n\n          cancelAnimationFrame(this._setupAnimationFrame), this._eventBindings.forEach(function (t) {\n            return s.apply(void 0, _toConsumableArray(t));\n          }), Object.keys(this._components).forEach(function (t) {\n            return _this6._components[t].destroy();\n          });\n        }\n      }, {\n        key: \"destroyAndRemove\",\n        value: function destroyAndRemove() {\n          var _this7 = this;\n\n          this.destroy();\n          var _this$_root3 = this._root,\n              t = _this$_root3.root,\n              e = _this$_root3.app;\n          t.parentElement && t.parentElement.removeChild(t), e.parentElement.removeChild(e), Object.keys(this).forEach(function (t) {\n            return _this7[t] = null;\n          });\n        }\n      }, {\n        key: \"hide\",\n        value: function hide() {\n          return !!this.isOpen() && (this._root.app.classList.remove(\"visible\"), this._emit(\"hide\"), !0);\n        }\n      }, {\n        key: \"show\",\n        value: function show() {\n          return !this.options.disabled && !this.isOpen() && (this._root.app.classList.add(\"visible\"), this._rePositioningPicker(), this._emit(\"show\", this._color), this);\n        }\n      }, {\n        key: \"isOpen\",\n        value: function isOpen() {\n          return this._root.app.classList.contains(\"visible\");\n        }\n      }, {\n        key: \"setHSVA\",\n        value: function setHSVA() {\n          var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 360;\n          var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          var o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n          var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n          var i = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n          var s = this._recalc;\n          if (this._recalc = !1, t < 0 || t > 360 || e < 0 || e > 100 || o < 0 || o > 100 || n < 0 || n > 1) return !1;\n          this._color = A(t, e, o, n);\n          var _this$_components = this._components,\n              r = _this$_components.hue,\n              a = _this$_components.opacity,\n              l = _this$_components.palette;\n          return r.update(t / 360), a.update(n), l.update(e / 100, 1 - o / 100), i || this.applyColor(), s && this._updateOutput(), this._recalc = s, !0;\n        }\n      }, {\n        key: \"setColor\",\n        value: function setColor(t) {\n          var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n          if (null === t) return this._clearColor(e), !0;\n\n          var _this$_parseLocalColo2 = this._parseLocalColor(t),\n              o = _this$_parseLocalColo2.values,\n              n = _this$_parseLocalColo2.type;\n\n          if (o) {\n            var _t13 = n.toUpperCase(),\n                _i7 = this._root.interaction.options,\n                _s8 = _i7.find(function (e) {\n              return e.getAttribute(\"data-type\") === _t13;\n            });\n\n            if (_s8 && !_s8.hidden) {\n              var _iterator6 = _createForOfIteratorHelper(_i7),\n                  _step6;\n\n              try {\n                for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                  var _t14 = _step6.value;\n\n                  _t14.classList[_t14 === _s8 ? \"add\" : \"remove\"](\"active\");\n                }\n              } catch (err) {\n                _iterator6.e(err);\n              } finally {\n                _iterator6.f();\n              }\n            }\n\n            return !!this.setHSVA.apply(this, _toConsumableArray(o).concat([e])) && this.setColorRepresentation(_t13);\n          }\n\n          return !1;\n        }\n      }, {\n        key: \"setColorRepresentation\",\n        value: function setColorRepresentation(t) {\n          return t = t.toUpperCase(), !!this._root.interaction.options.find(function (e) {\n            return e.getAttribute(\"data-type\").startsWith(t) && !e.click();\n          });\n        }\n      }, {\n        key: \"getColorRepresentation\",\n        value: function getColorRepresentation() {\n          return this._representation;\n        }\n      }, {\n        key: \"getColor\",\n        value: function getColor() {\n          return this._color;\n        }\n      }, {\n        key: \"getSelectedColor\",\n        value: function getSelectedColor() {\n          return this._lastColor;\n        }\n      }, {\n        key: \"getRoot\",\n        value: function getRoot() {\n          return this._root;\n        }\n      }, {\n        key: \"disable\",\n        value: function disable() {\n          return this.hide(), this.options.disabled = !0, this._root.button.classList.add(\"disabled\"), this;\n        }\n      }, {\n        key: \"enable\",\n        value: function enable() {\n          return this.options.disabled = !1, this._root.button.classList.remove(\"disabled\"), this;\n        }\n      }]);\n\n      return L;\n    }();\n\n    return E(L, \"utils\", o), E(L, \"version\", \"1.8.2\"), E(L, \"I18N_DEFAULTS\", {\n      \"ui:dialog\": \"color picker dialog\",\n      \"btn:toggle\": \"toggle color picker dialog\",\n      \"btn:swatch\": \"color swatch\",\n      \"btn:last-color\": \"use previous color\",\n      \"btn:save\": \"Save\",\n      \"btn:cancel\": \"Cancel\",\n      \"btn:clear\": \"Clear\",\n      \"aria:btn:save\": \"save and close\",\n      \"aria:btn:cancel\": \"cancel and close\",\n      \"aria:btn:clear\": \"clear and close\",\n      \"aria:input\": \"color input field\",\n      \"aria:palette\": \"color selection area\",\n      \"aria:hue\": \"hue selection slider\",\n      \"aria:opacity\": \"selection slider\"\n    }), E(L, \"DEFAULT_OPTIONS\", {\n      appClass: null,\n      theme: \"classic\",\n      useAsButton: !1,\n      padding: 8,\n      disabled: !1,\n      comparison: !0,\n      closeOnScroll: !1,\n      outputPrecision: 0,\n      lockOpacity: !1,\n      autoReposition: !0,\n      container: \"body\",\n      components: {\n        interaction: {}\n      },\n      i18n: {},\n      swatches: null,\n      inline: !1,\n      sliders: null,\n      default: \"#42445a\",\n      defaultRepresentation: null,\n      position: \"bottom-middle\",\n      adjustableNumbers: !0,\n      showAlways: !1,\n      closeWithKey: \"Escape\"\n    }), E(L, \"create\", function (t) {\n      return new L(t);\n    }), e = e.default;\n  }();\n});","map":{"version":3,"mappings":"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","names":["root","factory","exports","module","define","amd","Pickr","self","__webpack_require__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","eventListener","method","elements","events","fn","options","HTMLCollection","NodeList","Array","from","isArray","el","ev","capture","slice","arguments","on","bind","off","createElementFromString","html","div","document","createElement","innerHTML","trim","firstElementChild","createFromTemplate","str","removeAttribute","name","getAttribute","resolve","element","base","con","subtree","children","child","arr","sub","push","keys","length","eventPath","evt","path","composedPath","target","parentElement","window","resolveElement","val","Element","split","reduce","pv","cv","ci","a","querySelector","shadowRoot","adjustableInputNumbers","v","mapper","handleScroll","e","inc","Number","shiftKey","ctrlKey","deltaY","index","selectionStart","replace","i","focus","setSelectionRange","preventDefault","dispatchEvent","Event","passive","min","Math","max","floor","round","hsvToRgb","h","s","f","p","q","t","mod","hsvToHsl","l","rgbToHsv","g","b","minVal","maxVal","delta","dr","dg","db","cmykToHsv","c","m","y","k","hslToHsv","ns","isNaN","hexToHsv","hex","match","map","parseInt","parseToHSVA","toLowerCase","ctx","getContext","fillStyle","standardizeColor","regex","cmyk","rgba","hsla","hsva","hexa","numarize","array","test","undefined","invalid","type","exec","alphaValid","values","join","raw","substring","HSVaColor","original","next","precision","toFixed","that","toHSVA","toString","toHSLA","toRGBA","toCMYK","rgb","hsvToCmyk","toHEXA","padStart","hsvToHex","alpha","toUpperCase","clone","clamp","Moveable","opt","assign","lock","onchange","onstop","_keyboard","activeElement","wrapper","up","right","down","left","xm","ym","update","cache","x","startsWith","_tapstart","_","_tapstop","_tapmove","cancelable","getBoundingClientRect","touch","touches","clientX","clientY","width","top","height","style","offsetWidth","offsetHeight","cx","cy","trigger","destroy","Selectable","className","onTap","forEach","classList","stopPropagation","defaults","variantFlipOrder","start","middle","end","positionFlipOrder","bottom","position","margin","reposition","reference","popper","container","documentElement","originalLeft","originalTop","refBox","popBox","positionStore","variantStore","vs","vm","ve","hs","hm","he","posKey","varKey","positions","variants","vertical","positionVal","positionKey","variantKey","positionSize","variantSize","positionMaximum","variantMaximum","positionMinimum","variantMinimum","variantVal","constructor","E","init","save","hide","show","clear","change","changestop","cancel","swatchselect","this","DEFAULT_OPTIONS","swatches","components","theme","sliders","lockOpacity","padding","includes","interaction","preview","opacity","hue","palette","_preBuild","_buildComponents","_bindEvents","_finalBuild","color","addSwatch","_root","button","app","_nanopop","baseOptions","HTMLElement","[object Object]","Error","setAttribute","_t","_setupAnimationFrame","requestAnimationFrame","cb","setColor","default","_rePositioningPicker","defaultRepresentation","_representation","setColorRepresentation","showAlways","_initializingActive","_emit","instance","useAsButton","inline","appClass","hidden","input","int","find","add","contains","appendChild","removeChild","parent","nextSibling","insertBefore","remove","parentNode","replaceChild","disabled","disable","comparison","transition","lastColor","inst","cs","repeat","so","sh","getColor","_color","_lastColor","picker","currentColor","_recalc","_updateOutput","cssRGBaString","background","setProperty","_swatchColors","slider","backgroundColor","selectable","_components","eventBindings","_clearColor","setHSVA","applyColor","result","stopImmediatePropagation","ck","closeWithKey","isOpen","code","some","adjustableNumbers","ranges","step","range","getColorRepresentation","nv","toPrecision","autoReposition","timeout","closeOnScroll","setTimeout","rs","clearTimeout","_eventBindings","body","eb","innerHeight","innerWidth","eventSource","outputPrecision","silent","_parseLocalColor","alphaMakesAChange","i18n","I18N_DEFAULTS","event","args","_eventListener","callBacks","indexOf","splice","removeSwatch","swatchColor","cancelAnimationFrame","destroyAndRemove","recalc","string","utype","click","getSelectedColor","getRoot","enable","VERSION"],"sourceRoot":"","sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/js/utils/utils.js","webpack:///./src/js/utils/color.js","webpack:///./src/js/utils/hsvacolor.js","webpack:///./src/js/libs/moveable.js","webpack:///./src/js/libs/selectable.js","webpack:///./src/js/template.js","webpack:///../src/NanoPop.ts","webpack:///./src/js/pickr.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Pickr\"] = factory();\n\telse\n\t\troot[\"Pickr\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* eslint-disable prefer-rest-params */\r\nfunction eventListener(method, elements, events, fn, options = {}) {\r\n\r\n    // Normalize array\r\n    if (elements instanceof HTMLCollection || elements instanceof NodeList) {\r\n        elements = Array.from(elements);\r\n    } else if (!Array.isArray(elements)) {\r\n        elements = [elements];\r\n    }\r\n\r\n    if (!Array.isArray(events)) {\r\n        events = [events];\r\n    }\r\n\r\n    for (const el of elements) {\r\n        for (const ev of events) {\r\n            el[method](ev, fn, {capture: false, ...options});\r\n        }\r\n    }\r\n\r\n    return Array.prototype.slice.call(arguments, 1);\r\n}\r\n\r\n/**\r\n * Add event(s) to element(s).\r\n * @param elements DOM-Elements\r\n * @param events Event names\r\n * @param fn Callback\r\n * @param options Optional options\r\n * @return Array passed arguments\r\n */\r\nexport const on = eventListener.bind(null, 'addEventListener');\r\n\r\n/**\r\n * Remove event(s) from element(s).\r\n * @param elements DOM-Elements\r\n * @param events Event names\r\n * @param fn Callback\r\n * @param options Optional options\r\n * @return Array passed arguments\r\n */\r\nexport const off = eventListener.bind(null, 'removeEventListener');\r\n\r\n/**\r\n * Creates an DOM-Element out of a string (Single element).\r\n * @param html HTML representing a single element\r\n * @returns {Element | null} The element.\r\n */\r\nexport function createElementFromString(html) {\r\n    const div = document.createElement('div');\r\n    div.innerHTML = html.trim();\r\n    return div.firstElementChild;\r\n}\r\n\r\n/**\r\n * Creates a new html element, every element which has\r\n * a ':ref' attribute will be saved in a object (which will be returned)\r\n * where the value of ':ref' is the object-key and the value the HTMLElement.\r\n *\r\n * It's possible to create a hierarchy if you add a ':obj' attribute. Every\r\n * sibling will be added to the object which will get the name from the 'data-con' attribute.\r\n *\r\n * If you want to create an Array out of multiple elements, you can use the ':arr' attribute,\r\n * the value defines the key and all elements, which has the same parent and the same 'data-arr' attribute,\r\n * would be added to it.\r\n *\r\n * @param str - The HTML String.\r\n */\r\n\r\nexport function createFromTemplate(str) {\r\n\r\n    // Removes an attribute from a HTMLElement and returns the value.\r\n    const removeAttribute = (el, name) => {\r\n        const value = el.getAttribute(name);\r\n        el.removeAttribute(name);\r\n        return value;\r\n    };\r\n\r\n    // Recursive function to resolve template\r\n    const resolve = (element, base = {}) => {\r\n\r\n        // Check key and container attribute\r\n        const con = removeAttribute(element, ':obj');\r\n        const key = removeAttribute(element, ':ref');\r\n        const subtree = con ? (base[con] = {}) : base;\r\n\r\n        // Check and save element\r\n        key && (base[key] = element);\r\n        for (const child of Array.from(element.children)) {\r\n            const arr = removeAttribute(child, ':arr');\r\n            const sub = resolve(child, arr ? {} : subtree);\r\n\r\n            if (arr) {\r\n\r\n                // Check if there is already an array and add element\r\n                (subtree[arr] || (subtree[arr] = []))\r\n                    .push(Object.keys(sub).length ? sub : child);\r\n            }\r\n        }\r\n\r\n        return base;\r\n    };\r\n\r\n    return resolve(createElementFromString(str));\r\n}\r\n\r\n/**\r\n * Polyfill for safari & firefox for the eventPath event property.\r\n * @param evt The event object.\r\n * @return [String] event path.\r\n */\r\nexport function eventPath(evt) {\r\n    let path = evt.path || (evt.composedPath && evt.composedPath());\r\n    if (path) {\r\n        return path;\r\n    }\r\n\r\n    let el = evt.target.parentElement;\r\n    path = [evt.target, el];\r\n    while (el = el.parentElement) {\r\n        path.push(el);\r\n    }\r\n\r\n    path.push(document, window);\r\n    return path;\r\n}\r\n\r\n/**\r\n * Resolves a HTMLElement by query.\r\n * @param val\r\n * @returns {null|Document|Element}\r\n */\r\nexport function resolveElement(val) {\r\n    if (val instanceof Element) {\r\n        return val;\r\n    } else if (typeof val === 'string') {\r\n        return val.split(/>>/g).reduce((pv, cv, ci, a) => {\r\n            pv = pv.querySelector(cv);\r\n            return ci < a.length - 1 ? pv.shadowRoot : pv;\r\n        }, document);\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Creates the ability to change numbers in an input field with the scroll-wheel.\r\n * @param el\r\n * @param mapper\r\n */\r\nexport function adjustableInputNumbers(el, mapper = v => v) {\r\n\r\n    function handleScroll(e) {\r\n        const inc = ([0.001, 0.01, 0.1])[Number(e.shiftKey || e.ctrlKey * 2)] * (e.deltaY < 0 ? 1 : -1);\r\n\r\n        let index = 0;\r\n        let off = el.selectionStart;\r\n        el.value = el.value.replace(/[\\d.]+/g, (v, i) => {\r\n\r\n            // Check if number is in cursor range and increase it\r\n            if (i <= off && i + v.length >= off) {\r\n                off = i;\r\n                return mapper(Number(v), inc, index);\r\n            }\r\n\r\n            index++;\r\n            return v;\r\n        });\r\n\r\n        el.focus();\r\n        el.setSelectionRange(off, off);\r\n\r\n        // Prevent default and trigger input event\r\n        e.preventDefault();\r\n        el.dispatchEvent(new Event('input'));\r\n    }\r\n\r\n    // Bind events\r\n    on(el, 'focus', () => on(window, 'wheel', handleScroll, {passive: false}));\r\n    on(el, 'blur', () => off(window, 'wheel', handleScroll));\r\n}\r\n","// Shorthands\r\nconst {min, max, floor, round} = Math;\r\n\r\n/**\r\n * Tries to convert a color name to rgb/a hex representation\r\n * @param name\r\n * @returns {string | CanvasGradient | CanvasPattern}\r\n */\r\nfunction standardizeColor(name) {\r\n\r\n    // Since invalid color's will be parsed as black, filter them out\r\n    if (name.toLowerCase() === 'black') {\r\n        return '#000';\r\n    }\r\n\r\n    const ctx = document.createElement('canvas').getContext('2d');\r\n    ctx.fillStyle = name;\r\n    return ctx.fillStyle === '#000' ? null : ctx.fillStyle;\r\n}\r\n\r\n/**\r\n * Convert HSV spectrum to RGB.\r\n * @param h Hue\r\n * @param s Saturation\r\n * @param v Value\r\n * @returns {number[]} Array with rgb values.\r\n */\r\nexport function hsvToRgb(h, s, v) {\r\n    h = (h / 360) * 6;\r\n    s /= 100;\r\n    v /= 100;\r\n\r\n    const i = floor(h);\r\n\r\n    const f = h - i;\r\n    const p = v * (1 - s);\r\n    const q = v * (1 - f * s);\r\n    const t = v * (1 - (1 - f) * s);\r\n\r\n    const mod = i % 6;\r\n    const r = [v, q, p, p, t, v][mod];\r\n    const g = [t, v, v, q, p, p][mod];\r\n    const b = [p, p, t, v, v, q][mod];\r\n\r\n    return [\r\n        r * 255,\r\n        g * 255,\r\n        b * 255\r\n    ];\r\n}\r\n\r\n/**\r\n * Convert HSV spectrum to Hex.\r\n * @param h Hue\r\n * @param s Saturation\r\n * @param v Value\r\n * @returns {string[]} Hex values\r\n */\r\nexport function hsvToHex(h, s, v) {\r\n    return hsvToRgb(h, s, v).map(v =>\r\n        round(v).toString(16).padStart(2, '0')\r\n    );\r\n}\r\n\r\n/**\r\n * Convert HSV spectrum to CMYK.\r\n * @param h Hue\r\n * @param s Saturation\r\n * @param v Value\r\n * @returns {number[]} CMYK values\r\n */\r\nexport function hsvToCmyk(h, s, v) {\r\n    const rgb = hsvToRgb(h, s, v);\r\n    const r = rgb[0] / 255;\r\n    const g = rgb[1] / 255;\r\n    const b = rgb[2] / 255;\r\n\r\n    const k = min(1 - r, 1 - g, 1 - b);\r\n    const c = k === 1 ? 0 : (1 - r - k) / (1 - k);\r\n    const m = k === 1 ? 0 : (1 - g - k) / (1 - k);\r\n    const y = k === 1 ? 0 : (1 - b - k) / (1 - k);\r\n\r\n    return [\r\n        c * 100,\r\n        m * 100,\r\n        y * 100,\r\n        k * 100\r\n    ];\r\n}\r\n\r\n/**\r\n * Convert HSV spectrum to HSL.\r\n * @param h Hue\r\n * @param s Saturation\r\n * @param v Value\r\n * @returns {number[]} HSL values\r\n */\r\nexport function hsvToHsl(h, s, v) {\r\n    s /= 100;\r\n    v /= 100;\r\n\r\n    const l = (2 - s) * v / 2;\r\n\r\n    if (l !== 0) {\r\n        if (l === 1) {\r\n            s = 0;\r\n        } else if (l < 0.5) {\r\n            s = s * v / (l * 2);\r\n        } else {\r\n            s = s * v / (2 - l * 2);\r\n        }\r\n    }\r\n\r\n    return [\r\n        h,\r\n        s * 100,\r\n        l * 100\r\n    ];\r\n}\r\n\r\n/**\r\n * Convert RGB to HSV.\r\n * @param r Red\r\n * @param g Green\r\n * @param b Blue\r\n * @return {number[]} HSV values.\r\n */\r\nfunction rgbToHsv(r, g, b) {\r\n    r /= 255;\r\n    g /= 255;\r\n    b /= 255;\r\n\r\n    const minVal = min(r, g, b);\r\n    const maxVal = max(r, g, b);\r\n    const delta = maxVal - minVal;\r\n\r\n    let h, s;\r\n    const v = maxVal;\r\n    if (delta === 0) {\r\n        h = s = 0;\r\n    } else {\r\n        s = delta / maxVal;\r\n        const dr = (((maxVal - r) / 6) + (delta / 2)) / delta;\r\n        const dg = (((maxVal - g) / 6) + (delta / 2)) / delta;\r\n        const db = (((maxVal - b) / 6) + (delta / 2)) / delta;\r\n\r\n        if (r === maxVal) {\r\n            h = db - dg;\r\n        } else if (g === maxVal) {\r\n            h = (1 / 3) + dr - db;\r\n        } else if (b === maxVal) {\r\n            h = (2 / 3) + dg - dr;\r\n        }\r\n\r\n        if (h < 0) {\r\n            h += 1;\r\n        } else if (h > 1) {\r\n            h -= 1;\r\n        }\r\n    }\r\n\r\n    return [\r\n        h * 360,\r\n        s * 100,\r\n        v * 100\r\n    ];\r\n}\r\n\r\n/**\r\n * Convert CMYK to HSV.\r\n * @param c Cyan\r\n * @param m Magenta\r\n * @param y Yellow\r\n * @param k Key (Black)\r\n * @return {number[]} HSV values.\r\n */\r\nfunction cmykToHsv(c, m, y, k) {\r\n    c /= 100;\r\n    m /= 100;\r\n    y /= 100;\r\n    k /= 100;\r\n\r\n    const r = (1 - min(1, c * (1 - k) + k)) * 255;\r\n    const g = (1 - min(1, m * (1 - k) + k)) * 255;\r\n    const b = (1 - min(1, y * (1 - k) + k)) * 255;\r\n\r\n    return [...rgbToHsv(r, g, b)];\r\n}\r\n\r\n/**\r\n * Convert HSL to HSV.\r\n * @param h Hue\r\n * @param s Saturation\r\n * @param l Lightness\r\n * @return {number[]} HSV values.\r\n */\r\nfunction hslToHsv(h, s, l) {\r\n    s /= 100;\r\n    l /= 100;\r\n    s *= l < 0.5 ? l : 1 - l;\r\n\r\n    const ns = (2 * s / (l + s)) * 100;\r\n    const v = (l + s) * 100;\r\n    return [h, isNaN(ns) ? 0 : ns, v];\r\n}\r\n\r\n/**\r\n * Convert HEX to HSV.\r\n * @param hex Hexadecimal string of rgb colors, can have length 3 or 6.\r\n * @return {number[]} HSV values.\r\n */\r\nfunction hexToHsv(hex) {\r\n    return rgbToHsv(...hex.match(/.{2}/g).map(v => parseInt(v, 16)));\r\n}\r\n\r\n/**\r\n * Try's to parse a string which represents a color to a HSV array.\r\n * Current supported types are cmyk, rgba, hsla and hexadecimal.\r\n * @param str\r\n * @return {*}\r\n */\r\nexport function parseToHSVA(str) {\r\n\r\n    // Check if string is a color-name\r\n    str = str.match(/^[a-zA-Z]+$/) ? standardizeColor(str) : str;\r\n\r\n    // Regular expressions to match different types of color represention\r\n    const regex = {\r\n        cmyk: /^cmyk[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)/i,\r\n        rgba: /^((rgba)|rgb)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,\r\n        hsla: /^((hsla)|hsl)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,\r\n        hsva: /^((hsva)|hsv)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,\r\n        hexa: /^#?(([\\dA-Fa-f]{3,4})|([\\dA-Fa-f]{6})|([\\dA-Fa-f]{8}))$/i\r\n    };\r\n\r\n    /**\r\n     * Takes an Array of any type, convert strings which represents\r\n     * a number to a number an anything else to undefined.\r\n     * @param array\r\n     * @return {*}\r\n     */\r\n    const numarize = array => array.map(v => /^(|\\d+)\\.\\d+|\\d+$/.test(v) ? Number(v) : undefined);\r\n\r\n    let match;\r\n    invalid: for (const type in regex) {\r\n\r\n        // Check if current scheme passed\r\n        if (!(match = regex[type].exec(str))) {\r\n            continue;\r\n        }\r\n\r\n        // Match[2] does only contain a truly value if rgba, hsla, or hsla got matched\r\n        const alphaValid = a => (!!match[2] === (typeof a === 'number'));\r\n\r\n        // Try to convert\r\n        switch (type) {\r\n            case 'cmyk': {\r\n                const [, c, m, y, k] = numarize(match);\r\n\r\n                if (c > 100 || m > 100 || y > 100 || k > 100) {\r\n                    break invalid;\r\n                }\r\n\r\n                return {values: cmykToHsv(c, m, y, k), type};\r\n            }\r\n            case 'rgba': {\r\n                const [, , , r, g, b, a] = numarize(match);\r\n\r\n                if (r > 255 || g > 255 || b > 255 || a < 0 || a > 1 || !alphaValid(a)) {\r\n                    break invalid;\r\n                }\r\n\r\n                return {values: [...rgbToHsv(r, g, b), a], a, type};\r\n            }\r\n            case 'hexa': {\r\n                let [, hex] = match;\r\n\r\n                if (hex.length === 4 || hex.length === 3) {\r\n                    hex = hex.split('').map(v => v + v).join('');\r\n                }\r\n\r\n                const raw = hex.substring(0, 6);\r\n                let a = hex.substring(6);\r\n\r\n                // Convert 0 - 255 to 0 - 1 for opacity\r\n                a = a ? (parseInt(a, 16) / 255) : undefined;\r\n\r\n                return {values: [...hexToHsv(raw), a], a, type};\r\n            }\r\n            case 'hsla': {\r\n                const [, , , h, s, l, a] = numarize(match);\r\n\r\n                if (h > 360 || s > 100 || l > 100 || a < 0 || a > 1 || !alphaValid(a)) {\r\n                    break invalid;\r\n                }\r\n\r\n                return {values: [...hslToHsv(h, s, l), a], a, type};\r\n            }\r\n            case 'hsva': {\r\n                const [, , , h, s, v, a] = numarize(match);\r\n\r\n                if (h > 360 || s > 100 || v > 100 || a < 0 || a > 1 || !alphaValid(a)) {\r\n                    break invalid;\r\n                }\r\n\r\n                return {values: [h, s, v, a], a, type};\r\n            }\r\n        }\r\n    }\r\n\r\n    return {values: null, type: null};\r\n}\r\n","import {hsvToCmyk, hsvToHex, hsvToHsl, hsvToRgb} from './color';\r\n\r\n/**\r\n * Simple class which holds the properties\r\n * of the color represention model hsla (hue saturation lightness alpha)\r\n */\r\nexport function HSVaColor(h = 0, s = 0, v = 0, a = 1) {\r\n    const mapper = (original, next) => (precision = -1) => {\r\n        return next(~precision ? original.map(v => Number(v.toFixed(precision))) : original);\r\n    };\r\n\r\n    const that = {\r\n        h, s, v, a,\r\n\r\n        toHSVA() {\r\n            const hsva = [that.h, that.s, that.v, that.a];\r\n            hsva.toString = mapper(hsva, arr => `hsva(${arr[0]}, ${arr[1]}%, ${arr[2]}%, ${that.a})`);\r\n            return hsva;\r\n        },\r\n\r\n        toHSLA() {\r\n            const hsla = [...hsvToHsl(that.h, that.s, that.v), that.a];\r\n            hsla.toString = mapper(hsla, arr => `hsla(${arr[0]}, ${arr[1]}%, ${arr[2]}%, ${that.a})`);\r\n            return hsla;\r\n        },\r\n\r\n        toRGBA() {\r\n            const rgba = [...hsvToRgb(that.h, that.s, that.v), that.a];\r\n            rgba.toString = mapper(rgba, arr => `rgba(${arr[0]}, ${arr[1]}, ${arr[2]}, ${that.a})`);\r\n            return rgba;\r\n        },\r\n\r\n        toCMYK() {\r\n            const cmyk = hsvToCmyk(that.h, that.s, that.v);\r\n            cmyk.toString = mapper(cmyk, arr => `cmyk(${arr[0]}%, ${arr[1]}%, ${arr[2]}%, ${arr[3]}%)`);\r\n            return cmyk;\r\n        },\r\n\r\n        toHEXA() {\r\n            const hex = hsvToHex(that.h, that.s, that.v);\r\n\r\n            // Check if alpha channel make sense, convert it to 255 number space, convert\r\n            // To hex and pad it with zeros if needet.\r\n            const alpha = that.a >= 1 ? '' : Number((that.a * 255).toFixed(0))\r\n                .toString(16)\r\n                .toUpperCase().padStart(2, '0');\r\n\r\n            alpha && hex.push(alpha);\r\n            hex.toString = () => `#${hex.join('').toUpperCase()}`;\r\n            return hex;\r\n        },\r\n\r\n        clone: () => HSVaColor(that.h, that.s, that.v, that.a)\r\n    };\r\n\r\n    return that;\r\n}\r\n","import * as _ from '../utils/utils';\r\n\r\nconst clamp = v => Math.max(Math.min(v, 1), 0);\r\nexport default function Moveable(opt) {\r\n\r\n    const that = {\r\n\r\n        // Assign default values\r\n        options: Object.assign({\r\n            lock: null,\r\n            onchange: () => 0,\r\n            onstop: () => 0\r\n        }, opt),\r\n\r\n        _keyboard(e) {\r\n            const {options} = that;\r\n            const {type, key} = e;\r\n\r\n            // Check to see if the Movable is focused and then move it based on arrow key inputs\r\n            // For improved accessibility\r\n            if (document.activeElement === options.wrapper) {\r\n                const {lock} = that.options;\r\n                const up = key === 'ArrowUp';\r\n                const right = key === 'ArrowRight';\r\n                const down = key === 'ArrowDown';\r\n                const left = key === 'ArrowLeft';\r\n\r\n                if (type === 'keydown' && (up || right || down || left)) {\r\n                    let xm = 0;\r\n                    let ym = 0;\r\n\r\n                    if (lock === 'v') {\r\n                        xm = (up || right) ? 1 : -1;\r\n                    } else if (lock === 'h') {\r\n                        xm = (up || right) ? -1 : 1;\r\n                    } else {\r\n                        ym = up ? -1 : (down ? 1 : 0);\r\n                        xm = left ? -1 : (right ? 1 : 0);\r\n                    }\r\n\r\n                    that.update(\r\n                        clamp(that.cache.x + (0.01 * xm)),\r\n                        clamp(that.cache.y + (0.01 * ym))\r\n                    );\r\n                    e.preventDefault();\r\n                } else if (key.startsWith('Arrow')) {\r\n                    that.options.onstop();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        },\r\n\r\n        _tapstart(evt) {\r\n            _.on(document, ['mouseup', 'touchend', 'touchcancel'], that._tapstop);\r\n            _.on(document, ['mousemove', 'touchmove'], that._tapmove);\r\n\r\n            if (evt.cancelable) {\r\n                evt.preventDefault();\r\n            }\r\n\r\n            // Trigger\r\n            that._tapmove(evt);\r\n        },\r\n\r\n        _tapmove(evt) {\r\n            const {options, cache} = that;\r\n            const {lock, element, wrapper} = options;\r\n            const b = wrapper.getBoundingClientRect();\r\n\r\n            let x = 0, y = 0;\r\n            if (evt) {\r\n                const touch = evt && evt.touches && evt.touches[0];\r\n                x = evt ? (touch || evt).clientX : 0;\r\n                y = evt ? (touch || evt).clientY : 0;\r\n\r\n                // Reset to bounds\r\n                if (x < b.left) {\r\n                    x = b.left;\r\n                } else if (x > b.left + b.width) {\r\n                    x = b.left + b.width;\r\n                }\r\n                if (y < b.top) {\r\n                    y = b.top;\r\n                } else if (y > b.top + b.height) {\r\n                    y = b.top + b.height;\r\n                }\r\n\r\n                // Normalize\r\n                x -= b.left;\r\n                y -= b.top;\r\n            } else if (cache) {\r\n                x = cache.x * b.width;\r\n                y = cache.y * b.height;\r\n            }\r\n\r\n            if (lock !== 'h') {\r\n                element.style.left = `calc(${x / b.width * 100}% - ${element.offsetWidth / 2}px)`;\r\n            }\r\n\r\n            if (lock !== 'v') {\r\n                element.style.top = `calc(${y / b.height * 100}% - ${element.offsetHeight / 2}px)`;\r\n            }\r\n\r\n            that.cache = {x: x / b.width, y: y / b.height};\r\n            const cx = clamp(x / b.width);\r\n            const cy = clamp(y / b.height);\r\n\r\n            switch (lock) {\r\n                case 'v':\r\n                    return options.onchange(cx);\r\n                case 'h':\r\n                    return options.onchange(cy);\r\n                default:\r\n                    return options.onchange(cx, cy);\r\n            }\r\n        },\r\n\r\n        _tapstop() {\r\n            that.options.onstop();\r\n            _.off(document, ['mouseup', 'touchend', 'touchcancel'], that._tapstop);\r\n            _.off(document, ['mousemove', 'touchmove'], that._tapmove);\r\n        },\r\n\r\n        trigger() {\r\n            that._tapmove();\r\n        },\r\n\r\n        update(x = 0, y = 0) {\r\n            const {left, top, width, height} = that.options.wrapper.getBoundingClientRect();\r\n\r\n            if (that.options.lock === 'h') {\r\n                y = x;\r\n            }\r\n\r\n            that._tapmove({\r\n                clientX: left + width * x,\r\n                clientY: top + height * y\r\n            });\r\n        },\r\n\r\n        destroy() {\r\n            const {options, _tapstart, _keyboard} = that;\r\n            _.off(document, ['keydown', 'keyup'], _keyboard);\r\n            _.off([options.wrapper, options.element], 'mousedown', _tapstart);\r\n            _.off([options.wrapper, options.element], 'touchstart', _tapstart, {\r\n                passive: false\r\n            });\r\n        }\r\n    };\r\n\r\n    // Initilize\r\n    const {options, _tapstart, _keyboard} = that;\r\n    _.on([options.wrapper, options.element], 'mousedown', _tapstart);\r\n    _.on([options.wrapper, options.element], 'touchstart', _tapstart, {\r\n        passive: false\r\n    });\r\n\r\n    _.on(document, ['keydown', 'keyup'], _keyboard);\r\n\r\n    return that;\r\n}\r\n","import * as _ from '../utils/utils';\n\nexport default function Selectable(opt = {}) {\n    opt = Object.assign({\n        onchange: () => 0,\n        className: '',\n        elements: []\n    }, opt);\n\n    const onTap = _.on(opt.elements, 'click', evt => {\n        opt.elements.forEach(e =>\n            e.classList[evt.target === e ? 'add' : 'remove'](opt.className)\n        );\n\n        opt.onchange(evt);\n\n        // Fix for https://github.com/Simonwep/pickr/issues/243\n        evt.stopPropagation();\n    });\n\n    return {\n        destroy: () => _.off(...onTap)\n    };\n}\n","import * as _ from './utils/utils';\r\n\r\nexport default instance => {\r\n\r\n    const {\r\n        components,\r\n        useAsButton,\r\n        inline,\r\n        appClass,\r\n        theme,\r\n        lockOpacity\r\n    } = instance.options;\r\n\r\n    // Utils\r\n    const hidden = con => con ? '' : 'style=\"display:none\" hidden';\r\n    const t = str => instance._t(str);\r\n\r\n    const root = _.createFromTemplate(`\r\n      <div :ref=\"root\" class=\"pickr\">\r\n\r\n        ${useAsButton ? '' : '<button type=\"button\" :ref=\"button\" class=\"pcr-button\"></button>'}\r\n\r\n        <div :ref=\"app\" class=\"pcr-app ${appClass || ''}\" data-theme=\"${theme}\" ${inline ? 'style=\"position: unset\"' : ''} aria-label=\"${t('ui:dialog', 'color picker dialog')}\" role=\"window\">\r\n          <div class=\"pcr-selection\" ${hidden(components.palette)}>\r\n            <div :obj=\"preview\" class=\"pcr-color-preview\" ${hidden(components.preview)}>\r\n              <button type=\"button\" :ref=\"lastColor\" class=\"pcr-last-color\" aria-label=\"${t('btn:last-color')}\"></button>\r\n              <div :ref=\"currentColor\" class=\"pcr-current-color\"></div>\r\n            </div>\r\n\r\n            <div :obj=\"palette\" class=\"pcr-color-palette\">\r\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\r\n              <div :ref=\"palette\" class=\"pcr-palette\" tabindex=\"0\" aria-label=\"${t('aria:palette')}\" role=\"listbox\"></div>\r\n            </div>\r\n\r\n            <div :obj=\"hue\" class=\"pcr-color-chooser\" ${hidden(components.hue)}>\r\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\r\n              <div :ref=\"slider\" class=\"pcr-hue pcr-slider\" tabindex=\"0\" aria-label=\"${t('aria:hue')}\" role=\"slider\"></div>\r\n            </div>\r\n\r\n            <div :obj=\"opacity\" class=\"pcr-color-opacity\" ${hidden(components.opacity)}>\r\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\r\n              <div :ref=\"slider\" class=\"pcr-opacity pcr-slider\" tabindex=\"0\" aria-label=\"${t('aria:opacity', 'opacity selection slider')}\" role=\"slider\"></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"pcr-swatches ${components.palette ? '' : 'pcr-last'}\" :ref=\"swatches\"></div>\r\n\r\n          <div :obj=\"interaction\" class=\"pcr-interaction\" ${hidden(Object.keys(components.interaction).length)}>\r\n            <input :ref=\"result\" class=\"pcr-result\" type=\"text\" spellcheck=\"false\" ${hidden(components.interaction.input)} aria-label=\"${t('aria:input', 'color input field')}\">\r\n\r\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HEXA\" value=\"${lockOpacity ? 'HEX' : 'HEXA'}\" type=\"button\" ${hidden(components.interaction.hex)}>\r\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"RGBA\" value=\"${lockOpacity ? 'RGB' : 'RGBA'}\" type=\"button\" ${hidden(components.interaction.rgba)}>\r\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSLA\" value=\"${lockOpacity ? 'HSL' : 'HSLA'}\" type=\"button\" ${hidden(components.interaction.hsla)}>\r\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSVA\" value=\"${lockOpacity ? 'HSV' : 'HSVA'}\" type=\"button\" ${hidden(components.interaction.hsva)}>\r\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"CMYK\" value=\"CMYK\" type=\"button\" ${hidden(components.interaction.cmyk)}>\r\n\r\n            <input :ref=\"save\" class=\"pcr-save\" value=\"${t('btn:save')}\" type=\"button\" ${hidden(components.interaction.save)} aria-label=\"${t('aria:btn:save')}\">\r\n            <input :ref=\"cancel\" class=\"pcr-cancel\" value=\"${t('btn:cancel')}\" type=\"button\" ${hidden(components.interaction.cancel)} aria-label=\"${t('aria:btn:cancel')}\">\r\n            <input :ref=\"clear\" class=\"pcr-clear\" value=\"${t('btn:clear')}\" type=\"button\" ${hidden(components.interaction.clear)} aria-label=\"${t('aria:btn:clear')}\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n\r\n    const int = root.interaction;\r\n\r\n    // Select option which is not hidden\r\n    int.options.find(o => !o.hidden && !o.classList.add('active'));\r\n\r\n    // Append method to find currently active option\r\n    int.type = () => int.options.find(e => e.classList.contains('active'));\r\n    return root;\r\n};\r\n","type Direction = 'top' | 'left' | 'bottom' | 'right';\n\nexport type VariantFlipOrder = {\n    start: string;\n    middle: string;\n    end: string;\n};\n\nexport type PositionFlipOrder = {\n    top: string;\n    right: string;\n    bottom: string;\n    left: string;\n};\n\nexport type NanoPopPosition =\n    'top-start' | 'top-middle' | 'top-end' |\n    'left-start' | 'left-middle' | 'left-end' |\n    'right-start' | 'right-middle' | 'right-end' |\n    'bottom-start' | 'bottom-middle' | 'bottom-end' | Direction;\n\nexport type NanoPopOptions = {\n    container: DOMRect;\n    position: NanoPopPosition;\n    variantFlipOrder: VariantFlipOrder;\n    positionFlipOrder: PositionFlipOrder;\n    margin: number;\n    reference?: HTMLElement;\n    popper?: HTMLElement;\n};\n\ntype AvailablePositions = {\n    t: number;\n    b: number;\n    l: number;\n    r: number;\n};\n\ntype AvailableVariants = {\n    vs: number;\n    vm: number;\n    ve: number;\n    hs: number;\n    hm: number;\n    he: number;\n};\n\ntype PositionPairs = [Direction, Direction];\nexport type PositionMatch = 'ts' | 'tm' | 'te' | 'bs' | 'bm' | 'be' | 'ls' | 'lm' | 'le' | 'rs' | 'rm' | 're';\n\nexport interface NanoPop {\n    update(updatedOptions?: Partial<NanoPopOptions>): PositionMatch | null;\n}\n\nexport interface NanoPopConstructor {\n\n    /**\n     * @param reference Reference element\n     * @param popper Actual popper element\n     * @param options Optional options\n     */\n    (reference: HTMLElement, popper: HTMLElement, options?: Partial<NanoPopOptions>): NanoPop;\n\n    /**\n     * @param options Partial options which get merged with the current one\n     */\n    (options?: Partial<NanoPopOptions>): NanoPop;\n}\n\n// Export current version\nexport const version = VERSION;\n\n// Export default\nexport const defaults = {\n    variantFlipOrder: {start: 'sme', middle: 'mse', end: 'ems'},\n    positionFlipOrder: {top: 'tbrl', right: 'rltb', bottom: 'btrl', left: 'lrbt'},\n    position: 'bottom',\n    margin: 8\n};\n\n/**\n * Repositions an element once using the provided options and elements.\n * @param reference Reference element\n * @param popper Popper element\n * @param opt Optional, additional options\n */\nexport const reposition = (\n    reference: HTMLElement,\n    popper: HTMLElement,\n    opt?: Partial<NanoPopOptions>\n): PositionMatch | null => {\n    const {\n        container,\n        margin,\n        position,\n        variantFlipOrder,\n        positionFlipOrder\n    } = {\n        container: document.documentElement.getBoundingClientRect(),\n        ...defaults,\n        ...opt\n    };\n\n    /**\n     * Reset position to resolve viewport\n     * See https://developer.mozilla.org/en-US/docs/Web/CSS/position#fixed\n     */\n    const {left: originalLeft, top: originalTop} = popper.style;\n    popper.style.left = '0';\n    popper.style.top = '0';\n\n    const refBox = reference.getBoundingClientRect();\n    const popBox = popper.getBoundingClientRect();\n\n    /**\n     * Holds coordinates of top, left, bottom and right alignment\n     */\n    const positionStore: AvailablePositions = {\n        t: refBox.top - popBox.height - margin,\n        b: refBox.bottom + margin,\n        r: refBox.right + margin,\n        l: refBox.left - popBox.width - margin\n    };\n\n    /**\n     * Holds corresponding variants (start, middle, end).\n     * The values depend on horizontal / vertical orientation\n     */\n    const variantStore: AvailableVariants = {\n        vs: refBox.left,\n        vm: refBox.left + refBox.width / 2 + -popBox.width / 2,\n        ve: refBox.left + refBox.width - popBox.width,\n        hs: refBox.top,\n        hm: refBox.bottom - refBox.height / 2 - popBox.height / 2,\n        he: refBox.bottom - popBox.height\n    };\n\n    // Extract position and variant\n    // Top-start -> top is \"position\" and \"start\" is the variant\n    const [posKey, varKey = 'middle'] = position.split('-');\n    const positions = positionFlipOrder[posKey as keyof PositionFlipOrder];\n    const variants = variantFlipOrder[varKey as keyof VariantFlipOrder];\n\n    // Try out all possible combinations, starting with the preferred one.\n    const {top, left, bottom, right} = container;\n\n    for (const p of positions) {\n        const vertical = (p === 't' || p === 'b');\n\n        // The position-value\n        const positionVal = positionStore[p as keyof AvailablePositions];\n\n        // Which property has to be changes.\n        const [positionKey, variantKey] = (vertical ? ['top', 'left'] : ['left', 'top']) as PositionPairs;\n\n        /**\n         * box refers to the size of the popper element. Depending on the orientation this is width or height.\n         * The limit is the corresponding, maximum value for this position.\n         */\n        const [positionSize, variantSize] = vertical ? [popBox.height, popBox.width] : [popBox.width, popBox.height];\n        const [positionMaximum, variantMaximum] = vertical ? [bottom, right] : [right, bottom];\n        const [positionMinimum, variantMinimum] = vertical ? [top, left] : [left, top];\n\n        // Skip pre-clipped values\n        if (positionVal < positionMinimum || (positionVal + positionSize) > positionMaximum) {\n            continue;\n        }\n\n        for (const v of variants) {\n\n            // The position-value, the related size value of the popper and the limit\n            const variantVal = variantStore[((vertical ? 'v' : 'h') + v) as keyof AvailableVariants];\n\n            if (variantVal < variantMinimum || (variantVal + variantSize) > variantMaximum) {\n                continue;\n            }\n\n            // Apply styles and normalize viewport\n            popper.style[variantKey] = `${variantVal - popBox[variantKey]}px`;\n            popper.style[positionKey] = `${positionVal - popBox[positionKey]}px`;\n            return (p + v) as PositionMatch;\n        }\n    }\n\n    // Revert style values (won't work with styled-elements or similar systems)\n    // \"Fix\" for https://github.com/Simonwep/nanopop/issues/7\n    popper.style.left = originalLeft;\n    popper.style.top = originalTop;\n\n    return null;\n};\n\n/**\n * Creates a stateful popper.\n * You can either...\n * ... pass an options object: createPopper(<options>)\n * ... pass both the reference and popper: create(<ref>, <el>, <?options>)\n * ... pass nothing, in this case you'll have to set at least both a reference and a popper in update.\n *\n * @param reference | options Reference element or options\n * @param popper Popper element\n * @param options Optional additional options\n */\nexport const createPopper: NanoPopConstructor = (\n    reference?: HTMLElement | Partial<NanoPopOptions>,\n    popper?: HTMLElement,\n    options?: Partial<NanoPopOptions>\n): NanoPop => {\n\n    // Resolve options\n    const baseOptions: Partial<NanoPopOptions> = typeof reference === 'object' && !(reference instanceof HTMLElement) ?\n        reference : {reference, popper, ...options};\n\n    return {\n\n        /**\n         * Repositions the current popper.\n         * @param options Optional options which get merged with the current ones.\n         */\n        update(options: Partial<NanoPopOptions> = baseOptions): PositionMatch | null {\n            const {reference, popper} = Object.assign(baseOptions, options);\n\n            if (!popper || !reference) {\n                throw new Error('Popper- or reference-element missing.');\n            }\n\n            return reposition(reference, popper, baseOptions);\n        }\n    };\n};\n","import * as _ from './utils/utils';\nimport {parseToHSVA} from './utils/color';\nimport {HSVaColor} from './utils/hsvacolor';\nimport Moveable from './libs/moveable';\nimport Selectable from './libs/selectable';\nimport buildPickr from './template';\nimport {createPopper} from 'nanopop';\n\nexport default class Pickr {\n\n    // Expose pickr utils\n    static utils = _;\n\n    // Assign version and export\n    static version = VERSION;\n\n    // Default strings\n    static I18N_DEFAULTS = {\n\n        // Strings visible in the UI\n        'ui:dialog': 'color picker dialog',\n        'btn:toggle': 'toggle color picker dialog',\n        'btn:swatch': 'color swatch',\n        'btn:last-color': 'use previous color',\n        'btn:save': 'Save',\n        'btn:cancel': 'Cancel',\n        'btn:clear': 'Clear',\n\n        // Strings used for aria-labels\n        'aria:btn:save': 'save and close',\n        'aria:btn:cancel': 'cancel and close',\n        'aria:btn:clear': 'clear and close',\n        'aria:input': 'color input field',\n        'aria:palette': 'color selection area',\n        'aria:hue': 'hue selection slider',\n        'aria:opacity': 'selection slider'\n    };\n\n    // Default options\n    static DEFAULT_OPTIONS = {\n        appClass: null,\n        theme: 'classic',\n        useAsButton: false,\n        padding: 8,\n        disabled: false,\n        comparison: true,\n        closeOnScroll: false,\n        outputPrecision: 0,\n        lockOpacity: false,\n        autoReposition: true,\n        container: 'body',\n\n        components: {\n            interaction: {}\n        },\n\n        i18n: {},\n        swatches: null,\n        inline: false,\n        sliders: null,\n\n        default: '#42445a',\n        defaultRepresentation: null,\n        position: 'bottom-middle',\n        adjustableNumbers: true,\n        showAlways: false,\n\n        closeWithKey: 'Escape'\n    };\n\n    // Will be used to prevent specific actions during initilization\n    _initializingActive = true;\n\n    // If the current color value should be recalculated\n    _recalc = true;\n\n    // Positioning engine and DOM-Tree\n    _nanopop = null;\n    _root = null;\n\n    // Current and last color for comparison\n    _color = HSVaColor();\n    _lastColor = HSVaColor();\n    _swatchColors = [];\n\n    // Animation frame used for setup.\n    // Will be cancelled in case of destruction.\n    _setupAnimationFrame = null;\n\n    // Evenlistener name: [callbacks]\n    _eventListener = {\n        init: [],\n        save: [],\n        hide: [],\n        show: [],\n        clear: [],\n        change: [],\n        changestop: [],\n        cancel: [],\n        swatchselect: []\n    };\n\n    constructor(opt) {\n\n        // Assign default values\n        this.options = opt = Object.assign({...Pickr.DEFAULT_OPTIONS}, opt);\n\n        const {swatches, components, theme, sliders, lockOpacity, padding} = opt;\n\n        if (['nano', 'monolith'].includes(theme) && !sliders) {\n            opt.sliders = 'h';\n        }\n\n        // Check interaction section\n        if (!components.interaction) {\n            components.interaction = {};\n        }\n\n        // Overwrite palette if preview, opacity or hue are true\n        const {preview, opacity, hue, palette} = components;\n        components.opacity = (!lockOpacity && opacity);\n        components.palette = palette || preview || opacity || hue;\n\n        // Initialize picker\n        this._preBuild();\n        this._buildComponents();\n        this._bindEvents();\n        this._finalBuild();\n\n        // Append pre-defined swatch colors\n        if (swatches && swatches.length) {\n            swatches.forEach(color => this.addSwatch(color));\n        }\n\n        // Initialize positioning engine\n        const {button, app} = this._root;\n        this._nanopop = createPopper(button, app, {\n            margin: padding\n        });\n\n        // Initialize accessibility\n        button.setAttribute('role', 'button');\n        button.setAttribute('aria-label', this._t('btn:toggle'));\n\n        // Initilization is finish, pickr is visible and ready for usage\n        const that = this;\n        this._setupAnimationFrame = requestAnimationFrame((function cb() {\n\n            // TODO: Performance issue due to high call-rate?\n            if (!app.offsetWidth) {\n                return requestAnimationFrame(cb);\n            }\n\n            // Apply default color\n            that.setColor(opt.default);\n            that._rePositioningPicker();\n\n            // Initialize color representation\n            if (opt.defaultRepresentation) {\n                that._representation = opt.defaultRepresentation;\n                that.setColorRepresentation(that._representation);\n            }\n\n            // Show pickr if locked\n            if (opt.showAlways) {\n                that.show();\n            }\n\n            // Initialization is done - pickr is usable, fire init event\n            that._initializingActive = false;\n            that._emit('init');\n        }));\n    }\n\n    // Create instance via method\n    static create = options => new Pickr(options);\n\n    // Does only the absolutly basic thing to initialize the components\n    _preBuild() {\n        const {options} = this;\n\n        // Resolve elements\n        for (const type of ['el', 'container']) {\n            options[type] = _.resolveElement(options[type]);\n        }\n\n        // Create element and append it to body to\n        // Prevent initialization errors\n        this._root = buildPickr(this);\n\n        // Check if a custom button is used\n        if (options.useAsButton) {\n            this._root.button = options.el; // Replace button with customized button\n        }\n\n        options.container.appendChild(this._root.root);\n    }\n\n    _finalBuild() {\n        const opt = this.options;\n        const root = this._root;\n\n        // Remove from body\n        opt.container.removeChild(root.root);\n\n        if (opt.inline) {\n            const parent = opt.el.parentElement;\n\n            if (opt.el.nextSibling) {\n                parent.insertBefore(root.app, opt.el.nextSibling);\n            } else {\n                parent.appendChild(root.app);\n            }\n        } else {\n            opt.container.appendChild(root.app);\n        }\n\n        // Don't replace the the element if a custom button is used\n        if (!opt.useAsButton) {\n\n            // Replace element with actual color-picker\n            opt.el.parentNode.replaceChild(root.root, opt.el);\n        } else if (opt.inline) {\n            opt.el.remove();\n        }\n\n        // Check if it should be immediatly disabled\n        if (opt.disabled) {\n            this.disable();\n        }\n\n        // Check if color comparison is disabled, if yes - remove transitions so everything keeps smoothly\n        if (!opt.comparison) {\n            root.button.style.transition = 'none';\n\n            if (!opt.useAsButton) {\n                root.preview.lastColor.style.transition = 'none';\n            }\n        }\n\n        this.hide();\n    }\n\n    _buildComponents() {\n\n        // Instance reference\n        const inst = this;\n        const cs = this.options.components;\n        const sliders = (inst.options.sliders || 'v').repeat(2);\n        const [so, sh] = sliders.match(/^[vh]+$/g) ? sliders : [];\n\n        // Re-assign if null\n        const getColor = () =>\n            this._color || (this._color = this._lastColor.clone());\n\n        const components = {\n\n            palette: Moveable({\n                element: inst._root.palette.picker,\n                wrapper: inst._root.palette.palette,\n\n                onstop: () => inst._emit('changestop', 'slider', inst),\n                onchange(x, y) {\n                    if (!cs.palette) {\n                        return;\n                    }\n\n                    const color = getColor();\n                    const {_root, options} = inst;\n                    const {lastColor, currentColor} = _root.preview;\n\n                    // Update the input field only if the user is currently not typing\n                    if (inst._recalc) {\n\n                        // Calculate saturation based on the position\n                        color.s = x * 100;\n\n                        // Calculate the value\n                        color.v = 100 - y * 100;\n\n                        // Prevent falling under zero\n                        color.v < 0 ? color.v = 0 : 0;\n                        inst._updateOutput('slider');\n                    }\n\n                    // Set picker and gradient color\n                    const cssRGBaString = color.toRGBA().toString(0);\n                    this.element.style.background = cssRGBaString;\n                    this.wrapper.style.background = `\n                        linear-gradient(to top, rgba(0, 0, 0, ${color.a}), transparent),\n                        linear-gradient(to left, hsla(${color.h}, 100%, 50%, ${color.a}), rgba(255, 255, 255, ${color.a}))\n                    `;\n\n                    // Check if color is locked\n                    if (!options.comparison) {\n                        _root.button.style.setProperty('--pcr-color', cssRGBaString);\n\n                        // If the user changes the color, remove the cleared icon\n                        _root.button.classList.remove('clear');\n                    } else if (!options.useAsButton && !inst._lastColor) {\n\n                        // Apply color to both the last and current color since the current state is cleared\n                        lastColor.style.setProperty('--pcr-color', cssRGBaString);\n                    }\n\n                    // Check if there's a swatch which color matches the current one\n                    const hexa = color.toHEXA().toString();\n                    for (const {el, color} of inst._swatchColors) {\n                        el.classList[hexa === color.toHEXA().toString() ? 'add' : 'remove']('pcr-active');\n                    }\n\n                    // Change current color\n                    currentColor.style.setProperty('--pcr-color', cssRGBaString);\n                }\n            }),\n\n            hue: Moveable({\n                lock: sh === 'v' ? 'h' : 'v',\n                element: inst._root.hue.picker,\n                wrapper: inst._root.hue.slider,\n\n                onstop: () => inst._emit('changestop', 'slider', inst),\n                onchange(v) {\n                    if (!cs.hue || !cs.palette) {\n                        return;\n                    }\n\n                    const color = getColor();\n\n                    // Calculate hue\n                    if (inst._recalc) {\n                        color.h = v * 360;\n                    }\n\n                    // Update color\n                    this.element.style.backgroundColor = `hsl(${color.h}, 100%, 50%)`;\n                    components.palette.trigger();\n                }\n            }),\n\n            opacity: Moveable({\n                lock: so === 'v' ? 'h' : 'v',\n                element: inst._root.opacity.picker,\n                wrapper: inst._root.opacity.slider,\n\n                onstop: () => inst._emit('changestop', 'slider', inst),\n                onchange(v) {\n                    if (!cs.opacity || !cs.palette) {\n                        return;\n                    }\n\n                    const color = getColor();\n\n                    // Calculate opacity\n                    if (inst._recalc) {\n                        color.a = Math.round(v * 1e2) / 100;\n                    }\n\n                    // Update color\n                    this.element.style.background = `rgba(0, 0, 0, ${color.a})`;\n                    components.palette.trigger();\n                }\n            }),\n\n            selectable: Selectable({\n                elements: inst._root.interaction.options,\n                className: 'active',\n\n                onchange(e) {\n                    inst._representation = e.target.getAttribute('data-type').toUpperCase();\n                    inst._recalc && inst._updateOutput('swatch');\n                }\n            })\n        };\n\n        this._components = components;\n    }\n\n    _bindEvents() {\n        const {_root, options} = this;\n\n        const eventBindings = [\n\n            // Clear color\n            _.on(_root.interaction.clear, 'click', () => this._clearColor()),\n\n            // Select last color on click\n            _.on([\n                _root.interaction.cancel,\n                _root.preview.lastColor\n            ], 'click', () => {\n                this.setHSVA(...(this._lastColor || this._color).toHSVA(), true);\n                this._emit('cancel');\n            }),\n\n            // Save color\n            _.on(_root.interaction.save, 'click', () => {\n                !this.applyColor() && !options.showAlways && this.hide();\n            }),\n\n            // User input\n            _.on(_root.interaction.result, ['keyup', 'input'], e => {\n\n                // Fire listener if initialization is finish and changed color was valid\n                if (this.setColor(e.target.value, true) && !this._initializingActive) {\n                    this._emit('change', this._color, 'input', this);\n                    this._emit('changestop', 'input', this);\n                }\n\n                e.stopImmediatePropagation();\n            }),\n\n            // Detect user input and disable auto-recalculation\n            _.on(_root.interaction.result, ['focus', 'blur'], e => {\n                this._recalc = e.type === 'blur';\n                this._recalc && this._updateOutput(null);\n            }),\n\n            // Cancel input detection on color change\n            _.on([\n                _root.palette.palette,\n                _root.palette.picker,\n                _root.hue.slider,\n                _root.hue.picker,\n                _root.opacity.slider,\n                _root.opacity.picker\n            ], ['mousedown', 'touchstart'], () => this._recalc = true, {passive: true})\n        ];\n\n        // Provide hiding / showing abilities only if showAlways is false\n        if (!options.showAlways) {\n            const ck = options.closeWithKey;\n\n            eventBindings.push(\n\n                // Save and hide / show picker\n                _.on(_root.button, 'click', () => this.isOpen() ? this.hide() : this.show()),\n\n                // Close with escape key\n                _.on(document, 'keyup', e => this.isOpen() && (e.key === ck || e.code === ck) && this.hide()),\n\n                // Cancel selecting if the user taps behind the color picker\n                _.on(document, ['touchstart', 'mousedown'], e => {\n                    if (this.isOpen() && !_.eventPath(e).some(el => el === _root.app || el === _root.button)) {\n                        this.hide();\n                    }\n                }, {capture: true})\n            );\n        }\n\n        // Make input adjustable if enabled\n        if (options.adjustableNumbers) {\n            const ranges = {\n                rgba: [255, 255, 255, 1],\n                hsva: [360, 100, 100, 1],\n                hsla: [360, 100, 100, 1],\n                cmyk: [100, 100, 100, 100]\n            };\n\n            _.adjustableInputNumbers(_root.interaction.result, (o, step, index) => {\n                const range = ranges[this.getColorRepresentation().toLowerCase()];\n\n                if (range) {\n                    const max = range[index];\n\n                    // Calculate next reasonable number\n                    const nv = o + (max >= 100 ? step * 1000 : step);\n\n                    // Apply range of zero up to max, fix floating-point issues\n                    return nv <= 0 ? 0 : Number((nv < max ? nv : max).toPrecision(3));\n                }\n\n                return o;\n            });\n        }\n\n        if (options.autoReposition && !options.inline) {\n            let timeout = null;\n            const that = this;\n\n            // Re-calc position on window resize, scroll and wheel\n            eventBindings.push(\n                _.on(window, ['scroll', 'resize'], () => {\n                    if (that.isOpen()) {\n\n                        if (options.closeOnScroll) {\n                            that.hide();\n                        }\n\n                        if (timeout === null) {\n                            timeout = setTimeout(() => timeout = null, 100);\n\n                            // Update position on every frame\n                            requestAnimationFrame(function rs() {\n                                that._rePositioningPicker();\n                                (timeout !== null) && requestAnimationFrame(rs);\n                            });\n                        } else {\n                            clearTimeout(timeout);\n                            timeout = setTimeout(() => timeout = null, 100);\n                        }\n                    }\n                }, {capture: true})\n            );\n        }\n\n        // Save bindings\n        this._eventBindings = eventBindings;\n    }\n\n    _rePositioningPicker() {\n        const {options} = this;\n\n        // No repositioning needed if inline\n        if (!options.inline) {\n            const success = this._nanopop.update({\n                container: document.body.getBoundingClientRect(),\n                position: options.position\n            });\n\n            if (!success) {\n                const el = this._root.app;\n                const eb = el.getBoundingClientRect();\n                el.style.top = `${(window.innerHeight - eb.height) / 2}px`;\n                el.style.left = `${(window.innerWidth - eb.width) / 2}px`;\n            }\n        }\n    }\n\n    _updateOutput(eventSource) {\n        const {_root, _color, options} = this;\n\n        // Check if component is present\n        if (_root.interaction.type()) {\n\n            // Construct function name and call if present\n            const method = `to${_root.interaction.type().getAttribute('data-type')}`;\n            _root.interaction.result.value = typeof _color[method] === 'function' ?\n                _color[method]().toString(options.outputPrecision) : '';\n        }\n\n        // Fire listener if initialization is finish\n        if (!this._initializingActive && this._recalc) {\n            this._emit('change', _color, eventSource, this);\n        }\n    }\n\n    _clearColor(silent = false) {\n        const {_root, options} = this;\n\n        // Change only the button color if it isn't customized\n        if (!options.useAsButton) {\n            _root.button.style.setProperty('--pcr-color', 'rgba(0, 0, 0, 0.15)');\n        }\n\n        _root.button.classList.add('clear');\n\n        if (!options.showAlways) {\n            this.hide();\n        }\n\n        this._lastColor = null;\n        if (!this._initializingActive && !silent) {\n\n            // Fire listener\n            this._emit('save', null);\n            this._emit('clear');\n        }\n    }\n\n    _parseLocalColor(str) {\n        const {values, type, a} = parseToHSVA(str);\n        const {lockOpacity} = this.options;\n        const alphaMakesAChange = a !== undefined && a !== 1;\n\n        // If no opacity is applied, add undefined at the very end which gets\n        // Set to 1 in setHSVA\n        if (values && values.length === 3) {\n            values[3] = undefined;\n        }\n\n        return {\n            values: (!values || (lockOpacity && alphaMakesAChange)) ? null : values,\n            type\n        };\n    }\n\n    _t(key) {\n        return this.options.i18n[key] || Pickr.I18N_DEFAULTS[key];\n    }\n\n    _emit(event, ...args) {\n        this._eventListener[event].forEach(cb => cb(...args, this));\n    }\n\n    on(event, cb) {\n        this._eventListener[event].push(cb);\n        return this;\n    }\n\n    off(event, cb) {\n        const callBacks = (this._eventListener[event] || []);\n        const index = callBacks.indexOf(cb);\n\n        if (~index) {\n            callBacks.splice(index, 1);\n        }\n\n        return this;\n    }\n\n    /**\n     * Appends a color to the swatch palette\n     * @param color\n     * @returns {boolean}\n     */\n    addSwatch(color) {\n        const {values} = this._parseLocalColor(color);\n\n        if (values) {\n            const {_swatchColors, _root} = this;\n            const color = HSVaColor(...values);\n\n            // Create new swatch HTMLElement\n            const el = _.createElementFromString(\n                `<button type=\"button\" style=\"--pcr-color: ${color.toRGBA().toString(0)}\" aria-label=\"${this._t('btn:swatch')}\"/>`\n            );\n\n            // Append element and save swatch data\n            _root.swatches.appendChild(el);\n            _swatchColors.push({el, color});\n\n            // Bind event\n            this._eventBindings.push(\n                _.on(el, 'click', () => {\n                    this.setHSVA(...color.toHSVA(), true);\n                    this._emit('swatchselect', color);\n                    this._emit('change', color, 'swatch', this);\n                })\n            );\n\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Removes a swatch color by it's index\n     * @param index\n     * @returns {boolean}\n     */\n    removeSwatch(index) {\n        const swatchColor = this._swatchColors[index];\n\n        // Check swatch data\n        if (swatchColor) {\n            const {el} = swatchColor;\n\n            // Remove HTML child and swatch data\n            this._root.swatches.removeChild(el);\n            this._swatchColors.splice(index, 1);\n            return true;\n        }\n\n        return false;\n    }\n\n    applyColor(silent = false) {\n        const {preview, button} = this._root;\n\n        // Change preview and current color\n        const cssRGBaString = this._color.toRGBA().toString(0);\n        preview.lastColor.style.setProperty('--pcr-color', cssRGBaString);\n\n        // Change only the button color if it isn't customized\n        if (!this.options.useAsButton) {\n            button.style.setProperty('--pcr-color', cssRGBaString);\n        }\n\n        // User changed the color so remove the clear clas\n        button.classList.remove('clear');\n\n        // Save last color\n        this._lastColor = this._color.clone();\n\n        // Fire listener\n        if (!this._initializingActive && !silent) {\n            this._emit('save', this._color);\n        }\n\n        return this;\n    }\n\n    /**\n     * Destroy's all functionalitys\n     */\n    destroy() {\n\n        // Cancel setup-frame if set\n        cancelAnimationFrame(this._setupAnimationFrame);\n\n        // Unbind events\n        this._eventBindings.forEach(args => _.off(...args));\n\n        // Destroy sub-components\n        Object.keys(this._components)\n            .forEach(key => this._components[key].destroy());\n    }\n\n    /**\n     * Destroy's all functionalitys and removes\n     * the pickr element.\n     */\n    destroyAndRemove() {\n        this.destroy();\n        const {root, app} = this._root;\n\n        // Remove element\n        if (root.parentElement) {\n            root.parentElement.removeChild(root);\n        }\n\n        // Remove .pcr-app\n        app.parentElement.removeChild(app);\n\n        // There are references to various DOM elements stored in the pickr instance\n        // This cleans all of them to avoid detached DOMs\n        Object.keys(this)\n            .forEach(key => this[key] = null);\n    }\n\n    /**\n     * Hides the color-picker ui.\n     */\n    hide() {\n        if (this.isOpen()) {\n            this._root.app.classList.remove('visible');\n            this._emit('hide');\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Shows the color-picker ui.\n     */\n    show() {\n        if (!this.options.disabled && !this.isOpen()) {\n            this._root.app.classList.add('visible');\n            this._rePositioningPicker();\n            this._emit('show', this._color);\n            return this;\n        }\n\n        return false;\n    }\n\n    /**\n     * @return {boolean} If the color picker is currently open\n     */\n    isOpen() {\n        return this._root.app.classList.contains('visible');\n    }\n\n    /**\n     * Set a specific color.\n     * @param h Hue\n     * @param s Saturation\n     * @param v Value\n     * @param a Alpha channel (0 - 1)\n     * @param silent If the button should not change the color\n     * @return boolean if the color has been accepted\n     */\n    setHSVA(h = 360, s = 0, v = 0, a = 1, silent = false) {\n\n        // Deactivate color calculation\n        const recalc = this._recalc; // Save state\n        this._recalc = false;\n\n        // Validate input\n        if (h < 0 || h > 360 || s < 0 || s > 100 || v < 0 || v > 100 || a < 0 || a > 1) {\n            return false;\n        }\n\n        // Override current color and re-active color calculation\n        this._color = HSVaColor(h, s, v, a);\n\n        // Update slider and palette\n        const {hue, opacity, palette} = this._components;\n        hue.update((h / 360));\n        opacity.update(a);\n        palette.update(s / 100, 1 - (v / 100));\n\n        // Check if call is silent\n        if (!silent) {\n            this.applyColor();\n        }\n\n        // Update output if recalculation is enabled\n        if (recalc) {\n            this._updateOutput();\n        }\n\n        // Restore old state\n        this._recalc = recalc;\n        return true;\n    }\n\n    /**\n     * Tries to parse a string which represents a color.\n     * Examples: #fff\n     *           rgb 10 10 200\n     *           hsva 10 20 5 0.5\n     * @param string\n     * @param silent\n     */\n    setColor(string, silent = false) {\n\n        // Check if null\n        if (string === null) {\n            this._clearColor(silent);\n            return true;\n        }\n\n        const {values, type} = this._parseLocalColor(string);\n\n        // Check if color is ok\n        if (values) {\n\n            // Change selected color format\n            const utype = type.toUpperCase();\n            const {options} = this._root.interaction;\n            const target = options.find(el => el.getAttribute('data-type') === utype);\n\n            // Auto select only if not hidden\n            if (target && !target.hidden) {\n                for (const el of options) {\n                    el.classList[el === target ? 'add' : 'remove']('active');\n                }\n            }\n\n            // Update color (fires 'save' event if silent is 'false')\n            if (!this.setHSVA(...values, silent)) {\n                return false;\n            }\n\n            // Update representation (fires 'change' event)\n            return this.setColorRepresentation(utype);\n        }\n\n        return false;\n    }\n\n    /**\n     * Changes the color _representation.\n     * Allowed values are HEX, RGB, HSV, HSL and CMYK\n     * @param type\n     * @returns {boolean} if the selected type was valid.\n     */\n    setColorRepresentation(type) {\n\n        // Force uppercase to allow a case-sensitiv comparison\n        type = type.toUpperCase();\n\n        // Find button with given type and trigger click event\n        return !!this._root.interaction.options\n            .find(v => v.getAttribute('data-type').startsWith(type) && !v.click());\n    }\n\n    /**\n     * Returns the current color representaion. See setColorRepresentation\n     * @returns {*}\n     */\n    getColorRepresentation() {\n        return this._representation;\n    }\n\n    /**\n     * @returns HSVaColor Current HSVaColor object.\n     */\n    getColor() {\n        return this._color;\n    }\n\n    /**\n     * Returns the currently selected color.\n     * @returns {{a, toHSVA, toHEXA, s, v, h, clone, toCMYK, toHSLA, toRGBA}}\n     */\n    getSelectedColor() {\n        return this._lastColor;\n    }\n\n    /**\n     * @returns The root HTMLElement with all his components.\n     */\n    getRoot() {\n        return this._root;\n    }\n\n    /**\n     * Disable pickr\n     */\n    disable() {\n        this.hide();\n        this.options.disabled = true;\n        this._root.button.classList.add('disabled');\n        return this;\n    }\n\n    /**\n     * Enable pickr\n     */\n    enable() {\n        this.options.disabled = false;\n        this._root.button.classList.remove('disabled');\n        return this;\n    }\n}\n"]},"metadata":{},"sourceType":"script"}