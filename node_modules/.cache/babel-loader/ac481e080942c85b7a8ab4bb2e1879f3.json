{"ast":null,"code":"var _typeof2=require(\"C:/Users/Max/Desktop/project1.0.0-main/node_modules/@babel/runtime/helpers/typeof.js\").default;require(\"core-js/modules/es.global-this.js\");require(\"core-js/modules/es.object.get-own-property-descriptor.js\");require(\"core-js/modules/es.object.to-string.js\");require(\"core-js/modules/es.typed-array.float32-array.js\");require(\"core-js/modules/es.typed-array.at.js\");require(\"core-js/modules/es.typed-array.copy-within.js\");require(\"core-js/modules/es.typed-array.every.js\");require(\"core-js/modules/es.typed-array.fill.js\");require(\"core-js/modules/es.typed-array.filter.js\");require(\"core-js/modules/es.typed-array.find.js\");require(\"core-js/modules/es.typed-array.find-index.js\");require(\"core-js/modules/es.typed-array.for-each.js\");require(\"core-js/modules/es.typed-array.includes.js\");require(\"core-js/modules/es.typed-array.index-of.js\");require(\"core-js/modules/es.typed-array.iterator.js\");require(\"core-js/modules/es.typed-array.join.js\");require(\"core-js/modules/es.typed-array.last-index-of.js\");require(\"core-js/modules/es.typed-array.map.js\");require(\"core-js/modules/es.typed-array.reduce.js\");require(\"core-js/modules/es.typed-array.reduce-right.js\");require(\"core-js/modules/es.typed-array.reverse.js\");require(\"core-js/modules/es.typed-array.set.js\");require(\"core-js/modules/es.typed-array.slice.js\");require(\"core-js/modules/es.typed-array.some.js\");require(\"core-js/modules/es.typed-array.sort.js\");require(\"core-js/modules/es.typed-array.subarray.js\");require(\"core-js/modules/es.typed-array.to-locale-string.js\");require(\"core-js/modules/es.typed-array.to-string.js\");require(\"core-js/modules/es.typed-array.int16-array.js\");require(\"core-js/modules/es.typed-array.uint8-clamped-array.js\");require(\"core-js/modules/es.symbol.js\");require(\"core-js/modules/es.symbol.description.js\");require(\"core-js/modules/es.symbol.iterator.js\");require(\"core-js/modules/es.string.iterator.js\");require(\"core-js/modules/web.dom-collections.iterator.js\");require(\"core-js/modules/es.regexp.exec.js\");require(\"core-js/modules/es.regexp.test.js\");require(\"core-js/modules/es.regexp.to-string.js\");require(\"core-js/modules/web.url.js\");require(\"core-js/modules/web.url-search-params.js\");require(\"core-js/modules/es.json.stringify.js\");require(\"core-js/modules/es.string.split.js\");require(\"core-js/modules/es.array.splice.js\");require(\"core-js/modules/es.string.trim.js\");require(\"core-js/modules/es.error.cause.js\");require(\"core-js/modules/es.function.name.js\");require(\"core-js/modules/es.number.constructor.js\");require(\"core-js/modules/es.array.concat.js\");require(\"core-js/modules/es.array.slice.js\");require(\"core-js/modules/es.string.replace.js\");require(\"core-js/modules/es.array.join.js\");require(\"core-js/modules/es.array.fill.js\");require(\"core-js/modules/es.typed-array.uint8-array.js\");typeof navigator!==\"undefined\"&&function(global,factory){(typeof exports===\"undefined\"?\"undefined\":_typeof2(exports))==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global=typeof globalThis!=='undefined'?globalThis:global||self,global.lottie=factory());}(this,function(){'use strict';var svgNS='http://www.w3.org/2000/svg';var locationHref='';var _useWebWorker=false;var initialDefaultFrame=-999999;var setWebWorker=function setWebWorker(flag){_useWebWorker=!!flag;};var getWebWorker=function getWebWorker(){return _useWebWorker;};var setLocationHref=function setLocationHref(value){locationHref=value;};var getLocationHref=function getLocationHref(){return locationHref;};function createTag(type){// return {appendChild:function(){},setAttribute:function(){},style:{}}\nreturn document.createElement(type);}function extendPrototype(sources,destination){var i;var len=sources.length;var sourcePrototype;for(i=0;i<len;i+=1){sourcePrototype=sources[i].prototype;for(var attr in sourcePrototype){if(Object.prototype.hasOwnProperty.call(sourcePrototype,attr))destination.prototype[attr]=sourcePrototype[attr];}}}function getDescriptor(object,prop){return Object.getOwnPropertyDescriptor(object,prop);}function createProxyFunction(prototype){function ProxyFunction(){}ProxyFunction.prototype=prototype;return ProxyFunction;}// import Howl from '../../3rd_party/howler';\nvar audioControllerFactory=function(){function AudioController(audioFactory){this.audios=[];this.audioFactory=audioFactory;this._volume=1;this._isMuted=false;}AudioController.prototype={addAudio:function addAudio(audio){this.audios.push(audio);},pause:function pause(){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].pause();}},resume:function resume(){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].resume();}},setRate:function setRate(rateValue){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].setRate(rateValue);}},createAudio:function createAudio(assetPath){if(this.audioFactory){return this.audioFactory(assetPath);}if(window.Howl){return new window.Howl({src:[assetPath]});}return{isPlaying:false,play:function play(){this.isPlaying=true;},seek:function seek(){this.isPlaying=false;},playing:function playing(){},rate:function rate(){},setVolume:function setVolume(){}};},setAudioFactory:function setAudioFactory(audioFactory){this.audioFactory=audioFactory;},setVolume:function setVolume(value){this._volume=value;this._updateVolume();},mute:function mute(){this._isMuted=true;this._updateVolume();},unmute:function unmute(){this._isMuted=false;this._updateVolume();},getVolume:function getVolume(){return this._volume;},_updateVolume:function _updateVolume(){var i;var len=this.audios.length;for(i=0;i<len;i+=1){this.audios[i].volume(this._volume*(this._isMuted?0:1));}}};return function(){return new AudioController();};}();var createTypedArray=function(){function createRegularArray(type,len){var i=0;var arr=[];var value;switch(type){case'int16':case'uint8c':value=1;break;default:value=1.1;break;}for(i=0;i<len;i+=1){arr.push(value);}return arr;}function createTypedArrayFactory(type,len){if(type==='float32'){return new Float32Array(len);}if(type==='int16'){return new Int16Array(len);}if(type==='uint8c'){return new Uint8ClampedArray(len);}return createRegularArray(type,len);}if(typeof Uint8ClampedArray==='function'&&typeof Float32Array==='function'){return createTypedArrayFactory;}return createRegularArray;}();function createSizedArray(len){return Array.apply(null,{length:len});}function _typeof$6(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$6=function _typeof(obj){return typeof obj;};}else{_typeof$6=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$6(obj);}var subframeEnabled=true;var expressionsPlugin=null;var idPrefix='';var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var _shouldRoundValues=false;var bmPow=Math.pow;var bmSqrt=Math.sqrt;var bmFloor=Math.floor;var bmMax=Math.max;var bmMin=Math.min;var BMMath={};(function(){var propertyNames=['abs','acos','acosh','asin','asinh','atan','atanh','atan2','ceil','cbrt','expm1','clz32','cos','cosh','exp','floor','fround','hypot','imul','log','log1p','log2','log10','max','min','pow','random','round','sign','sin','sinh','sqrt','tan','tanh','trunc','E','LN10','LN2','LOG10E','LOG2E','PI','SQRT1_2','SQRT2'];var i;var len=propertyNames.length;for(i=0;i<len;i+=1){BMMath[propertyNames[i]]=Math[propertyNames[i]];}})();function ProjectInterface$1(){return{};}BMMath.random=Math.random;BMMath.abs=function(val){var tOfVal=_typeof$6(val);if(tOfVal==='object'&&val.length){var absArr=createSizedArray(val.length);var i;var len=val.length;for(i=0;i<len;i+=1){absArr[i]=Math.abs(val[i]);}return absArr;}return Math.abs(val);};var defaultCurveSegments=150;var degToRads=Math.PI/180;var roundCorner=0.5519;function roundValues(flag){_shouldRoundValues=!!flag;}function bmRnd(value){if(_shouldRoundValues){return Math.round(value);}return value;}function styleDiv(element){element.style.position='absolute';element.style.top=0;element.style.left=0;element.style.display='block';element.style.transformOrigin='0 0';element.style.webkitTransformOrigin='0 0';element.style.backfaceVisibility='visible';element.style.webkitBackfaceVisibility='visible';element.style.transformStyle='preserve-3d';element.style.webkitTransformStyle='preserve-3d';element.style.mozTransformStyle='preserve-3d';}function BMEnterFrameEvent(type,currentTime,totalTime,frameMultiplier){this.type=type;this.currentTime=currentTime;this.totalTime=totalTime;this.direction=frameMultiplier<0?-1:1;}function BMCompleteEvent(type,frameMultiplier){this.type=type;this.direction=frameMultiplier<0?-1:1;}function BMCompleteLoopEvent(type,totalLoops,currentLoop,frameMultiplier){this.type=type;this.currentLoop=currentLoop;this.totalLoops=totalLoops;this.direction=frameMultiplier<0?-1:1;}function BMSegmentStartEvent(type,firstFrame,totalFrames){this.type=type;this.firstFrame=firstFrame;this.totalFrames=totalFrames;}function BMDestroyEvent(type,target){this.type=type;this.target=target;}function BMRenderFrameErrorEvent(nativeError,currentTime){this.type='renderFrameError';this.nativeError=nativeError;this.currentTime=currentTime;}function BMConfigErrorEvent(nativeError){this.type='configError';this.nativeError=nativeError;}function BMAnimationConfigErrorEvent(type,nativeError){this.type=type;this.nativeError=nativeError;}var createElementID=function(){var _count=0;return function createID(){_count+=1;return idPrefix+'__lottie_element_'+_count;};}();function HSVtoRGB(h,s,v){var r;var g;var b;var i;var f;var p;var q;var t;i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q;break;default:break;}return[r,g,b];}function RGBtoHSV(r,g,b){var max=Math.max(r,g,b);var min=Math.min(r,g,b);var d=max-min;var h;var s=max===0?0:d/max;var v=max/255;switch(max){case min:h=0;break;case r:h=g-b+d*(g<b?6:0);h/=6*d;break;case g:h=b-r+d*2;h/=6*d;break;case b:h=r-g+d*4;h/=6*d;break;default:break;}return[h,s,v];}function addSaturationToRGB(color,offset){var hsv=RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);hsv[1]+=offset;if(hsv[1]>1){hsv[1]=1;}else if(hsv[1]<=0){hsv[1]=0;}return HSVtoRGB(hsv[0],hsv[1],hsv[2]);}function addBrightnessToRGB(color,offset){var hsv=RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);hsv[2]+=offset;if(hsv[2]>1){hsv[2]=1;}else if(hsv[2]<0){hsv[2]=0;}return HSVtoRGB(hsv[0],hsv[1],hsv[2]);}function addHueToRGB(color,offset){var hsv=RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);hsv[0]+=offset/360;if(hsv[0]>1){hsv[0]-=1;}else if(hsv[0]<0){hsv[0]+=1;}return HSVtoRGB(hsv[0],hsv[1],hsv[2]);}var rgbToHex=function(){var colorMap=[];var i;var hex;for(i=0;i<256;i+=1){hex=i.toString(16);colorMap[i]=hex.length===1?'0'+hex:hex;}return function(r,g,b){if(r<0){r=0;}if(g<0){g=0;}if(b<0){b=0;}return'#'+colorMap[r]+colorMap[g]+colorMap[b];};}();var setSubframeEnabled=function setSubframeEnabled(flag){subframeEnabled=!!flag;};var getSubframeEnabled=function getSubframeEnabled(){return subframeEnabled;};var setExpressionsPlugin=function setExpressionsPlugin(value){expressionsPlugin=value;};var getExpressionsPlugin=function getExpressionsPlugin(){return expressionsPlugin;};var setDefaultCurveSegments=function setDefaultCurveSegments(value){defaultCurveSegments=value;};var getDefaultCurveSegments=function getDefaultCurveSegments(){return defaultCurveSegments;};var setIdPrefix=function setIdPrefix(value){idPrefix=value;};var getIdPrefix=function getIdPrefix(){return idPrefix;};function createNS(type){// return {appendChild:function(){},setAttribute:function(){},style:{}}\nreturn document.createElementNS(svgNS,type);}function _typeof$5(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$5=function _typeof(obj){return typeof obj;};}else{_typeof$5=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$5(obj);}var dataManager=function(){var _counterId=1;var processes=[];var workerFn;var workerInstance;var workerProxy={onmessage:function onmessage(){},postMessage:function postMessage(path){workerFn({data:path});}};var _workerSelf={postMessage:function postMessage(data){workerProxy.onmessage({data:data});}};function createWorker(fn){if(window.Worker&&window.Blob&&getWebWorker()){var blob=new Blob(['var _workerSelf = self; self.onmessage = ',fn.toString()],{type:'text/javascript'});// var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\nvar url=URL.createObjectURL(blob);return new Worker(url);}workerFn=fn;return workerProxy;}function setupWorker(){if(!workerInstance){workerInstance=createWorker(function workerStart(e){function dataFunctionManager(){function completeLayers(layers,comps){var layerData;var i;var len=layers.length;var j;var jLen;var k;var kLen;for(i=0;i<len;i+=1){layerData=layers[i];if('ks'in layerData&&!layerData.completed){layerData.completed=true;if(layerData.tt){layers[i-1].td=layerData.tt;}if(layerData.hasMask){var maskProps=layerData.masksProperties;jLen=maskProps.length;for(j=0;j<jLen;j+=1){if(maskProps[j].pt.k.i){convertPathsToAbsoluteValues(maskProps[j].pt.k);}else{kLen=maskProps[j].pt.k.length;for(k=0;k<kLen;k+=1){if(maskProps[j].pt.k[k].s){convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);}if(maskProps[j].pt.k[k].e){convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);}}}}}if(layerData.ty===0){layerData.layers=findCompLayers(layerData.refId,comps);completeLayers(layerData.layers,comps);}else if(layerData.ty===4){completeShapes(layerData.shapes);}else if(layerData.ty===5){completeText(layerData);}}}}function completeChars(chars,assets){if(chars){var i=0;var len=chars.length;for(i=0;i<len;i+=1){if(chars[i].t===1){// var compData = findComp(chars[i].data.refId, assets);\nchars[i].data.layers=findCompLayers(chars[i].data.refId,assets);// chars[i].data.ip = 0;\n// chars[i].data.op = 99999;\n// chars[i].data.st = 0;\n// chars[i].data.sr = 1;\n// chars[i].w = compData.w;\n// chars[i].data.ks = {\n//   a: { k: [0, 0, 0], a: 0 },\n//   p: { k: [0, -compData.h, 0], a: 0 },\n//   r: { k: 0, a: 0 },\n//   s: { k: [100, 100], a: 0 },\n//   o: { k: 100, a: 0 },\n// };\ncompleteLayers(chars[i].data.layers,assets);}}}}function findComp(id,comps){var i=0;var len=comps.length;while(i<len){if(comps[i].id===id){return comps[i];}i+=1;}return null;}function findCompLayers(id,comps){var comp=findComp(id,comps);if(comp){if(!comp.layers.__used){comp.layers.__used=true;return comp.layers;}return JSON.parse(JSON.stringify(comp.layers));}return null;}function completeShapes(arr){var i;var len=arr.length;var j;var jLen;for(i=len-1;i>=0;i-=1){if(arr[i].ty==='sh'){if(arr[i].ks.k.i){convertPathsToAbsoluteValues(arr[i].ks.k);}else{jLen=arr[i].ks.k.length;for(j=0;j<jLen;j+=1){if(arr[i].ks.k[j].s){convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);}if(arr[i].ks.k[j].e){convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);}}}}else if(arr[i].ty==='gr'){completeShapes(arr[i].it);}}}function convertPathsToAbsoluteValues(path){var i;var len=path.i.length;for(i=0;i<len;i+=1){path.i[i][0]+=path.v[i][0];path.i[i][1]+=path.v[i][1];path.o[i][0]+=path.v[i][0];path.o[i][1]+=path.v[i][1];}}function checkVersion(minimum,animVersionString){var animVersion=animVersionString?animVersionString.split('.'):[100,100,100];if(minimum[0]>animVersion[0]){return true;}if(animVersion[0]>minimum[0]){return false;}if(minimum[1]>animVersion[1]){return true;}if(animVersion[1]>minimum[1]){return false;}if(minimum[2]>animVersion[2]){return true;}if(animVersion[2]>minimum[2]){return false;}return null;}var checkText=function(){var minimumVersion=[4,4,14];function updateTextLayer(textLayer){var documentData=textLayer.t.d;textLayer.t.d={k:[{s:documentData,t:0}]};}function iterateLayers(layers){var i;var len=layers.length;for(i=0;i<len;i+=1){if(layers[i].ty===5){updateTextLayer(layers[i]);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();var checkChars=function(){var minimumVersion=[4,7,99];return function(animationData){if(animationData.chars&&!checkVersion(minimumVersion,animationData.v)){var i;var len=animationData.chars.length;for(i=0;i<len;i+=1){var charData=animationData.chars[i];if(charData.data&&charData.data.shapes){completeShapes(charData.data.shapes);charData.data.ip=0;charData.data.op=99999;charData.data.st=0;charData.data.sr=1;charData.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}};if(!animationData.chars[i].t){charData.data.shapes.push({ty:'no'});charData.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:'tr'});}}}}};}();var checkPathProperties=function(){var minimumVersion=[5,7,15];function updateTextLayer(textLayer){var pathData=textLayer.t.p;if(typeof pathData.a==='number'){pathData.a={a:0,k:pathData.a};}if(typeof pathData.p==='number'){pathData.p={a:0,k:pathData.p};}if(typeof pathData.r==='number'){pathData.r={a:0,k:pathData.r};}}function iterateLayers(layers){var i;var len=layers.length;for(i=0;i<len;i+=1){if(layers[i].ty===5){updateTextLayer(layers[i]);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();var checkColors=function(){var minimumVersion=[4,1,9];function iterateShapes(shapes){var i;var len=shapes.length;var j;var jLen;for(i=0;i<len;i+=1){if(shapes[i].ty==='gr'){iterateShapes(shapes[i].it);}else if(shapes[i].ty==='fl'||shapes[i].ty==='st'){if(shapes[i].c.k&&shapes[i].c.k[0].i){jLen=shapes[i].c.k.length;for(j=0;j<jLen;j+=1){if(shapes[i].c.k[j].s){shapes[i].c.k[j].s[0]/=255;shapes[i].c.k[j].s[1]/=255;shapes[i].c.k[j].s[2]/=255;shapes[i].c.k[j].s[3]/=255;}if(shapes[i].c.k[j].e){shapes[i].c.k[j].e[0]/=255;shapes[i].c.k[j].e[1]/=255;shapes[i].c.k[j].e[2]/=255;shapes[i].c.k[j].e[3]/=255;}}}else{shapes[i].c.k[0]/=255;shapes[i].c.k[1]/=255;shapes[i].c.k[2]/=255;shapes[i].c.k[3]/=255;}}}}function iterateLayers(layers){var i;var len=layers.length;for(i=0;i<len;i+=1){if(layers[i].ty===4){iterateShapes(layers[i].shapes);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();var checkShapes=function(){var minimumVersion=[4,4,18];function completeClosingShapes(arr){var i;var len=arr.length;var j;var jLen;for(i=len-1;i>=0;i-=1){if(arr[i].ty==='sh'){if(arr[i].ks.k.i){arr[i].ks.k.c=arr[i].closed;}else{jLen=arr[i].ks.k.length;for(j=0;j<jLen;j+=1){if(arr[i].ks.k[j].s){arr[i].ks.k[j].s[0].c=arr[i].closed;}if(arr[i].ks.k[j].e){arr[i].ks.k[j].e[0].c=arr[i].closed;}}}}else if(arr[i].ty==='gr'){completeClosingShapes(arr[i].it);}}}function iterateLayers(layers){var layerData;var i;var len=layers.length;var j;var jLen;var k;var kLen;for(i=0;i<len;i+=1){layerData=layers[i];if(layerData.hasMask){var maskProps=layerData.masksProperties;jLen=maskProps.length;for(j=0;j<jLen;j+=1){if(maskProps[j].pt.k.i){maskProps[j].pt.k.c=maskProps[j].cl;}else{kLen=maskProps[j].pt.k.length;for(k=0;k<kLen;k+=1){if(maskProps[j].pt.k[k].s){maskProps[j].pt.k[k].s[0].c=maskProps[j].cl;}if(maskProps[j].pt.k[k].e){maskProps[j].pt.k[k].e[0].c=maskProps[j].cl;}}}}}if(layerData.ty===4){completeClosingShapes(layerData.shapes);}}}return function(animationData){if(checkVersion(minimumVersion,animationData.v)){iterateLayers(animationData.layers);if(animationData.assets){var i;var len=animationData.assets.length;for(i=0;i<len;i+=1){if(animationData.assets[i].layers){iterateLayers(animationData.assets[i].layers);}}}}};}();function completeData(animationData){if(animationData.__complete){return;}checkColors(animationData);checkText(animationData);checkChars(animationData);checkPathProperties(animationData);checkShapes(animationData);completeLayers(animationData.layers,animationData.assets);completeChars(animationData.chars,animationData.assets);animationData.__complete=true;}function completeText(data){if(data.t.a.length===0&&!('m'in data.t.p)){// data.singleShape = true;\n}}var moduleOb={};moduleOb.completeData=completeData;moduleOb.checkColors=checkColors;moduleOb.checkChars=checkChars;moduleOb.checkPathProperties=checkPathProperties;moduleOb.checkShapes=checkShapes;moduleOb.completeLayers=completeLayers;return moduleOb;}if(!_workerSelf.dataManager){_workerSelf.dataManager=dataFunctionManager();}if(!_workerSelf.assetLoader){_workerSelf.assetLoader=function(){function formatResponse(xhr){// using typeof doubles the time of execution of this method,\n// so if available, it's better to use the header to validate the type\nvar contentTypeHeader=xhr.getResponseHeader('content-type');if(contentTypeHeader&&xhr.responseType==='json'&&contentTypeHeader.indexOf('json')!==-1){return xhr.response;}if(xhr.response&&_typeof$5(xhr.response)==='object'){return xhr.response;}if(xhr.response&&typeof xhr.response==='string'){return JSON.parse(xhr.response);}if(xhr.responseText){return JSON.parse(xhr.responseText);}return null;}function loadAsset(path,fullPath,callback,errorCallback){var response;var xhr=new XMLHttpRequest();// set responseType after calling open or IE will break.\ntry{// This crashes on Android WebView prior to KitKat\nxhr.responseType='json';}catch(err){}// eslint-disable-line no-empty\nxhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200){response=formatResponse(xhr);callback(response);}else{try{response=formatResponse(xhr);callback(response);}catch(err){if(errorCallback){errorCallback(err);}}}}};try{xhr.open('GET',path,true);}catch(error){xhr.open('GET',fullPath+'/'+path,true);}xhr.send();}return{load:loadAsset};}();}if(e.data.type==='loadAnimation'){_workerSelf.assetLoader.load(e.data.path,e.data.fullPath,function(data){_workerSelf.dataManager.completeData(data);_workerSelf.postMessage({id:e.data.id,payload:data,status:'success'});},function(){_workerSelf.postMessage({id:e.data.id,status:'error'});});}else if(e.data.type==='complete'){var animation=e.data.animation;_workerSelf.dataManager.completeData(animation);_workerSelf.postMessage({id:e.data.id,payload:animation,status:'success'});}else if(e.data.type==='loadData'){_workerSelf.assetLoader.load(e.data.path,e.data.fullPath,function(data){_workerSelf.postMessage({id:e.data.id,payload:data,status:'success'});},function(){_workerSelf.postMessage({id:e.data.id,status:'error'});});}});workerInstance.onmessage=function(event){var data=event.data;var id=data.id;var process=processes[id];processes[id]=null;if(data.status==='success'){process.onComplete(data.payload);}else if(process.onError){process.onError();}};}}function createProcess(onComplete,onError){_counterId+=1;var id='processId_'+_counterId;processes[id]={onComplete:onComplete,onError:onError};return id;}function loadAnimation(path,onComplete,onError){setupWorker();var processId=createProcess(onComplete,onError);workerInstance.postMessage({type:'loadAnimation',path:path,fullPath:window.location.origin+window.location.pathname,id:processId});}function loadData(path,onComplete,onError){setupWorker();var processId=createProcess(onComplete,onError);workerInstance.postMessage({type:'loadData',path:path,fullPath:window.location.origin+window.location.pathname,id:processId});}function completeAnimation(anim,onComplete,onError){setupWorker();var processId=createProcess(onComplete,onError);workerInstance.postMessage({type:'complete',animation:anim,id:processId});}return{loadAnimation:loadAnimation,loadData:loadData,completeAnimation:completeAnimation};}();var ImagePreloader=function(){var proxyImage=function(){var canvas=createTag('canvas');canvas.width=1;canvas.height=1;var ctx=canvas.getContext('2d');ctx.fillStyle='rgba(0,0,0,0)';ctx.fillRect(0,0,1,1);return canvas;}();function imageLoaded(){this.loadedAssets+=1;if(this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages){if(this.imagesLoadedCb){this.imagesLoadedCb(null);}}}function footageLoaded(){this.loadedFootagesCount+=1;if(this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages){if(this.imagesLoadedCb){this.imagesLoadedCb(null);}}}function getAssetsPath(assetData,assetsPath,originalPath){var path='';if(assetData.e){path=assetData.p;}else if(assetsPath){var imagePath=assetData.p;if(imagePath.indexOf('images/')!==-1){imagePath=imagePath.split('/')[1];}path=assetsPath+imagePath;}else{path=originalPath;path+=assetData.u?assetData.u:'';path+=assetData.p;}return path;}function testImageLoaded(img){var _count=0;var intervalId=setInterval(function(){var box=img.getBBox();if(box.width||_count>500){this._imageLoaded();clearInterval(intervalId);}_count+=1;}.bind(this),50);}function createImageData(assetData){var path=getAssetsPath(assetData,this.assetsPath,this.path);var img=createNS('image');if(isSafari){this.testImageLoaded(img);}else{img.addEventListener('load',this._imageLoaded,false);}img.addEventListener('error',function(){ob.img=proxyImage;this._imageLoaded();}.bind(this),false);img.setAttributeNS('http://www.w3.org/1999/xlink','href',path);if(this._elementHelper.append){this._elementHelper.append(img);}else{this._elementHelper.appendChild(img);}var ob={img:img,assetData:assetData};return ob;}function createImgData(assetData){var path=getAssetsPath(assetData,this.assetsPath,this.path);var img=createTag('img');img.crossOrigin='anonymous';img.addEventListener('load',this._imageLoaded,false);img.addEventListener('error',function(){ob.img=proxyImage;this._imageLoaded();}.bind(this),false);img.src=path;var ob={img:img,assetData:assetData};return ob;}function createFootageData(data){var ob={assetData:data};var path=getAssetsPath(data,this.assetsPath,this.path);dataManager.loadData(path,function(footageData){ob.img=footageData;this._footageLoaded();}.bind(this),function(){ob.img={};this._footageLoaded();}.bind(this));return ob;}function loadAssets(assets,cb){this.imagesLoadedCb=cb;var i;var len=assets.length;for(i=0;i<len;i+=1){if(!assets[i].layers){if(!assets[i].t||assets[i].t==='seq'){this.totalImages+=1;this.images.push(this._createImageData(assets[i]));}else if(assets[i].t===3){this.totalFootages+=1;this.images.push(this.createFootageData(assets[i]));}}}}function setPath(path){this.path=path||'';}function setAssetsPath(path){this.assetsPath=path||'';}function getAsset(assetData){var i=0;var len=this.images.length;while(i<len){if(this.images[i].assetData===assetData){return this.images[i].img;}i+=1;}return null;}function destroy(){this.imagesLoadedCb=null;this.images.length=0;}function loadedImages(){return this.totalImages===this.loadedAssets;}function loadedFootages(){return this.totalFootages===this.loadedFootagesCount;}function setCacheType(type,elementHelper){if(type==='svg'){this._elementHelper=elementHelper;this._createImageData=this.createImageData.bind(this);}else{this._createImageData=this.createImgData.bind(this);}}function ImagePreloaderFactory(){this._imageLoaded=imageLoaded.bind(this);this._footageLoaded=footageLoaded.bind(this);this.testImageLoaded=testImageLoaded.bind(this);this.createFootageData=createFootageData.bind(this);this.assetsPath='';this.path='';this.totalImages=0;this.totalFootages=0;this.loadedAssets=0;this.loadedFootagesCount=0;this.imagesLoadedCb=null;this.images=[];}ImagePreloaderFactory.prototype={loadAssets:loadAssets,setAssetsPath:setAssetsPath,setPath:setPath,loadedImages:loadedImages,loadedFootages:loadedFootages,destroy:destroy,getAsset:getAsset,createImgData:createImgData,createImageData:createImageData,imageLoaded:imageLoaded,footageLoaded:footageLoaded,setCacheType:setCacheType};return ImagePreloaderFactory;}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function triggerEvent(eventName,args){if(this._cbs[eventName]){var callbacks=this._cbs[eventName];for(var i=0;i<callbacks.length;i+=1){callbacks[i](args);}}},addEventListener:function addEventListener(eventName,callback){if(!this._cbs[eventName]){this._cbs[eventName]=[];}this._cbs[eventName].push(callback);return function(){this.removeEventListener(eventName,callback);}.bind(this);},removeEventListener:function removeEventListener(eventName,callback){if(!callback){this._cbs[eventName]=null;}else if(this._cbs[eventName]){var i=0;var len=this._cbs[eventName].length;while(i<len){if(this._cbs[eventName][i]===callback){this._cbs[eventName].splice(i,1);i-=1;len-=1;}i+=1;}if(!this._cbs[eventName].length){this._cbs[eventName]=null;}}}};var markerParser=function(){function parsePayloadLines(payload){var lines=payload.split('\\r\\n');var keys={};var line;var keysCount=0;for(var i=0;i<lines.length;i+=1){line=lines[i].split(':');if(line.length===2){keys[line[0]]=line[1].trim();keysCount+=1;}}if(keysCount===0){throw new Error();}return keys;}return function(_markers){var markers=[];for(var i=0;i<_markers.length;i+=1){var _marker=_markers[i];var markerData={time:_marker.tm,duration:_marker.dr};try{markerData.payload=JSON.parse(_markers[i].cm);}catch(_){try{markerData.payload=parsePayloadLines(_markers[i].cm);}catch(__){markerData.payload={name:_markers[i]};}}markers.push(markerData);}return markers;};}();var ProjectInterface=function(){function registerComposition(comp){this.compositions.push(comp);}return function(){function _thisProjectFunction(name){var i=0;var len=this.compositions.length;while(i<len){if(this.compositions[i].data&&this.compositions[i].data.nm===name){if(this.compositions[i].prepareFrame&&this.compositions[i].data.xt){this.compositions[i].prepareFrame(this.currentFrame);}return this.compositions[i].compInterface;}i+=1;}return null;}_thisProjectFunction.compositions=[];_thisProjectFunction.currentFrame=0;_thisProjectFunction.registerComposition=registerComposition;return _thisProjectFunction;};}();var renderers={};var registerRenderer=function registerRenderer(key,value){renderers[key]=value;};function getRenderer(key){return renderers[key];}function _typeof$4(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$4=function _typeof(obj){return typeof obj;};}else{_typeof$4=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$4(obj);}var AnimationItem=function AnimationItem(){this._cbs=[];this.name='';this.path='';this.isLoaded=false;this.currentFrame=0;this.currentRawFrame=0;this.firstFrame=0;this.totalFrames=0;this.frameRate=0;this.frameMult=0;this.playSpeed=1;this.playDirection=1;this.playCount=0;this.animationData={};this.assets=[];this.isPaused=true;this.autoplay=false;this.loop=true;this.renderer=null;this.animationID=createElementID();this.assetsPath='';this.timeCompleted=0;this.segmentPos=0;this.isSubframeEnabled=getSubframeEnabled();this.segments=[];this._idle=true;this._completedLoop=false;this.projectInterface=ProjectInterface();this.imagePreloader=new ImagePreloader();this.audioController=audioControllerFactory();this.markers=[];this.configAnimation=this.configAnimation.bind(this);this.onSetupError=this.onSetupError.bind(this);this.onSegmentComplete=this.onSegmentComplete.bind(this);};extendPrototype([BaseEvent],AnimationItem);AnimationItem.prototype.setParams=function(params){if(params.wrapper||params.container){this.wrapper=params.wrapper||params.container;}var animType='svg';if(params.animType){animType=params.animType;}else if(params.renderer){animType=params.renderer;}var RendererClass=getRenderer(animType);this.renderer=new RendererClass(this,params.rendererSettings);this.imagePreloader.setCacheType(animType,this.renderer.globalData.defs);this.renderer.setProjectInterface(this.projectInterface);this.animType=animType;if(params.loop===''||params.loop===null||params.loop===undefined||params.loop===true){this.loop=true;}else if(params.loop===false){this.loop=false;}else{this.loop=parseInt(params.loop,10);}this.autoplay='autoplay'in params?params.autoplay:true;this.name=params.name?params.name:'';this.autoloadSegments=Object.prototype.hasOwnProperty.call(params,'autoloadSegments')?params.autoloadSegments:true;this.assetsPath=params.assetsPath;this.initialSegment=params.initialSegment;if(params.audioFactory){this.audioController.setAudioFactory(params.audioFactory);}if(params.animationData){this.setupAnimation(params.animationData);}else if(params.path){if(params.path.lastIndexOf('\\\\')!==-1){this.path=params.path.substr(0,params.path.lastIndexOf('\\\\')+1);}else{this.path=params.path.substr(0,params.path.lastIndexOf('/')+1);}this.fileName=params.path.substr(params.path.lastIndexOf('/')+1);this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf('.json'));dataManager.loadAnimation(params.path,this.configAnimation,this.onSetupError);}};AnimationItem.prototype.onSetupError=function(){this.trigger('data_failed');};AnimationItem.prototype.setupAnimation=function(data){dataManager.completeAnimation(data,this.configAnimation);};AnimationItem.prototype.setData=function(wrapper,animationData){if(animationData){if(_typeof$4(animationData)!=='object'){animationData=JSON.parse(animationData);}}var params={wrapper:wrapper,animationData:animationData};var wrapperAttributes=wrapper.attributes;params.path=wrapperAttributes.getNamedItem('data-animation-path')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-animation-path').value:wrapperAttributes.getNamedItem('data-bm-path')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-path').value:wrapperAttributes.getNamedItem('bm-path')?wrapperAttributes.getNamedItem('bm-path').value:'';params.animType=wrapperAttributes.getNamedItem('data-anim-type')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-type').value:wrapperAttributes.getNamedItem('data-bm-type')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-type').value:wrapperAttributes.getNamedItem('bm-type')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('bm-type').value:wrapperAttributes.getNamedItem('data-bm-renderer')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-renderer').value:wrapperAttributes.getNamedItem('bm-renderer')?wrapperAttributes.getNamedItem('bm-renderer').value:'canvas';var loop=wrapperAttributes.getNamedItem('data-anim-loop')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-loop').value:wrapperAttributes.getNamedItem('data-bm-loop')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-loop').value:wrapperAttributes.getNamedItem('bm-loop')?wrapperAttributes.getNamedItem('bm-loop').value:'';if(loop==='false'){params.loop=false;}else if(loop==='true'){params.loop=true;}else if(loop!==''){params.loop=parseInt(loop,10);}var autoplay=wrapperAttributes.getNamedItem('data-anim-autoplay')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-autoplay').value:wrapperAttributes.getNamedItem('data-bm-autoplay')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-autoplay').value:wrapperAttributes.getNamedItem('bm-autoplay')?wrapperAttributes.getNamedItem('bm-autoplay').value:true;params.autoplay=autoplay!=='false';params.name=wrapperAttributes.getNamedItem('data-name')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-name').value:wrapperAttributes.getNamedItem('data-bm-name')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-name').value:wrapperAttributes.getNamedItem('bm-name')?wrapperAttributes.getNamedItem('bm-name').value:'';var prerender=wrapperAttributes.getNamedItem('data-anim-prerender')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-anim-prerender').value:wrapperAttributes.getNamedItem('data-bm-prerender')// eslint-disable-line no-nested-ternary\n?wrapperAttributes.getNamedItem('data-bm-prerender').value:wrapperAttributes.getNamedItem('bm-prerender')?wrapperAttributes.getNamedItem('bm-prerender').value:'';if(prerender==='false'){params.prerender=false;}this.setParams(params);};AnimationItem.prototype.includeLayers=function(data){if(data.op>this.animationData.op){this.animationData.op=data.op;this.totalFrames=Math.floor(data.op-this.animationData.ip);}var layers=this.animationData.layers;var i;var len=layers.length;var newLayers=data.layers;var j;var jLen=newLayers.length;for(j=0;j<jLen;j+=1){i=0;while(i<len){if(layers[i].id===newLayers[j].id){layers[i]=newLayers[j];break;}i+=1;}}if(data.chars||data.fonts){this.renderer.globalData.fontManager.addChars(data.chars);this.renderer.globalData.fontManager.addFonts(data.fonts,this.renderer.globalData.defs);}if(data.assets){len=data.assets.length;for(i=0;i<len;i+=1){this.animationData.assets.push(data.assets[i]);}}this.animationData.__complete=false;dataManager.completeAnimation(this.animationData,this.onSegmentComplete);};AnimationItem.prototype.onSegmentComplete=function(data){this.animationData=data;var expressionsPlugin=getExpressionsPlugin();if(expressionsPlugin){expressionsPlugin.initExpressions(this);}this.loadNextSegment();};AnimationItem.prototype.loadNextSegment=function(){var segments=this.animationData.segments;if(!segments||segments.length===0||!this.autoloadSegments){this.trigger('data_ready');this.timeCompleted=this.totalFrames;return;}var segment=segments.shift();this.timeCompleted=segment.time*this.frameRate;var segmentPath=this.path+this.fileName+'_'+this.segmentPos+'.json';this.segmentPos+=1;dataManager.loadData(segmentPath,this.includeLayers.bind(this),function(){this.trigger('data_failed');}.bind(this));};AnimationItem.prototype.loadSegments=function(){var segments=this.animationData.segments;if(!segments){this.timeCompleted=this.totalFrames;}this.loadNextSegment();};AnimationItem.prototype.imagesLoaded=function(){this.trigger('loaded_images');this.checkLoaded();};AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath);this.imagePreloader.setPath(this.path);this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this));};AnimationItem.prototype.configAnimation=function(animData){if(!this.renderer){return;}try{this.animationData=animData;if(this.initialSegment){this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]);this.firstFrame=Math.round(this.initialSegment[0]);}else{this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip);this.firstFrame=Math.round(this.animationData.ip);}this.renderer.configAnimation(animData);if(!animData.assets){animData.assets=[];}this.assets=this.animationData.assets;this.frameRate=this.animationData.fr;this.frameMult=this.animationData.fr/1000;this.renderer.searchExtraCompositions(animData.assets);this.markers=markerParser(animData.markers||[]);this.trigger('config_ready');this.preloadImages();this.loadSegments();this.updaFrameModifier();this.waitForFontsLoaded();if(this.isPaused){this.audioController.pause();}}catch(error){this.triggerConfigError(error);}};AnimationItem.prototype.waitForFontsLoaded=function(){if(!this.renderer){return;}if(this.renderer.globalData.fontManager.isLoaded){this.checkLoaded();}else{setTimeout(this.waitForFontsLoaded.bind(this),20);}};AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=='canvas')&&this.imagePreloader.loadedFootages()){this.isLoaded=true;var expressionsPlugin=getExpressionsPlugin();if(expressionsPlugin){expressionsPlugin.initExpressions(this);}this.renderer.initItems();setTimeout(function(){this.trigger('DOMLoaded');}.bind(this),0);this.gotoFrame();if(this.autoplay){this.play();}}};AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize();};AnimationItem.prototype.setSubframe=function(flag){this.isSubframeEnabled=!!flag;};AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame;// eslint-disable-line no-bitwise\nif(this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted){this.currentFrame=this.timeCompleted;}this.trigger('enterFrame');this.renderFrame();this.trigger('drawnFrame');};AnimationItem.prototype.renderFrame=function(){if(this.isLoaded===false||!this.renderer){return;}try{this.renderer.renderFrame(this.currentFrame+this.firstFrame);}catch(error){this.triggerRenderFrameError(error);}};AnimationItem.prototype.play=function(name){if(name&&this.name!==name){return;}if(this.isPaused===true){this.isPaused=false;this.audioController.resume();if(this._idle){this._idle=false;this.trigger('_active');}}};AnimationItem.prototype.pause=function(name){if(name&&this.name!==name){return;}if(this.isPaused===false){this.isPaused=true;this._idle=true;this.trigger('_idle');this.audioController.pause();}};AnimationItem.prototype.togglePause=function(name){if(name&&this.name!==name){return;}if(this.isPaused===true){this.play();}else{this.pause();}};AnimationItem.prototype.stop=function(name){if(name&&this.name!==name){return;}this.pause();this.playCount=0;this._completedLoop=false;this.setCurrentRawFrameValue(0);};AnimationItem.prototype.getMarkerData=function(markerName){var marker;for(var i=0;i<this.markers.length;i+=1){marker=this.markers[i];if(marker.payload&&marker.payload.name.cm===markerName){return marker;}}return null;};AnimationItem.prototype.goToAndStop=function(value,isFrame,name){if(name&&this.name!==name){return;}var numValue=Number(value);if(isNaN(numValue)){var marker=this.getMarkerData(value);if(marker){this.goToAndStop(marker.time,true);}}else if(isFrame){this.setCurrentRawFrameValue(value);}else{this.setCurrentRawFrameValue(value*this.frameModifier);}this.pause();};AnimationItem.prototype.goToAndPlay=function(value,isFrame,name){if(name&&this.name!==name){return;}var numValue=Number(value);if(isNaN(numValue)){var marker=this.getMarkerData(value);if(marker){if(!marker.duration){this.goToAndStop(marker.time,true);}else{this.playSegments([marker.time,marker.time+marker.duration],true);}}}else{this.goToAndStop(numValue,isFrame,name);}this.play();};AnimationItem.prototype.advanceTime=function(value){if(this.isPaused===true||this.isLoaded===false){return;}var nextValue=this.currentRawFrame+value*this.frameModifier;var _isComplete=false;// Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n// If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\nif(nextValue>=this.totalFrames-1&&this.frameModifier>0){if(!this.loop||this.playCount===this.loop){if(!this.checkSegments(nextValue>this.totalFrames?nextValue%this.totalFrames:0)){_isComplete=true;nextValue=this.totalFrames-1;}}else if(nextValue>=this.totalFrames){this.playCount+=1;if(!this.checkSegments(nextValue%this.totalFrames)){this.setCurrentRawFrameValue(nextValue%this.totalFrames);this._completedLoop=true;this.trigger('loopComplete');}}else{this.setCurrentRawFrameValue(nextValue);}}else if(nextValue<0){if(!this.checkSegments(nextValue%this.totalFrames)){if(this.loop&&!(this.playCount--<=0&&this.loop!==true)){// eslint-disable-line no-plusplus\nthis.setCurrentRawFrameValue(this.totalFrames+nextValue%this.totalFrames);if(!this._completedLoop){this._completedLoop=true;}else{this.trigger('loopComplete');}}else{_isComplete=true;nextValue=0;}}}else{this.setCurrentRawFrameValue(nextValue);}if(_isComplete){this.setCurrentRawFrameValue(nextValue);this.pause();this.trigger('complete');}};AnimationItem.prototype.adjustSegment=function(arr,offset){this.playCount=0;if(arr[1]<arr[0]){if(this.frameModifier>0){if(this.playSpeed<0){this.setSpeed(-this.playSpeed);}else{this.setDirection(-1);}}this.totalFrames=arr[0]-arr[1];this.timeCompleted=this.totalFrames;this.firstFrame=arr[1];this.setCurrentRawFrameValue(this.totalFrames-0.001-offset);}else if(arr[1]>arr[0]){if(this.frameModifier<0){if(this.playSpeed<0){this.setSpeed(-this.playSpeed);}else{this.setDirection(1);}}this.totalFrames=arr[1]-arr[0];this.timeCompleted=this.totalFrames;this.firstFrame=arr[0];this.setCurrentRawFrameValue(0.001+offset);}this.trigger('segmentStart');};AnimationItem.prototype.setSegment=function(init,end){var pendingFrame=-1;if(this.isPaused){if(this.currentRawFrame+this.firstFrame<init){pendingFrame=init;}else if(this.currentRawFrame+this.firstFrame>end){pendingFrame=end-init;}}this.firstFrame=init;this.totalFrames=end-init;this.timeCompleted=this.totalFrames;if(pendingFrame!==-1){this.goToAndStop(pendingFrame,true);}};AnimationItem.prototype.playSegments=function(arr,forceFlag){if(forceFlag){this.segments.length=0;}if(_typeof$4(arr[0])==='object'){var i;var len=arr.length;for(i=0;i<len;i+=1){this.segments.push(arr[i]);}}else{this.segments.push(arr);}if(this.segments.length&&forceFlag){this.adjustSegment(this.segments.shift(),0);}if(this.isPaused){this.play();}};AnimationItem.prototype.resetSegments=function(forceFlag){this.segments.length=0;this.segments.push([this.animationData.ip,this.animationData.op]);if(forceFlag){this.checkSegments(0);}};AnimationItem.prototype.checkSegments=function(offset){if(this.segments.length){this.adjustSegment(this.segments.shift(),offset);return true;}return false;};AnimationItem.prototype.destroy=function(name){if(name&&this.name!==name||!this.renderer){return;}this.renderer.destroy();this.imagePreloader.destroy();this.trigger('destroy');this._cbs=null;this.onEnterFrame=null;this.onLoopComplete=null;this.onComplete=null;this.onSegmentStart=null;this.onDestroy=null;this.renderer=null;this.renderer=null;this.imagePreloader=null;this.projectInterface=null;};AnimationItem.prototype.setCurrentRawFrameValue=function(value){this.currentRawFrame=value;this.gotoFrame();};AnimationItem.prototype.setSpeed=function(val){this.playSpeed=val;this.updaFrameModifier();};AnimationItem.prototype.setDirection=function(val){this.playDirection=val<0?-1:1;this.updaFrameModifier();};AnimationItem.prototype.setVolume=function(val,name){if(name&&this.name!==name){return;}this.audioController.setVolume(val);};AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume();};AnimationItem.prototype.mute=function(name){if(name&&this.name!==name){return;}this.audioController.mute();};AnimationItem.prototype.unmute=function(name){if(name&&this.name!==name){return;}this.audioController.unmute();};AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection;this.audioController.setRate(this.playSpeed*this.playDirection);};AnimationItem.prototype.getPath=function(){return this.path;};AnimationItem.prototype.getAssetsPath=function(assetData){var path='';if(assetData.e){path=assetData.p;}else if(this.assetsPath){var imagePath=assetData.p;if(imagePath.indexOf('images/')!==-1){imagePath=imagePath.split('/')[1];}path=this.assetsPath+imagePath;}else{path=this.path;path+=assetData.u?assetData.u:'';path+=assetData.p;}return path;};AnimationItem.prototype.getAssetData=function(id){var i=0;var len=this.assets.length;while(i<len){if(id===this.assets[i].id){return this.assets[i];}i+=1;}return null;};AnimationItem.prototype.hide=function(){this.renderer.hide();};AnimationItem.prototype.show=function(){this.renderer.show();};AnimationItem.prototype.getDuration=function(isFrame){return isFrame?this.totalFrames:this.totalFrames/this.frameRate;};AnimationItem.prototype.trigger=function(name){if(this._cbs&&this._cbs[name]){switch(name){case'enterFrame':case'drawnFrame':this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameModifier));break;case'loopComplete':this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));break;case'complete':this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));break;case'segmentStart':this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));break;case'destroy':this.triggerEvent(name,new BMDestroyEvent(name,this));break;default:this.triggerEvent(name);}}if(name==='enterFrame'&&this.onEnterFrame){this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));}if(name==='loopComplete'&&this.onLoopComplete){this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));}if(name==='complete'&&this.onComplete){this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));}if(name==='segmentStart'&&this.onSegmentStart){this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));}if(name==='destroy'&&this.onDestroy){this.onDestroy.call(this,new BMDestroyEvent(name,this));}};AnimationItem.prototype.triggerRenderFrameError=function(nativeError){var error=new BMRenderFrameErrorEvent(nativeError,this.currentFrame);this.triggerEvent('error',error);if(this.onError){this.onError.call(this,error);}};AnimationItem.prototype.triggerConfigError=function(nativeError){var error=new BMConfigErrorEvent(nativeError,this.currentFrame);this.triggerEvent('error',error);if(this.onError){this.onError.call(this,error);}};var animationManager=function(){var moduleOb={};var registeredAnimations=[];var initTime=0;var len=0;var playingAnimationsNum=0;var _stopped=true;var _isFrozen=false;function removeElement(ev){var i=0;var animItem=ev.target;while(i<len){if(registeredAnimations[i].animation===animItem){registeredAnimations.splice(i,1);i-=1;len-=1;if(!animItem.isPaused){subtractPlayingCount();}}i+=1;}}function registerAnimation(element,animationData){if(!element){return null;}var i=0;while(i<len){if(registeredAnimations[i].elem===element&&registeredAnimations[i].elem!==null){return registeredAnimations[i].animation;}i+=1;}var animItem=new AnimationItem();setupAnimation(animItem,element);animItem.setData(element,animationData);return animItem;}function getRegisteredAnimations(){var i;var lenAnims=registeredAnimations.length;var animations=[];for(i=0;i<lenAnims;i+=1){animations.push(registeredAnimations[i].animation);}return animations;}function addPlayingCount(){playingAnimationsNum+=1;activate();}function subtractPlayingCount(){playingAnimationsNum-=1;}function setupAnimation(animItem,element){animItem.addEventListener('destroy',removeElement);animItem.addEventListener('_active',addPlayingCount);animItem.addEventListener('_idle',subtractPlayingCount);registeredAnimations.push({elem:element,animation:animItem});len+=1;}function loadAnimation(params){var animItem=new AnimationItem();setupAnimation(animItem,null);animItem.setParams(params);return animItem;}function setSpeed(val,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.setSpeed(val,animation);}}function setDirection(val,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.setDirection(val,animation);}}function play(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.play(animation);}}function resume(nowTime){var elapsedTime=nowTime-initTime;var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.advanceTime(elapsedTime);}initTime=nowTime;if(playingAnimationsNum&&!_isFrozen){window.requestAnimationFrame(resume);}else{_stopped=true;}}function first(nowTime){initTime=nowTime;window.requestAnimationFrame(resume);}function pause(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.pause(animation);}}function goToAndStop(value,isFrame,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);}}function stop(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.stop(animation);}}function togglePause(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.togglePause(animation);}}function destroy(animation){var i;for(i=len-1;i>=0;i-=1){registeredAnimations[i].animation.destroy(animation);}}function searchAnimations(animationData,standalone,renderer){var animElements=[].concat([].slice.call(document.getElementsByClassName('lottie')),[].slice.call(document.getElementsByClassName('bodymovin')));var i;var lenAnims=animElements.length;for(i=0;i<lenAnims;i+=1){if(renderer){animElements[i].setAttribute('data-bm-type',renderer);}registerAnimation(animElements[i],animationData);}if(standalone&&lenAnims===0){if(!renderer){renderer='svg';}var body=document.getElementsByTagName('body')[0];body.innerText='';var div=createTag('div');div.style.width='100%';div.style.height='100%';div.setAttribute('data-bm-type',renderer);body.appendChild(div);registerAnimation(div,animationData);}}function resize(){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.resize();}}function activate(){if(!_isFrozen&&playingAnimationsNum){if(_stopped){window.requestAnimationFrame(first);_stopped=false;}}}function freeze(){_isFrozen=true;}function unfreeze(){_isFrozen=false;activate();}function setVolume(val,animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.setVolume(val,animation);}}function mute(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.mute(animation);}}function unmute(animation){var i;for(i=0;i<len;i+=1){registeredAnimations[i].animation.unmute(animation);}}moduleOb.registerAnimation=registerAnimation;moduleOb.loadAnimation=loadAnimation;moduleOb.setSpeed=setSpeed;moduleOb.setDirection=setDirection;moduleOb.play=play;moduleOb.pause=pause;moduleOb.stop=stop;moduleOb.togglePause=togglePause;moduleOb.searchAnimations=searchAnimations;moduleOb.resize=resize;// moduleOb.start = start;\nmoduleOb.goToAndStop=goToAndStop;moduleOb.destroy=destroy;moduleOb.freeze=freeze;moduleOb.unfreeze=unfreeze;moduleOb.setVolume=setVolume;moduleOb.mute=mute;moduleOb.unmute=unmute;moduleOb.getRegisteredAnimations=getRegisteredAnimations;return moduleOb;}();/* eslint-disable */var BezierFactory=function(){/**\n       * BezierEasing - use bezier curve for transition easing function\n       * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n       *\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\n       * Usage:\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\n       *\n       */var ob={};ob.getBezierEasing=getBezierEasing;var beziers={};function getBezierEasing(a,b,c,d,nm){var str=nm||('bez_'+a+'_'+b+'_'+c+'_'+d).replace(/\\./g,'p');if(beziers[str]){return beziers[str];}var bezEasing=new BezierEasing([a,b,c,d]);beziers[str]=bezEasing;return bezEasing;}// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS=4;var NEWTON_MIN_SLOPE=0.001;var SUBDIVISION_PRECISION=0.0000001;var SUBDIVISION_MAX_ITERATIONS=10;var kSplineTableSize=11;var kSampleStepSize=1.0/(kSplineTableSize-1.0);var float32ArraySupported=typeof Float32Array==='function';function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope(aT,aA1,aA2){return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){var currentX,currentT,i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(var i=0;i<NEWTON_ITERATIONS;++i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0)return aGuessT;var currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}/**\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\n       */function BezierEasing(points){this._p=points;this._mSampleValues=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize);this._precomputed=false;this.get=this.get.bind(this);}BezierEasing.prototype={get:function get(x){var mX1=this._p[0],mY1=this._p[1],mX2=this._p[2],mY2=this._p[3];if(!this._precomputed)this._precompute();if(mX1===mY1&&mX2===mY2)return x;// linear\n// Because JavaScript number are imprecise, we should guarantee the extremes are right.\nif(x===0)return 0;if(x===1)return 1;return calcBezier(this._getTForX(x),mY1,mY2);},// Private part\n_precompute:function _precompute(){var mX1=this._p[0],mY1=this._p[1],mX2=this._p[2],mY2=this._p[3];this._precomputed=true;if(mX1!==mY1||mX2!==mY2){this._calcSampleValues();}},_calcSampleValues:function _calcSampleValues(){var mX1=this._p[0],mX2=this._p[2];for(var i=0;i<kSplineTableSize;++i){this._mSampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2);}},/**\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\n           */_getTForX:function _getTForX(aX){var mX1=this._p[0],mX2=this._p[2],mSampleValues=this._mSampleValues;var intervalStart=0.0;var currentSample=1;var lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&mSampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;// Interpolate to provide an initial guess for t\nvar dist=(aX-mSampleValues[currentSample])/(mSampleValues[currentSample+1]-mSampleValues[currentSample]);var guessForT=intervalStart+dist*kSampleStepSize;var initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}if(initialSlope===0.0){return guessForT;}return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}};return ob;}();var pooling=function(){function _double(arr){return arr.concat(createSizedArray(arr.length));}return{\"double\":_double};}();var poolFactory=function(){return function(initialLength,_create,_release){var _length=0;var _maxLength=initialLength;var pool=createSizedArray(_maxLength);var ob={newElement:newElement,release:release};function newElement(){var element;if(_length){_length-=1;element=pool[_length];}else{element=_create();}return element;}function release(element){if(_length===_maxLength){pool=pooling[\"double\"](pool);_maxLength*=2;}if(_release){_release(element);}pool[_length]=element;_length+=1;}return ob;};}();var bezierLengthPool=function(){function create(){return{addedLength:0,percents:createTypedArray('float32',getDefaultCurveSegments()),lengths:createTypedArray('float32',getDefaultCurveSegments())};}return poolFactory(8,create);}();var segmentsLengthPool=function(){function create(){return{lengths:[],totalLength:0};}function release(element){var i;var len=element.lengths.length;for(i=0;i<len;i+=1){bezierLengthPool.release(element.lengths[i]);}element.lengths.length=0;}return poolFactory(8,create,release);}();function bezFunction(){var math=Math;function pointOnLine2D(x1,y1,x2,y2,x3,y3){var det1=x1*y2+y1*x3+x2*y3-x3*y2-y3*x1-x2*y1;return det1>-0.001&&det1<0.001;}function pointOnLine3D(x1,y1,z1,x2,y2,z2,x3,y3,z3){if(z1===0&&z2===0&&z3===0){return pointOnLine2D(x1,y1,x2,y2,x3,y3);}var dist1=math.sqrt(math.pow(x2-x1,2)+math.pow(y2-y1,2)+math.pow(z2-z1,2));var dist2=math.sqrt(math.pow(x3-x1,2)+math.pow(y3-y1,2)+math.pow(z3-z1,2));var dist3=math.sqrt(math.pow(x3-x2,2)+math.pow(y3-y2,2)+math.pow(z3-z2,2));var diffDist;if(dist1>dist2){if(dist1>dist3){diffDist=dist1-dist2-dist3;}else{diffDist=dist3-dist2-dist1;}}else if(dist3>dist2){diffDist=dist3-dist2-dist1;}else{diffDist=dist2-dist1-dist3;}return diffDist>-0.0001&&diffDist<0.0001;}var getBezierLength=function(){return function(pt1,pt2,pt3,pt4){var curveSegments=getDefaultCurveSegments();var k;var i;var len;var ptCoord;var perc;var addedLength=0;var ptDistance;var point=[];var lastPoint=[];var lengthData=bezierLengthPool.newElement();len=pt3.length;for(k=0;k<curveSegments;k+=1){perc=k/(curveSegments-1);ptDistance=0;for(i=0;i<len;i+=1){ptCoord=bmPow(1-perc,3)*pt1[i]+3*bmPow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bmPow(perc,2)*pt4[i]+bmPow(perc,3)*pt2[i];point[i]=ptCoord;if(lastPoint[i]!==null){ptDistance+=bmPow(point[i]-lastPoint[i],2);}lastPoint[i]=point[i];}if(ptDistance){ptDistance=bmSqrt(ptDistance);addedLength+=ptDistance;}lengthData.percents[k]=perc;lengthData.lengths[k]=addedLength;}lengthData.addedLength=addedLength;return lengthData;};}();function getSegmentsLength(shapeData){var segmentsLength=segmentsLengthPool.newElement();var closed=shapeData.c;var pathV=shapeData.v;var pathO=shapeData.o;var pathI=shapeData.i;var i;var len=shapeData._length;var lengths=segmentsLength.lengths;var totalLength=0;for(i=0;i<len-1;i+=1){lengths[i]=getBezierLength(pathV[i],pathV[i+1],pathO[i],pathI[i+1]);totalLength+=lengths[i].addedLength;}if(closed&&len){lengths[i]=getBezierLength(pathV[i],pathV[0],pathO[i],pathI[0]);totalLength+=lengths[i].addedLength;}segmentsLength.totalLength=totalLength;return segmentsLength;}function BezierData(length){this.segmentLength=0;this.points=new Array(length);}function PointData(partial,point){this.partialLength=partial;this.point=point;}var buildBezierData=function(){var storedData={};return function(pt1,pt2,pt3,pt4){var bezierName=(pt1[0]+'_'+pt1[1]+'_'+pt2[0]+'_'+pt2[1]+'_'+pt3[0]+'_'+pt3[1]+'_'+pt4[0]+'_'+pt4[1]).replace(/\\./g,'p');if(!storedData[bezierName]){var curveSegments=getDefaultCurveSegments();var k;var i;var len;var ptCoord;var perc;var addedLength=0;var ptDistance;var point;var lastPoint=null;if(pt1.length===2&&(pt1[0]!==pt2[0]||pt1[1]!==pt2[1])&&pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1])&&pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){curveSegments=2;}var bezierData=new BezierData(curveSegments);len=pt3.length;for(k=0;k<curveSegments;k+=1){point=createSizedArray(len);perc=k/(curveSegments-1);ptDistance=0;for(i=0;i<len;i+=1){ptCoord=bmPow(1-perc,3)*pt1[i]+3*bmPow(1-perc,2)*perc*(pt1[i]+pt3[i])+3*(1-perc)*bmPow(perc,2)*(pt2[i]+pt4[i])+bmPow(perc,3)*pt2[i];point[i]=ptCoord;if(lastPoint!==null){ptDistance+=bmPow(point[i]-lastPoint[i],2);}}ptDistance=bmSqrt(ptDistance);addedLength+=ptDistance;bezierData.points[k]=new PointData(ptDistance,point);lastPoint=point;}bezierData.segmentLength=addedLength;storedData[bezierName]=bezierData;}return storedData[bezierName];};}();function getDistancePerc(perc,bezierData){var percents=bezierData.percents;var lengths=bezierData.lengths;var len=percents.length;var initPos=bmFloor((len-1)*perc);var lengthPos=perc*bezierData.addedLength;var lPerc=0;if(initPos===len-1||initPos===0||lengthPos===lengths[initPos]){return percents[initPos];}var dir=lengths[initPos]>lengthPos?-1:1;var flag=true;while(flag){if(lengths[initPos]<=lengthPos&&lengths[initPos+1]>lengthPos){lPerc=(lengthPos-lengths[initPos])/(lengths[initPos+1]-lengths[initPos]);flag=false;}else{initPos+=dir;}if(initPos<0||initPos>=len-1){// FIX for TypedArrays that don't store floating point values with enough accuracy\nif(initPos===len-1){return percents[initPos];}flag=false;}}return percents[initPos]+(percents[initPos+1]-percents[initPos])*lPerc;}function getPointInSegment(pt1,pt2,pt3,pt4,percent,bezierData){var t1=getDistancePerc(percent,bezierData);var u1=1-t1;var ptX=math.round((u1*u1*u1*pt1[0]+(t1*u1*u1+u1*t1*u1+u1*u1*t1)*pt3[0]+(t1*t1*u1+u1*t1*t1+t1*u1*t1)*pt4[0]+t1*t1*t1*pt2[0])*1000)/1000;var ptY=math.round((u1*u1*u1*pt1[1]+(t1*u1*u1+u1*t1*u1+u1*u1*t1)*pt3[1]+(t1*t1*u1+u1*t1*t1+t1*u1*t1)*pt4[1]+t1*t1*t1*pt2[1])*1000)/1000;return[ptX,ptY];}var bezierSegmentPoints=createTypedArray('float32',8);function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc,bezierData){if(startPerc<0){startPerc=0;}else if(startPerc>1){startPerc=1;}var t0=getDistancePerc(startPerc,bezierData);endPerc=endPerc>1?1:endPerc;var t1=getDistancePerc(endPerc,bezierData);var i;var len=pt1.length;var u0=1-t0;var u1=1-t1;var u0u0u0=u0*u0*u0;var t0u0u0_3=t0*u0*u0*3;// eslint-disable-line camelcase\nvar t0t0u0_3=t0*t0*u0*3;// eslint-disable-line camelcase\nvar t0t0t0=t0*t0*t0;//\nvar u0u0u1=u0*u0*u1;var t0u0u1_3=t0*u0*u1+u0*t0*u1+u0*u0*t1;// eslint-disable-line camelcase\nvar t0t0u1_3=t0*t0*u1+u0*t0*t1+t0*u0*t1;// eslint-disable-line camelcase\nvar t0t0t1=t0*t0*t1;//\nvar u0u1u1=u0*u1*u1;var t0u1u1_3=t0*u1*u1+u0*t1*u1+u0*u1*t1;// eslint-disable-line camelcase\nvar t0t1u1_3=t0*t1*u1+u0*t1*t1+t0*u1*t1;// eslint-disable-line camelcase\nvar t0t1t1=t0*t1*t1;//\nvar u1u1u1=u1*u1*u1;var t1u1u1_3=t1*u1*u1+u1*t1*u1+u1*u1*t1;// eslint-disable-line camelcase\nvar t1t1u1_3=t1*t1*u1+u1*t1*t1+t1*u1*t1;// eslint-disable-line camelcase\nvar t1t1t1=t1*t1*t1;for(i=0;i<len;i+=1){bezierSegmentPoints[i*4]=math.round((u0u0u0*pt1[i]+t0u0u0_3*pt3[i]+t0t0u0_3*pt4[i]+t0t0t0*pt2[i])*1000)/1000;// eslint-disable-line camelcase\nbezierSegmentPoints[i*4+1]=math.round((u0u0u1*pt1[i]+t0u0u1_3*pt3[i]+t0t0u1_3*pt4[i]+t0t0t1*pt2[i])*1000)/1000;// eslint-disable-line camelcase\nbezierSegmentPoints[i*4+2]=math.round((u0u1u1*pt1[i]+t0u1u1_3*pt3[i]+t0t1u1_3*pt4[i]+t0t1t1*pt2[i])*1000)/1000;// eslint-disable-line camelcase\nbezierSegmentPoints[i*4+3]=math.round((u1u1u1*pt1[i]+t1u1u1_3*pt3[i]+t1t1u1_3*pt4[i]+t1t1t1*pt2[i])*1000)/1000;// eslint-disable-line camelcase\n}return bezierSegmentPoints;}return{getSegmentsLength:getSegmentsLength,getNewSegment:getNewSegment,getPointInSegment:getPointInSegment,buildBezierData:buildBezierData,pointOnLine2D:pointOnLine2D,pointOnLine3D:pointOnLine3D};}var bez=bezFunction();var PropertyFactory=function(){var initFrame=initialDefaultFrame;var mathAbs=Math.abs;function interpolateValue(frameNum,caching){var offsetTime=this.offsetTime;var newValue;if(this.propType==='multidimensional'){newValue=createTypedArray('float32',this.pv.length);}var iterationIndex=caching.lastIndex;var i=iterationIndex;var len=this.keyframes.length-1;var flag=true;var keyData;var nextKeyData;var keyframeMetadata;while(flag){keyData=this.keyframes[i];nextKeyData=this.keyframes[i+1];if(i===len-1&&frameNum>=nextKeyData.t-offsetTime){if(keyData.h){keyData=nextKeyData;}iterationIndex=0;break;}if(nextKeyData.t-offsetTime>frameNum){iterationIndex=i;break;}if(i<len-1){i+=1;}else{iterationIndex=0;flag=false;}}keyframeMetadata=this.keyframesMetadata[i]||{};var k;var kLen;var perc;var jLen;var j;var fnc;var nextKeyTime=nextKeyData.t-offsetTime;var keyTime=keyData.t-offsetTime;var endValue;if(keyData.to){if(!keyframeMetadata.bezierData){keyframeMetadata.bezierData=bez.buildBezierData(keyData.s,nextKeyData.s||keyData.e,keyData.to,keyData.ti);}var bezierData=keyframeMetadata.bezierData;if(frameNum>=nextKeyTime||frameNum<keyTime){var ind=frameNum>=nextKeyTime?bezierData.points.length-1:0;kLen=bezierData.points[ind].point.length;for(k=0;k<kLen;k+=1){newValue[k]=bezierData.points[ind].point[k];}// caching._lastKeyframeIndex = -1;\n}else{if(keyframeMetadata.__fnct){fnc=keyframeMetadata.__fnct;}else{fnc=BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y,keyData.n).get;keyframeMetadata.__fnct=fnc;}perc=fnc((frameNum-keyTime)/(nextKeyTime-keyTime));var distanceInLine=bezierData.segmentLength*perc;var segmentPerc;var addedLength=caching.lastFrame<frameNum&&caching._lastKeyframeIndex===i?caching._lastAddedLength:0;j=caching.lastFrame<frameNum&&caching._lastKeyframeIndex===i?caching._lastPoint:0;flag=true;jLen=bezierData.points.length;while(flag){addedLength+=bezierData.points[j].partialLength;if(distanceInLine===0||perc===0||j===bezierData.points.length-1){kLen=bezierData.points[j].point.length;for(k=0;k<kLen;k+=1){newValue[k]=bezierData.points[j].point[k];}break;}else if(distanceInLine>=addedLength&&distanceInLine<addedLength+bezierData.points[j+1].partialLength){segmentPerc=(distanceInLine-addedLength)/bezierData.points[j+1].partialLength;kLen=bezierData.points[j].point.length;for(k=0;k<kLen;k+=1){newValue[k]=bezierData.points[j].point[k]+(bezierData.points[j+1].point[k]-bezierData.points[j].point[k])*segmentPerc;}break;}if(j<jLen-1){j+=1;}else{flag=false;}}caching._lastPoint=j;caching._lastAddedLength=addedLength-bezierData.points[j].partialLength;caching._lastKeyframeIndex=i;}}else{var outX;var outY;var inX;var inY;var keyValue;len=keyData.s.length;endValue=nextKeyData.s||keyData.e;if(this.sh&&keyData.h!==1){if(frameNum>=nextKeyTime){newValue[0]=endValue[0];newValue[1]=endValue[1];newValue[2]=endValue[2];}else if(frameNum<=keyTime){newValue[0]=keyData.s[0];newValue[1]=keyData.s[1];newValue[2]=keyData.s[2];}else{var quatStart=createQuaternion(keyData.s);var quatEnd=createQuaternion(endValue);var time=(frameNum-keyTime)/(nextKeyTime-keyTime);quaternionToEuler(newValue,slerp(quatStart,quatEnd,time));}}else{for(i=0;i<len;i+=1){if(keyData.h!==1){if(frameNum>=nextKeyTime){perc=1;}else if(frameNum<keyTime){perc=0;}else{if(keyData.o.x.constructor===Array){if(!keyframeMetadata.__fnct){keyframeMetadata.__fnct=[];}if(!keyframeMetadata.__fnct[i]){outX=keyData.o.x[i]===undefined?keyData.o.x[0]:keyData.o.x[i];outY=keyData.o.y[i]===undefined?keyData.o.y[0]:keyData.o.y[i];inX=keyData.i.x[i]===undefined?keyData.i.x[0]:keyData.i.x[i];inY=keyData.i.y[i]===undefined?keyData.i.y[0]:keyData.i.y[i];fnc=BezierFactory.getBezierEasing(outX,outY,inX,inY).get;keyframeMetadata.__fnct[i]=fnc;}else{fnc=keyframeMetadata.__fnct[i];}}else if(!keyframeMetadata.__fnct){outX=keyData.o.x;outY=keyData.o.y;inX=keyData.i.x;inY=keyData.i.y;fnc=BezierFactory.getBezierEasing(outX,outY,inX,inY).get;keyData.keyframeMetadata=fnc;}else{fnc=keyframeMetadata.__fnct;}perc=fnc((frameNum-keyTime)/(nextKeyTime-keyTime));}}endValue=nextKeyData.s||keyData.e;keyValue=keyData.h===1?keyData.s[i]:keyData.s[i]+(endValue[i]-keyData.s[i])*perc;if(this.propType==='multidimensional'){newValue[i]=keyValue;}else{newValue=keyValue;}}}}caching.lastIndex=iterationIndex;return newValue;}// based on @Toji's https://github.com/toji/gl-matrix/\nfunction slerp(a,b,t){var out=[];var ax=a[0];var ay=a[1];var az=a[2];var aw=a[3];var bx=b[0];var by=b[1];var bz=b[2];var bw=b[3];var omega;var cosom;var sinom;var scale0;var scale1;cosom=ax*bx+ay*by+az*bz+aw*bw;if(cosom<0.0){cosom=-cosom;bx=-bx;by=-by;bz=-bz;bw=-bw;}if(1.0-cosom>0.000001){omega=Math.acos(cosom);sinom=Math.sin(omega);scale0=Math.sin((1.0-t)*omega)/sinom;scale1=Math.sin(t*omega)/sinom;}else{scale0=1.0-t;scale1=t;}out[0]=scale0*ax+scale1*bx;out[1]=scale0*ay+scale1*by;out[2]=scale0*az+scale1*bz;out[3]=scale0*aw+scale1*bw;return out;}function quaternionToEuler(out,quat){var qx=quat[0];var qy=quat[1];var qz=quat[2];var qw=quat[3];var heading=Math.atan2(2*qy*qw-2*qx*qz,1-2*qy*qy-2*qz*qz);var attitude=Math.asin(2*qx*qy+2*qz*qw);var bank=Math.atan2(2*qx*qw-2*qy*qz,1-2*qx*qx-2*qz*qz);out[0]=heading/degToRads;out[1]=attitude/degToRads;out[2]=bank/degToRads;}function createQuaternion(values){var heading=values[0]*degToRads;var attitude=values[1]*degToRads;var bank=values[2]*degToRads;var c1=Math.cos(heading/2);var c2=Math.cos(attitude/2);var c3=Math.cos(bank/2);var s1=Math.sin(heading/2);var s2=Math.sin(attitude/2);var s3=Math.sin(bank/2);var w=c1*c2*c3-s1*s2*s3;var x=s1*s2*c3+c1*c2*s3;var y=s1*c2*c3+c1*s2*s3;var z=c1*s2*c3-s1*c2*s3;return[x,y,z,w];}function getValueAtCurrentTime(){var frameNum=this.comp.renderedFrame-this.offsetTime;var initTime=this.keyframes[0].t-this.offsetTime;var endTime=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(frameNum===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=endTime&&frameNum>=endTime||this._caching.lastFrame<initTime&&frameNum<initTime))){if(this._caching.lastFrame>=frameNum){this._caching._lastKeyframeIndex=-1;this._caching.lastIndex=0;}var renderResult=this.interpolateValue(frameNum,this._caching);this.pv=renderResult;}this._caching.lastFrame=frameNum;return this.pv;}function setVValue(val){var multipliedValue;if(this.propType==='unidimensional'){multipliedValue=val*this.mult;if(mathAbs(this.v-multipliedValue)>0.00001){this.v=multipliedValue;this._mdf=true;}}else{var i=0;var len=this.v.length;while(i<len){multipliedValue=val[i]*this.mult;if(mathAbs(this.v[i]-multipliedValue)>0.00001){this.v[i]=multipliedValue;this._mdf=true;}i+=1;}}}function processEffectsSequence(){if(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length){return;}if(this.lock){this.setVValue(this.pv);return;}this.lock=true;this._mdf=this._isFirstFrame;var i;var len=this.effectsSequence.length;var finalValue=this.kf?this.pv:this.data.k;for(i=0;i<len;i+=1){finalValue=this.effectsSequence[i](finalValue);}this.setVValue(finalValue);this._isFirstFrame=false;this.lock=false;this.frameId=this.elem.globalData.frameId;}function addEffect(effectFunction){this.effectsSequence.push(effectFunction);this.container.addDynamicProperty(this);}function ValueProperty(elem,data,mult,container){this.propType='unidimensional';this.mult=mult||1;this.data=data;this.v=mult?data.k*mult:data.k;this.pv=data.k;this._mdf=false;this.elem=elem;this.container=container;this.comp=elem.comp;this.k=false;this.kf=false;this.vel=0;this.effectsSequence=[];this._isFirstFrame=true;this.getValue=processEffectsSequence;this.setVValue=setVValue;this.addEffect=addEffect;}function MultiDimensionalProperty(elem,data,mult,container){this.propType='multidimensional';this.mult=mult||1;this.data=data;this._mdf=false;this.elem=elem;this.container=container;this.comp=elem.comp;this.k=false;this.kf=false;this.frameId=-1;var i;var len=data.k.length;this.v=createTypedArray('float32',len);this.pv=createTypedArray('float32',len);this.vel=createTypedArray('float32',len);for(i=0;i<len;i+=1){this.v[i]=data.k[i]*this.mult;this.pv[i]=data.k[i];}this._isFirstFrame=true;this.effectsSequence=[];this.getValue=processEffectsSequence;this.setVValue=setVValue;this.addEffect=addEffect;}function KeyframedValueProperty(elem,data,mult,container){this.propType='unidimensional';this.keyframes=data.k;this.keyframesMetadata=[];this.offsetTime=elem.data.st;this.frameId=-1;this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1};this.k=true;this.kf=true;this.data=data;this.mult=mult||1;this.elem=elem;this.container=container;this.comp=elem.comp;this.v=initFrame;this.pv=initFrame;this._isFirstFrame=true;this.getValue=processEffectsSequence;this.setVValue=setVValue;this.interpolateValue=interpolateValue;this.effectsSequence=[getValueAtCurrentTime.bind(this)];this.addEffect=addEffect;}function KeyframedMultidimensionalProperty(elem,data,mult,container){this.propType='multidimensional';var i;var len=data.k.length;var s;var e;var to;var ti;for(i=0;i<len-1;i+=1){if(data.k[i].to&&data.k[i].s&&data.k[i+1]&&data.k[i+1].s){s=data.k[i].s;e=data.k[i+1].s;to=data.k[i].to;ti=data.k[i].ti;if(s.length===2&&!(s[0]===e[0]&&s[1]===e[1])&&bez.pointOnLine2D(s[0],s[1],e[0],e[1],s[0]+to[0],s[1]+to[1])&&bez.pointOnLine2D(s[0],s[1],e[0],e[1],e[0]+ti[0],e[1]+ti[1])||s.length===3&&!(s[0]===e[0]&&s[1]===e[1]&&s[2]===e[2])&&bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],s[0]+to[0],s[1]+to[1],s[2]+to[2])&&bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],e[0]+ti[0],e[1]+ti[1],e[2]+ti[2])){data.k[i].to=null;data.k[i].ti=null;}if(s[0]===e[0]&&s[1]===e[1]&&to[0]===0&&to[1]===0&&ti[0]===0&&ti[1]===0){if(s.length===2||s[2]===e[2]&&to[2]===0&&ti[2]===0){data.k[i].to=null;data.k[i].ti=null;}}}}this.effectsSequence=[getValueAtCurrentTime.bind(this)];this.data=data;this.keyframes=data.k;this.keyframesMetadata=[];this.offsetTime=elem.data.st;this.k=true;this.kf=true;this._isFirstFrame=true;this.mult=mult||1;this.elem=elem;this.container=container;this.comp=elem.comp;this.getValue=processEffectsSequence;this.setVValue=setVValue;this.interpolateValue=interpolateValue;this.frameId=-1;var arrLen=data.k[0].s.length;this.v=createTypedArray('float32',arrLen);this.pv=createTypedArray('float32',arrLen);for(i=0;i<arrLen;i+=1){this.v[i]=initFrame;this.pv[i]=initFrame;}this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray('float32',arrLen)};this.addEffect=addEffect;}function getProp(elem,data,type,mult,container){var p;if(!data.k.length){p=new ValueProperty(elem,data,mult,container);}else if(typeof data.k[0]==='number'){p=new MultiDimensionalProperty(elem,data,mult,container);}else{switch(type){case 0:p=new KeyframedValueProperty(elem,data,mult,container);break;case 1:p=new KeyframedMultidimensionalProperty(elem,data,mult,container);break;default:break;}}if(p.effectsSequence.length){container.addDynamicProperty(p);}return p;}var ob={getProp:getProp};return ob;}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function addDynamicProperty(prop){if(this.dynamicProperties.indexOf(prop)===-1){this.dynamicProperties.push(prop);this.container.addDynamicProperty(this);this._isAnimated=true;}},iterateDynamicProperties:function iterateDynamicProperties(){this._mdf=false;var i;var len=this.dynamicProperties.length;for(i=0;i<len;i+=1){this.dynamicProperties[i].getValue();if(this.dynamicProperties[i]._mdf){this._mdf=true;}}},initDynamicPropertyContainer:function initDynamicPropertyContainer(container){this.container=container;this.dynamicProperties=[];this._mdf=false;this._isAnimated=false;}};var pointPool=function(){function create(){return createTypedArray('float32',2);}return poolFactory(8,create);}();function ShapePath(){this.c=false;this._length=0;this._maxLength=8;this.v=createSizedArray(this._maxLength);this.o=createSizedArray(this._maxLength);this.i=createSizedArray(this._maxLength);}ShapePath.prototype.setPathData=function(closed,len){this.c=closed;this.setLength(len);var i=0;while(i<len){this.v[i]=pointPool.newElement();this.o[i]=pointPool.newElement();this.i[i]=pointPool.newElement();i+=1;}};ShapePath.prototype.setLength=function(len){while(this._maxLength<len){this.doubleArrayLength();}this._length=len;};ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength));this.i=this.i.concat(createSizedArray(this._maxLength));this.o=this.o.concat(createSizedArray(this._maxLength));this._maxLength*=2;};ShapePath.prototype.setXYAt=function(x,y,type,pos,replace){var arr;this._length=Math.max(this._length,pos+1);if(this._length>=this._maxLength){this.doubleArrayLength();}switch(type){case'v':arr=this.v;break;case'i':arr=this.i;break;case'o':arr=this.o;break;default:arr=[];break;}if(!arr[pos]||arr[pos]&&!replace){arr[pos]=pointPool.newElement();}arr[pos][0]=x;arr[pos][1]=y;};ShapePath.prototype.setTripleAt=function(vX,vY,oX,oY,iX,iY,pos,replace){this.setXYAt(vX,vY,'v',pos,replace);this.setXYAt(oX,oY,'o',pos,replace);this.setXYAt(iX,iY,'i',pos,replace);};ShapePath.prototype.reverse=function(){var newPath=new ShapePath();newPath.setPathData(this.c,this._length);var vertices=this.v;var outPoints=this.o;var inPoints=this.i;var init=0;if(this.c){newPath.setTripleAt(vertices[0][0],vertices[0][1],inPoints[0][0],inPoints[0][1],outPoints[0][0],outPoints[0][1],0,false);init=1;}var cnt=this._length-1;var len=this._length;var i;for(i=init;i<len;i+=1){newPath.setTripleAt(vertices[cnt][0],vertices[cnt][1],inPoints[cnt][0],inPoints[cnt][1],outPoints[cnt][0],outPoints[cnt][1],i,false);cnt-=1;}return newPath;};var shapePool=function(){function create(){return new ShapePath();}function release(shapePath){var len=shapePath._length;var i;for(i=0;i<len;i+=1){pointPool.release(shapePath.v[i]);pointPool.release(shapePath.i[i]);pointPool.release(shapePath.o[i]);shapePath.v[i]=null;shapePath.i[i]=null;shapePath.o[i]=null;}shapePath._length=0;shapePath.c=false;}function clone(shape){var cloned=factory.newElement();var i;var len=shape._length===undefined?shape.v.length:shape._length;cloned.setLength(len);cloned.c=shape.c;for(i=0;i<len;i+=1){cloned.setTripleAt(shape.v[i][0],shape.v[i][1],shape.o[i][0],shape.o[i][1],shape.i[i][0],shape.i[i][1],i);}return cloned;}var factory=poolFactory(4,create,release);factory.clone=clone;return factory;}();function ShapeCollection(){this._length=0;this._maxLength=4;this.shapes=createSizedArray(this._maxLength);}ShapeCollection.prototype.addShape=function(shapeData){if(this._length===this._maxLength){this.shapes=this.shapes.concat(createSizedArray(this._maxLength));this._maxLength*=2;}this.shapes[this._length]=shapeData;this._length+=1;};ShapeCollection.prototype.releaseShapes=function(){var i;for(i=0;i<this._length;i+=1){shapePool.release(this.shapes[i]);}this._length=0;};var shapeCollectionPool=function(){var ob={newShapeCollection:newShapeCollection,release:release};var _length=0;var _maxLength=4;var pool=createSizedArray(_maxLength);function newShapeCollection(){var shapeCollection;if(_length){_length-=1;shapeCollection=pool[_length];}else{shapeCollection=new ShapeCollection();}return shapeCollection;}function release(shapeCollection){var i;var len=shapeCollection._length;for(i=0;i<len;i+=1){shapePool.release(shapeCollection.shapes[i]);}shapeCollection._length=0;if(_length===_maxLength){pool=pooling[\"double\"](pool);_maxLength*=2;}pool[_length]=shapeCollection;_length+=1;}return ob;}();var ShapePropertyFactory=function(){var initFrame=-999999;function interpolateShape(frameNum,previousValue,caching){var iterationIndex=caching.lastIndex;var keyPropS;var keyPropE;var isHold;var j;var k;var jLen;var kLen;var perc;var vertexValue;var kf=this.keyframes;if(frameNum<kf[0].t-this.offsetTime){keyPropS=kf[0].s[0];isHold=true;iterationIndex=0;}else if(frameNum>=kf[kf.length-1].t-this.offsetTime){keyPropS=kf[kf.length-1].s?kf[kf.length-1].s[0]:kf[kf.length-2].e[0];/* if(kf[kf.length - 1].s){\n                  keyPropS = kf[kf.length - 1].s[0];\n              }else{\n                  keyPropS = kf[kf.length - 2].e[0];\n              } */isHold=true;}else{var i=iterationIndex;var len=kf.length-1;var flag=true;var keyData;var nextKeyData;var keyframeMetadata;while(flag){keyData=kf[i];nextKeyData=kf[i+1];if(nextKeyData.t-this.offsetTime>frameNum){break;}if(i<len-1){i+=1;}else{flag=false;}}keyframeMetadata=this.keyframesMetadata[i]||{};isHold=keyData.h===1;iterationIndex=i;if(!isHold){if(frameNum>=nextKeyData.t-this.offsetTime){perc=1;}else if(frameNum<keyData.t-this.offsetTime){perc=0;}else{var fnc;if(keyframeMetadata.__fnct){fnc=keyframeMetadata.__fnct;}else{fnc=BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;keyframeMetadata.__fnct=fnc;}perc=fnc((frameNum-(keyData.t-this.offsetTime))/(nextKeyData.t-this.offsetTime-(keyData.t-this.offsetTime)));}keyPropE=nextKeyData.s?nextKeyData.s[0]:keyData.e[0];}keyPropS=keyData.s[0];}jLen=previousValue._length;kLen=keyPropS.i[0].length;caching.lastIndex=iterationIndex;for(j=0;j<jLen;j+=1){for(k=0;k<kLen;k+=1){vertexValue=isHold?keyPropS.i[j][k]:keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;previousValue.i[j][k]=vertexValue;vertexValue=isHold?keyPropS.o[j][k]:keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;previousValue.o[j][k]=vertexValue;vertexValue=isHold?keyPropS.v[j][k]:keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;previousValue.v[j][k]=vertexValue;}}}function interpolateShapeCurrentTime(){var frameNum=this.comp.renderedFrame-this.offsetTime;var initTime=this.keyframes[0].t-this.offsetTime;var endTime=this.keyframes[this.keyframes.length-1].t-this.offsetTime;var lastFrame=this._caching.lastFrame;if(!(lastFrame!==initFrame&&(lastFrame<initTime&&frameNum<initTime||lastFrame>endTime&&frameNum>endTime))){/// /\nthis._caching.lastIndex=lastFrame<frameNum?this._caching.lastIndex:0;this.interpolateShape(frameNum,this.pv,this._caching);/// /\n}this._caching.lastFrame=frameNum;return this.pv;}function resetShape(){this.paths=this.localShapeCollection;}function shapesEqual(shape1,shape2){if(shape1._length!==shape2._length||shape1.c!==shape2.c){return false;}var i;var len=shape1._length;for(i=0;i<len;i+=1){if(shape1.v[i][0]!==shape2.v[i][0]||shape1.v[i][1]!==shape2.v[i][1]||shape1.o[i][0]!==shape2.o[i][0]||shape1.o[i][1]!==shape2.o[i][1]||shape1.i[i][0]!==shape2.i[i][0]||shape1.i[i][1]!==shape2.i[i][1]){return false;}}return true;}function setVValue(newPath){if(!shapesEqual(this.v,newPath)){this.v=shapePool.clone(newPath);this.localShapeCollection.releaseShapes();this.localShapeCollection.addShape(this.v);this._mdf=true;this.paths=this.localShapeCollection;}}function processEffectsSequence(){if(this.elem.globalData.frameId===this.frameId){return;}if(!this.effectsSequence.length){this._mdf=false;return;}if(this.lock){this.setVValue(this.pv);return;}this.lock=true;this._mdf=false;var finalValue;if(this.kf){finalValue=this.pv;}else if(this.data.ks){finalValue=this.data.ks.k;}else{finalValue=this.data.pt.k;}var i;var len=this.effectsSequence.length;for(i=0;i<len;i+=1){finalValue=this.effectsSequence[i](finalValue);}this.setVValue(finalValue);this.lock=false;this.frameId=this.elem.globalData.frameId;}function ShapeProperty(elem,data,type){this.propType='shape';this.comp=elem.comp;this.container=elem;this.elem=elem;this.data=data;this.k=false;this.kf=false;this._mdf=false;var pathData=type===3?data.pt.k:data.ks.k;this.v=shapePool.clone(pathData);this.pv=shapePool.clone(this.v);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.paths=this.localShapeCollection;this.paths.addShape(this.v);this.reset=resetShape;this.effectsSequence=[];}function addEffect(effectFunction){this.effectsSequence.push(effectFunction);this.container.addDynamicProperty(this);}ShapeProperty.prototype.interpolateShape=interpolateShape;ShapeProperty.prototype.getValue=processEffectsSequence;ShapeProperty.prototype.setVValue=setVValue;ShapeProperty.prototype.addEffect=addEffect;function KeyframedShapeProperty(elem,data,type){this.propType='shape';this.comp=elem.comp;this.elem=elem;this.container=elem;this.offsetTime=elem.data.st;this.keyframes=type===3?data.pt.k:data.ks.k;this.keyframesMetadata=[];this.k=true;this.kf=true;var len=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement();this.v.setPathData(this.keyframes[0].s[0].c,len);this.pv=shapePool.clone(this.v);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.paths=this.localShapeCollection;this.paths.addShape(this.v);this.lastFrame=initFrame;this.reset=resetShape;this._caching={lastFrame:initFrame,lastIndex:0};this.effectsSequence=[interpolateShapeCurrentTime.bind(this)];}KeyframedShapeProperty.prototype.getValue=processEffectsSequence;KeyframedShapeProperty.prototype.interpolateShape=interpolateShape;KeyframedShapeProperty.prototype.setVValue=setVValue;KeyframedShapeProperty.prototype.addEffect=addEffect;var EllShapeProperty=function(){var cPoint=roundCorner;function EllShapePropertyFactory(elem,data){this.v=shapePool.newElement();this.v.setPathData(true,4);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.paths=this.localShapeCollection;this.localShapeCollection.addShape(this.v);this.d=data.d;this.elem=elem;this.comp=elem.comp;this.frameId=-1;this.initDynamicPropertyContainer(elem);this.p=PropertyFactory.getProp(elem,data.p,1,0,this);this.s=PropertyFactory.getProp(elem,data.s,1,0,this);if(this.dynamicProperties.length){this.k=true;}else{this.k=false;this.convertEllToPath();}}EllShapePropertyFactory.prototype={reset:resetShape,getValue:function getValue(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();if(this._mdf){this.convertEllToPath();}},convertEllToPath:function convertEllToPath(){var p0=this.p.v[0];var p1=this.p.v[1];var s0=this.s.v[0]/2;var s1=this.s.v[1]/2;var _cw=this.d!==3;var _v=this.v;_v.v[0][0]=p0;_v.v[0][1]=p1-s1;_v.v[1][0]=_cw?p0+s0:p0-s0;_v.v[1][1]=p1;_v.v[2][0]=p0;_v.v[2][1]=p1+s1;_v.v[3][0]=_cw?p0-s0:p0+s0;_v.v[3][1]=p1;_v.i[0][0]=_cw?p0-s0*cPoint:p0+s0*cPoint;_v.i[0][1]=p1-s1;_v.i[1][0]=_cw?p0+s0:p0-s0;_v.i[1][1]=p1-s1*cPoint;_v.i[2][0]=_cw?p0+s0*cPoint:p0-s0*cPoint;_v.i[2][1]=p1+s1;_v.i[3][0]=_cw?p0-s0:p0+s0;_v.i[3][1]=p1+s1*cPoint;_v.o[0][0]=_cw?p0+s0*cPoint:p0-s0*cPoint;_v.o[0][1]=p1-s1;_v.o[1][0]=_cw?p0+s0:p0-s0;_v.o[1][1]=p1+s1*cPoint;_v.o[2][0]=_cw?p0-s0*cPoint:p0+s0*cPoint;_v.o[2][1]=p1+s1;_v.o[3][0]=_cw?p0-s0:p0+s0;_v.o[3][1]=p1-s1*cPoint;}};extendPrototype([DynamicPropertyContainer],EllShapePropertyFactory);return EllShapePropertyFactory;}();var StarShapeProperty=function(){function StarShapePropertyFactory(elem,data){this.v=shapePool.newElement();this.v.setPathData(true,0);this.elem=elem;this.comp=elem.comp;this.data=data;this.frameId=-1;this.d=data.d;this.initDynamicPropertyContainer(elem);if(data.sy===1){this.ir=PropertyFactory.getProp(elem,data.ir,0,0,this);this.is=PropertyFactory.getProp(elem,data.is,0,0.01,this);this.convertToPath=this.convertStarToPath;}else{this.convertToPath=this.convertPolygonToPath;}this.pt=PropertyFactory.getProp(elem,data.pt,0,0,this);this.p=PropertyFactory.getProp(elem,data.p,1,0,this);this.r=PropertyFactory.getProp(elem,data.r,0,degToRads,this);this.or=PropertyFactory.getProp(elem,data.or,0,0,this);this.os=PropertyFactory.getProp(elem,data.os,0,0.01,this);this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.localShapeCollection.addShape(this.v);this.paths=this.localShapeCollection;if(this.dynamicProperties.length){this.k=true;}else{this.k=false;this.convertToPath();}}StarShapePropertyFactory.prototype={reset:resetShape,getValue:function getValue(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();if(this._mdf){this.convertToPath();}},convertStarToPath:function convertStarToPath(){var numPts=Math.floor(this.pt.v)*2;var angle=Math.PI*2/numPts;/* this.v.v.length = numPts;\n                  this.v.i.length = numPts;\n                  this.v.o.length = numPts; */var longFlag=true;var longRad=this.or.v;var shortRad=this.ir.v;var longRound=this.os.v;var shortRound=this.is.v;var longPerimSegment=2*Math.PI*longRad/(numPts*2);var shortPerimSegment=2*Math.PI*shortRad/(numPts*2);var i;var rad;var roundness;var perimSegment;var currentAng=-Math.PI/2;currentAng+=this.r.v;var dir=this.data.d===3?-1:1;this.v._length=0;for(i=0;i<numPts;i+=1){rad=longFlag?longRad:shortRad;roundness=longFlag?longRound:shortRound;perimSegment=longFlag?longPerimSegment:shortPerimSegment;var x=rad*Math.cos(currentAng);var y=rad*Math.sin(currentAng);var ox=x===0&&y===0?0:y/Math.sqrt(x*x+y*y);var oy=x===0&&y===0?0:-x/Math.sqrt(x*x+y*y);x+=+this.p.v[0];y+=+this.p.v[1];this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir,i,true);/* this.v.v[i] = [x,y];\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\n                      this.v._length = numPts; */longFlag=!longFlag;currentAng+=angle*dir;}},convertPolygonToPath:function convertPolygonToPath(){var numPts=Math.floor(this.pt.v);var angle=Math.PI*2/numPts;var rad=this.or.v;var roundness=this.os.v;var perimSegment=2*Math.PI*rad/(numPts*4);var i;var currentAng=-Math.PI*0.5;var dir=this.data.d===3?-1:1;currentAng+=this.r.v;this.v._length=0;for(i=0;i<numPts;i+=1){var x=rad*Math.cos(currentAng);var y=rad*Math.sin(currentAng);var ox=x===0&&y===0?0:y/Math.sqrt(x*x+y*y);var oy=x===0&&y===0?0:-x/Math.sqrt(x*x+y*y);x+=+this.p.v[0];y+=+this.p.v[1];this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir,i,true);currentAng+=angle*dir;}this.paths.length=0;this.paths[0]=this.v;}};extendPrototype([DynamicPropertyContainer],StarShapePropertyFactory);return StarShapePropertyFactory;}();var RectShapeProperty=function(){function RectShapePropertyFactory(elem,data){this.v=shapePool.newElement();this.v.c=true;this.localShapeCollection=shapeCollectionPool.newShapeCollection();this.localShapeCollection.addShape(this.v);this.paths=this.localShapeCollection;this.elem=elem;this.comp=elem.comp;this.frameId=-1;this.d=data.d;this.initDynamicPropertyContainer(elem);this.p=PropertyFactory.getProp(elem,data.p,1,0,this);this.s=PropertyFactory.getProp(elem,data.s,1,0,this);this.r=PropertyFactory.getProp(elem,data.r,0,0,this);if(this.dynamicProperties.length){this.k=true;}else{this.k=false;this.convertRectToPath();}}RectShapePropertyFactory.prototype={convertRectToPath:function convertRectToPath(){var p0=this.p.v[0];var p1=this.p.v[1];var v0=this.s.v[0]/2;var v1=this.s.v[1]/2;var round=bmMin(v0,v1,this.r.v);var cPoint=round*(1-roundCorner);this.v._length=0;if(this.d===2||this.d===1){this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,0,true);this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,p0+v0,p1+v1-round,1,true);if(round!==0){this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,2,true);this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,p0-v0+round,p1+v1,3,true);this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,4,true);this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,p0-v0,p1-v1+round,5,true);this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,6,true);this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,p0+v0-round,p1-v1,7,true);}else{this.v.setTripleAt(p0-v0,p1+v1,p0-v0+cPoint,p1+v1,p0-v0,p1+v1,2);this.v.setTripleAt(p0-v0,p1-v1,p0-v0,p1-v1+cPoint,p0-v0,p1-v1,3);}}else{this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,p0+v0,p1-v1+round,0,true);if(round!==0){this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,1,true);this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,p0-v0+round,p1-v1,2,true);this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,3,true);this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,p0-v0,p1+v1-round,4,true);this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,5,true);this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,p0+v0-round,p1+v1,6,true);this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,7,true);}else{this.v.setTripleAt(p0-v0,p1-v1,p0-v0+cPoint,p1-v1,p0-v0,p1-v1,1,true);this.v.setTripleAt(p0-v0,p1+v1,p0-v0,p1+v1-cPoint,p0-v0,p1+v1,2,true);this.v.setTripleAt(p0+v0,p1+v1,p0+v0-cPoint,p1+v1,p0+v0,p1+v1,3,true);}}},getValue:function getValue(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();if(this._mdf){this.convertRectToPath();}},reset:resetShape};extendPrototype([DynamicPropertyContainer],RectShapePropertyFactory);return RectShapePropertyFactory;}();function getShapeProp(elem,data,type){var prop;if(type===3||type===4){var dataProp=type===3?data.pt:data.ks;var keys=dataProp.k;if(keys.length){prop=new KeyframedShapeProperty(elem,data,type);}else{prop=new ShapeProperty(elem,data,type);}}else if(type===5){prop=new RectShapeProperty(elem,data);}else if(type===6){prop=new EllShapeProperty(elem,data);}else if(type===7){prop=new StarShapeProperty(elem,data);}if(prop.k){elem.addDynamicProperty(prop);}return prop;}function getConstructorFunction(){return ShapeProperty;}function getKeyframedConstructorFunction(){return KeyframedShapeProperty;}var ob={};ob.getShapeProp=getShapeProp;ob.getConstructorFunction=getConstructorFunction;ob.getKeyframedConstructorFunction=getKeyframedConstructorFunction;return ob;}();/*!\n   Transformation Matrix v2.0\n   (c) Epistemex 2014-2015\n   www.epistemex.com\n   By Ken Fyrstenberg\n   Contributions by leeoniya.\n   License: MIT, header required.\n   */ /**\n   * 2D transformation matrix object initialized with identity matrix.\n   *\n   * The matrix can synchronize a canvas context by supplying the context\n   * as an argument, or later apply current absolute transform to an\n   * existing context.\n   *\n   * All values are handled as floating point values.\n   *\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\n   * @prop {number} a - scale x\n   * @prop {number} b - shear y\n   * @prop {number} c - shear x\n   * @prop {number} d - scale y\n   * @prop {number} e - translate x\n   * @prop {number} f - translate y\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\n   * @constructor\n   */var Matrix=function(){var _cos=Math.cos;var _sin=Math.sin;var _tan=Math.tan;var _rnd=Math.round;function reset(){this.props[0]=1;this.props[1]=0;this.props[2]=0;this.props[3]=0;this.props[4]=0;this.props[5]=1;this.props[6]=0;this.props[7]=0;this.props[8]=0;this.props[9]=0;this.props[10]=1;this.props[11]=0;this.props[12]=0;this.props[13]=0;this.props[14]=0;this.props[15]=1;return this;}function rotate(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1,0,0,0,0,1);}function rotateX(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(1,0,0,0,0,mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1);}function rotateY(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,0,mSin,0,0,1,0,0,-mSin,0,mCos,0,0,0,0,1);}function rotateZ(angle){if(angle===0){return this;}var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1,0,0,0,0,1);}function shear(sx,sy){return this._t(1,sy,sx,1,0,0);}function skew(ax,ay){return this.shear(_tan(ax),_tan(ay));}function skewFromAxis(ax,angle){var mCos=_cos(angle);var mSin=_sin(angle);return this._t(mCos,mSin,0,0,-mSin,mCos,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,_tan(ax),1,0,0,0,0,1,0,0,0,0,1)._t(mCos,-mSin,0,0,mSin,mCos,0,0,0,0,1,0,0,0,0,1);// return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n}function scale(sx,sy,sz){if(!sz&&sz!==0){sz=1;}if(sx===1&&sy===1&&sz===1){return this;}return this._t(sx,0,0,0,0,sy,0,0,0,0,sz,0,0,0,0,1);}function setTransform(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){this.props[0]=a;this.props[1]=b;this.props[2]=c;this.props[3]=d;this.props[4]=e;this.props[5]=f;this.props[6]=g;this.props[7]=h;this.props[8]=i;this.props[9]=j;this.props[10]=k;this.props[11]=l;this.props[12]=m;this.props[13]=n;this.props[14]=o;this.props[15]=p;return this;}function translate(tx,ty,tz){tz=tz||0;if(tx!==0||ty!==0||tz!==0){return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);}return this;}function transform(a2,b2,c2,d2,e2,f2,g2,h2,i2,j2,k2,l2,m2,n2,o2,p2){var _p=this.props;if(a2===1&&b2===0&&c2===0&&d2===0&&e2===0&&f2===1&&g2===0&&h2===0&&i2===0&&j2===0&&k2===1&&l2===0){// NOTE: commenting this condition because TurboFan deoptimizes code when present\n// if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n_p[12]=_p[12]*a2+_p[15]*m2;_p[13]=_p[13]*f2+_p[15]*n2;_p[14]=_p[14]*k2+_p[15]*o2;_p[15]*=p2;// }\nthis._identityCalculated=false;return this;}var a1=_p[0];var b1=_p[1];var c1=_p[2];var d1=_p[3];var e1=_p[4];var f1=_p[5];var g1=_p[6];var h1=_p[7];var i1=_p[8];var j1=_p[9];var k1=_p[10];var l1=_p[11];var m1=_p[12];var n1=_p[13];var o1=_p[14];var p1=_p[15];/* matrix order (canvas compatible):\n           * ace\n           * bdf\n           * 001\n           */_p[0]=a1*a2+b1*e2+c1*i2+d1*m2;_p[1]=a1*b2+b1*f2+c1*j2+d1*n2;_p[2]=a1*c2+b1*g2+c1*k2+d1*o2;_p[3]=a1*d2+b1*h2+c1*l2+d1*p2;_p[4]=e1*a2+f1*e2+g1*i2+h1*m2;_p[5]=e1*b2+f1*f2+g1*j2+h1*n2;_p[6]=e1*c2+f1*g2+g1*k2+h1*o2;_p[7]=e1*d2+f1*h2+g1*l2+h1*p2;_p[8]=i1*a2+j1*e2+k1*i2+l1*m2;_p[9]=i1*b2+j1*f2+k1*j2+l1*n2;_p[10]=i1*c2+j1*g2+k1*k2+l1*o2;_p[11]=i1*d2+j1*h2+k1*l2+l1*p2;_p[12]=m1*a2+n1*e2+o1*i2+p1*m2;_p[13]=m1*b2+n1*f2+o1*j2+p1*n2;_p[14]=m1*c2+n1*g2+o1*k2+p1*o2;_p[15]=m1*d2+n1*h2+o1*l2+p1*p2;this._identityCalculated=false;return this;}function isIdentity(){if(!this._identityCalculated){this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1);this._identityCalculated=true;}return this._identity;}function equals(matr){var i=0;while(i<16){if(matr.props[i]!==this.props[i]){return false;}i+=1;}return true;}function clone(matr){var i;for(i=0;i<16;i+=1){matr.props[i]=this.props[i];}return matr;}function cloneFromProps(props){var i;for(i=0;i<16;i+=1){this.props[i]=props[i];}}function applyToPoint(x,y,z){return{x:x*this.props[0]+y*this.props[4]+z*this.props[8]+this.props[12],y:x*this.props[1]+y*this.props[5]+z*this.props[9]+this.props[13],z:x*this.props[2]+y*this.props[6]+z*this.props[10]+this.props[14]};/* return {\n           x: x * me.a + y * me.c + me.e,\n           y: x * me.b + y * me.d + me.f\n           }; */}function applyToX(x,y,z){return x*this.props[0]+y*this.props[4]+z*this.props[8]+this.props[12];}function applyToY(x,y,z){return x*this.props[1]+y*this.props[5]+z*this.props[9]+this.props[13];}function applyToZ(x,y,z){return x*this.props[2]+y*this.props[6]+z*this.props[10]+this.props[14];}function getInverseMatrix(){var determinant=this.props[0]*this.props[5]-this.props[1]*this.props[4];var a=this.props[5]/determinant;var b=-this.props[1]/determinant;var c=-this.props[4]/determinant;var d=this.props[0]/determinant;var e=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/determinant;var f=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/determinant;var inverseMatrix=new Matrix();inverseMatrix.props[0]=a;inverseMatrix.props[1]=b;inverseMatrix.props[4]=c;inverseMatrix.props[5]=d;inverseMatrix.props[12]=e;inverseMatrix.props[13]=f;return inverseMatrix;}function inversePoint(pt){var inverseMatrix=this.getInverseMatrix();return inverseMatrix.applyToPointArray(pt[0],pt[1],pt[2]||0);}function inversePoints(pts){var i;var len=pts.length;var retPts=[];for(i=0;i<len;i+=1){retPts[i]=inversePoint(pts[i]);}return retPts;}function applyToTriplePoints(pt1,pt2,pt3){var arr=createTypedArray('float32',6);if(this.isIdentity()){arr[0]=pt1[0];arr[1]=pt1[1];arr[2]=pt2[0];arr[3]=pt2[1];arr[4]=pt3[0];arr[5]=pt3[1];}else{var p0=this.props[0];var p1=this.props[1];var p4=this.props[4];var p5=this.props[5];var p12=this.props[12];var p13=this.props[13];arr[0]=pt1[0]*p0+pt1[1]*p4+p12;arr[1]=pt1[0]*p1+pt1[1]*p5+p13;arr[2]=pt2[0]*p0+pt2[1]*p4+p12;arr[3]=pt2[0]*p1+pt2[1]*p5+p13;arr[4]=pt3[0]*p0+pt3[1]*p4+p12;arr[5]=pt3[0]*p1+pt3[1]*p5+p13;}return arr;}function applyToPointArray(x,y,z){var arr;if(this.isIdentity()){arr=[x,y,z];}else{arr=[x*this.props[0]+y*this.props[4]+z*this.props[8]+this.props[12],x*this.props[1]+y*this.props[5]+z*this.props[9]+this.props[13],x*this.props[2]+y*this.props[6]+z*this.props[10]+this.props[14]];}return arr;}function applyToPointStringified(x,y){if(this.isIdentity()){return x+','+y;}var _p=this.props;return Math.round((x*_p[0]+y*_p[4]+_p[12])*100)/100+','+Math.round((x*_p[1]+y*_p[5]+_p[13])*100)/100;}function toCSS(){// Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n/* if(this.isIdentity()) {\n              return '';\n          } */var i=0;var props=this.props;var cssValue='matrix3d(';var v=10000;while(i<16){cssValue+=_rnd(props[i]*v)/v;cssValue+=i===15?')':',';i+=1;}return cssValue;}function roundMatrixProperty(val){var v=10000;if(val<0.000001&&val>0||val>-0.000001&&val<0){return _rnd(val*v)/v;}return val;}function to2dCSS(){// Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n/* if(this.isIdentity()) {\n              return '';\n          } */var props=this.props;var _a=roundMatrixProperty(props[0]);var _b=roundMatrixProperty(props[1]);var _c=roundMatrixProperty(props[4]);var _d=roundMatrixProperty(props[5]);var _e=roundMatrixProperty(props[12]);var _f=roundMatrixProperty(props[13]);return'matrix('+_a+','+_b+','+_c+','+_d+','+_e+','+_f+')';}return function(){this.reset=reset;this.rotate=rotate;this.rotateX=rotateX;this.rotateY=rotateY;this.rotateZ=rotateZ;this.skew=skew;this.skewFromAxis=skewFromAxis;this.shear=shear;this.scale=scale;this.setTransform=setTransform;this.translate=translate;this.transform=transform;this.applyToPoint=applyToPoint;this.applyToX=applyToX;this.applyToY=applyToY;this.applyToZ=applyToZ;this.applyToPointArray=applyToPointArray;this.applyToTriplePoints=applyToTriplePoints;this.applyToPointStringified=applyToPointStringified;this.toCSS=toCSS;this.to2dCSS=to2dCSS;this.clone=clone;this.cloneFromProps=cloneFromProps;this.equals=equals;this.inversePoints=inversePoints;this.inversePoint=inversePoint;this.getInverseMatrix=getInverseMatrix;this._t=this.transform;this.isIdentity=isIdentity;this._identity=true;this._identityCalculated=false;this.props=createTypedArray('float32',16);this.reset();};}();function _typeof$3(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$3=function _typeof(obj){return typeof obj;};}else{_typeof$3=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$3(obj);}var lottie={};var standalone='__[STANDALONE]__';var animationData='__[ANIMATIONDATA]__';var renderer='';function setLocation(href){setLocationHref(href);}function searchAnimations(){if(standalone===true){animationManager.searchAnimations(animationData,standalone,renderer);}else{animationManager.searchAnimations();}}function setSubframeRendering(flag){setSubframeEnabled(flag);}function setPrefix(prefix){setIdPrefix(prefix);}function loadAnimation(params){if(standalone===true){params.animationData=JSON.parse(animationData);}return animationManager.loadAnimation(params);}function setQuality(value){if(typeof value==='string'){switch(value){case'high':setDefaultCurveSegments(200);break;default:case'medium':setDefaultCurveSegments(50);break;case'low':setDefaultCurveSegments(10);break;}}else if(!isNaN(value)&&value>1){setDefaultCurveSegments(value);}if(getDefaultCurveSegments()>=50){roundValues(false);}else{roundValues(true);}}function inBrowser(){return typeof navigator!=='undefined';}function installPlugin(type,plugin){if(type==='expressions'){setExpressionsPlugin(plugin);}}function getFactory(name){switch(name){case'propertyFactory':return PropertyFactory;case'shapePropertyFactory':return ShapePropertyFactory;case'matrix':return Matrix;default:return null;}}lottie.play=animationManager.play;lottie.pause=animationManager.pause;lottie.setLocationHref=setLocation;lottie.togglePause=animationManager.togglePause;lottie.setSpeed=animationManager.setSpeed;lottie.setDirection=animationManager.setDirection;lottie.stop=animationManager.stop;lottie.searchAnimations=searchAnimations;lottie.registerAnimation=animationManager.registerAnimation;lottie.loadAnimation=loadAnimation;lottie.setSubframeRendering=setSubframeRendering;lottie.resize=animationManager.resize;// lottie.start = start;\nlottie.goToAndStop=animationManager.goToAndStop;lottie.destroy=animationManager.destroy;lottie.setQuality=setQuality;lottie.inBrowser=inBrowser;lottie.installPlugin=installPlugin;lottie.freeze=animationManager.freeze;lottie.unfreeze=animationManager.unfreeze;lottie.setVolume=animationManager.setVolume;lottie.mute=animationManager.mute;lottie.unmute=animationManager.unmute;lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations;lottie.useWebWorker=setWebWorker;lottie.setIDPrefix=setPrefix;lottie.__getFactory=getFactory;lottie.version='5.9.2';function checkReady(){if(document.readyState==='complete'){clearInterval(readyStateCheckInterval);searchAnimations();}}function getQueryVariable(variable){var vars=queryString.split('&');for(var i=0;i<vars.length;i+=1){var pair=vars[i].split('=');if(decodeURIComponent(pair[0])==variable){// eslint-disable-line eqeqeq\nreturn decodeURIComponent(pair[1]);}}return null;}var queryString;if(standalone){var scripts=document.getElementsByTagName('script');var index=scripts.length-1;var myScript=scripts[index]||{src:''};queryString=myScript.src.replace(/^[^\\?]+\\??/,'');// eslint-disable-line no-useless-escape\nrenderer=getQueryVariable('renderer');}var readyStateCheckInterval=setInterval(checkReady,100);// this adds bodymovin to the window object for backwards compatibility\ntry{if(!((typeof exports===\"undefined\"?\"undefined\":_typeof$3(exports))==='object'&&typeof module!=='undefined')&&!(typeof define==='function'&&define.amd)// eslint-disable-line no-undef\n){window.bodymovin=lottie;}}catch(err){//\n}var ShapeModifiers=function(){var ob={};var modifiers={};ob.registerModifier=registerModifier;ob.getModifier=getModifier;function registerModifier(nm,factory){if(!modifiers[nm]){modifiers[nm]=factory;}}function getModifier(nm,elem,data){return new modifiers[nm](elem,data);}return ob;}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){};ShapeModifier.prototype.addShapeToModifier=function(){};ShapeModifier.prototype.addShape=function(data){if(!this.closed){// Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\ndata.sh.container.addDynamicProperty(data.sh);var shapeData={shape:data.sh,data:data,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(shapeData);this.addShapeToModifier(shapeData);if(this._isAnimated){data.setAsAnimated();}}};ShapeModifier.prototype.init=function(elem,data){this.shapes=[];this.elem=elem;this.initDynamicPropertyContainer(elem);this.initModifierProperties(elem,data);this.frameId=initialDefaultFrame;this.closed=false;this.k=false;if(this.dynamicProperties.length){this.k=true;}else{this.getValue(true);}};ShapeModifier.prototype.processKeys=function(){if(this.elem.globalData.frameId===this.frameId){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();};extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier);TrimModifier.prototype.initModifierProperties=function(elem,data){this.s=PropertyFactory.getProp(elem,data.s,0,0.01,this);this.e=PropertyFactory.getProp(elem,data.e,0,0.01,this);this.o=PropertyFactory.getProp(elem,data.o,0,0,this);this.sValue=0;this.eValue=0;this.getValue=this.processKeys;this.m=data.m;this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length;};TrimModifier.prototype.addShapeToModifier=function(shapeData){shapeData.pathsData=[];};TrimModifier.prototype.calculateShapeEdges=function(s,e,shapeLength,addedLength,totalModifierLength){var segments=[];if(e<=1){segments.push({s:s,e:e});}else if(s>=1){segments.push({s:s-1,e:e-1});}else{segments.push({s:s,e:1});segments.push({s:0,e:e-1});}var shapeSegments=[];var i;var len=segments.length;var segmentOb;for(i=0;i<len;i+=1){segmentOb=segments[i];if(!(segmentOb.e*totalModifierLength<addedLength||segmentOb.s*totalModifierLength>addedLength+shapeLength)){var shapeS;var shapeE;if(segmentOb.s*totalModifierLength<=addedLength){shapeS=0;}else{shapeS=(segmentOb.s*totalModifierLength-addedLength)/shapeLength;}if(segmentOb.e*totalModifierLength>=addedLength+shapeLength){shapeE=1;}else{shapeE=(segmentOb.e*totalModifierLength-addedLength)/shapeLength;}shapeSegments.push([shapeS,shapeE]);}}if(!shapeSegments.length){shapeSegments.push([0,0]);}return shapeSegments;};TrimModifier.prototype.releasePathsData=function(pathsData){var i;var len=pathsData.length;for(i=0;i<len;i+=1){segmentsLengthPool.release(pathsData[i]);}pathsData.length=0;return pathsData;};TrimModifier.prototype.processShapes=function(_isFirstFrame){var s;var e;if(this._mdf||_isFirstFrame){var o=this.o.v%360/360;if(o<0){o+=1;}if(this.s.v>1){s=1+o;}else if(this.s.v<0){s=0+o;}else{s=this.s.v+o;}if(this.e.v>1){e=1+o;}else if(this.e.v<0){e=0+o;}else{e=this.e.v+o;}if(s>e){var _s=s;s=e;e=_s;}s=Math.round(s*10000)*0.0001;e=Math.round(e*10000)*0.0001;this.sValue=s;this.eValue=e;}else{s=this.sValue;e=this.eValue;}var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var pathsData;var pathData;var totalShapeLength;var totalModifierLength=0;if(e===s){for(i=0;i<len;i+=1){this.shapes[i].localShapeCollection.releaseShapes();this.shapes[i].shape._mdf=true;this.shapes[i].shape.paths=this.shapes[i].localShapeCollection;if(this._mdf){this.shapes[i].pathsData.length=0;}}}else if(!(e===1&&s===0||e===0&&s===1)){var segments=[];var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];// if shape hasn't changed and trim properties haven't changed, cached previous path can be used\nif(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame&&this.m!==2){shapeData.shape.paths=shapeData.localShapeCollection;}else{shapePaths=shapeData.shape.paths;jLen=shapePaths._length;totalShapeLength=0;if(!shapeData.shape._mdf&&shapeData.pathsData.length){totalShapeLength=shapeData.totalShapeLength;}else{pathsData=this.releasePathsData(shapeData.pathsData);for(j=0;j<jLen;j+=1){pathData=bez.getSegmentsLength(shapePaths.shapes[j]);pathsData.push(pathData);totalShapeLength+=pathData.totalLength;}shapeData.totalShapeLength=totalShapeLength;shapeData.pathsData=pathsData;}totalModifierLength+=totalShapeLength;shapeData.shape._mdf=true;}}var shapeS=s;var shapeE=e;var addedLength=0;var edges;for(i=len-1;i>=0;i-=1){shapeData=this.shapes[i];if(shapeData.shape._mdf){localShapeCollection=shapeData.localShapeCollection;localShapeCollection.releaseShapes();// if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\nif(this.m===2&&len>1){edges=this.calculateShapeEdges(s,e,shapeData.totalShapeLength,addedLength,totalModifierLength);addedLength+=shapeData.totalShapeLength;}else{edges=[[shapeS,shapeE]];}jLen=edges.length;for(j=0;j<jLen;j+=1){shapeS=edges[j][0];shapeE=edges[j][1];segments.length=0;if(shapeE<=1){segments.push({s:shapeData.totalShapeLength*shapeS,e:shapeData.totalShapeLength*shapeE});}else if(shapeS>=1){segments.push({s:shapeData.totalShapeLength*(shapeS-1),e:shapeData.totalShapeLength*(shapeE-1)});}else{segments.push({s:shapeData.totalShapeLength*shapeS,e:shapeData.totalShapeLength});segments.push({s:0,e:shapeData.totalShapeLength*(shapeE-1)});}var newShapesData=this.addShapes(shapeData,segments[0]);if(segments[0].s!==segments[0].e){if(segments.length>1){var lastShapeInCollection=shapeData.shape.paths.shapes[shapeData.shape.paths._length-1];if(lastShapeInCollection.c){var lastShape=newShapesData.pop();this.addPaths(newShapesData,localShapeCollection);newShapesData=this.addShapes(shapeData,segments[1],lastShape);}else{this.addPaths(newShapesData,localShapeCollection);newShapesData=this.addShapes(shapeData,segments[1]);}}this.addPaths(newShapesData,localShapeCollection);}}shapeData.shape.paths=localShapeCollection;}}}else if(this._mdf){for(i=0;i<len;i+=1){// Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n// Don't remove this even if it's losing cached info.\nthis.shapes[i].pathsData.length=0;this.shapes[i].shape._mdf=true;}}};TrimModifier.prototype.addPaths=function(newPaths,localShapeCollection){var i;var len=newPaths.length;for(i=0;i<len;i+=1){localShapeCollection.addShape(newPaths[i]);}};TrimModifier.prototype.addSegment=function(pt1,pt2,pt3,pt4,shapePath,pos,newShape){shapePath.setXYAt(pt2[0],pt2[1],'o',pos);shapePath.setXYAt(pt3[0],pt3[1],'i',pos+1);if(newShape){shapePath.setXYAt(pt1[0],pt1[1],'v',pos);}shapePath.setXYAt(pt4[0],pt4[1],'v',pos+1);};TrimModifier.prototype.addSegmentFromArray=function(points,shapePath,pos,newShape){shapePath.setXYAt(points[1],points[5],'o',pos);shapePath.setXYAt(points[2],points[6],'i',pos+1);if(newShape){shapePath.setXYAt(points[0],points[4],'v',pos);}shapePath.setXYAt(points[3],points[7],'v',pos+1);};TrimModifier.prototype.addShapes=function(shapeData,shapeSegment,shapePath){var pathsData=shapeData.pathsData;var shapePaths=shapeData.shape.paths.shapes;var i;var len=shapeData.shape.paths._length;var j;var jLen;var addedLength=0;var currentLengthData;var segmentCount;var lengths;var segment;var shapes=[];var initPos;var newShape=true;if(!shapePath){shapePath=shapePool.newElement();segmentCount=0;initPos=0;}else{segmentCount=shapePath._length;initPos=shapePath._length;}shapes.push(shapePath);for(i=0;i<len;i+=1){lengths=pathsData[i].lengths;shapePath.c=shapePaths[i].c;jLen=shapePaths[i].c?lengths.length:lengths.length+1;for(j=1;j<jLen;j+=1){currentLengthData=lengths[j-1];if(addedLength+currentLengthData.addedLength<shapeSegment.s){addedLength+=currentLengthData.addedLength;shapePath.c=false;}else if(addedLength>shapeSegment.e){shapePath.c=false;break;}else{if(shapeSegment.s<=addedLength&&shapeSegment.e>=addedLength+currentLengthData.addedLength){this.addSegment(shapePaths[i].v[j-1],shapePaths[i].o[j-1],shapePaths[i].i[j],shapePaths[i].v[j],shapePath,segmentCount,newShape);newShape=false;}else{segment=bez.getNewSegment(shapePaths[i].v[j-1],shapePaths[i].v[j],shapePaths[i].o[j-1],shapePaths[i].i[j],(shapeSegment.s-addedLength)/currentLengthData.addedLength,(shapeSegment.e-addedLength)/currentLengthData.addedLength,lengths[j-1]);this.addSegmentFromArray(segment,shapePath,segmentCount,newShape);// this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\nnewShape=false;shapePath.c=false;}addedLength+=currentLengthData.addedLength;segmentCount+=1;}}if(shapePaths[i].c&&lengths.length){currentLengthData=lengths[j-1];if(addedLength<=shapeSegment.e){var segmentLength=lengths[j-1].addedLength;if(shapeSegment.s<=addedLength&&shapeSegment.e>=addedLength+segmentLength){this.addSegment(shapePaths[i].v[j-1],shapePaths[i].o[j-1],shapePaths[i].i[0],shapePaths[i].v[0],shapePath,segmentCount,newShape);newShape=false;}else{segment=bez.getNewSegment(shapePaths[i].v[j-1],shapePaths[i].v[0],shapePaths[i].o[j-1],shapePaths[i].i[0],(shapeSegment.s-addedLength)/segmentLength,(shapeSegment.e-addedLength)/segmentLength,lengths[j-1]);this.addSegmentFromArray(segment,shapePath,segmentCount,newShape);// this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\nnewShape=false;shapePath.c=false;}}else{shapePath.c=false;}addedLength+=currentLengthData.addedLength;segmentCount+=1;}if(shapePath._length){shapePath.setXYAt(shapePath.v[initPos][0],shapePath.v[initPos][1],'i',initPos);shapePath.setXYAt(shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1],'o',shapePath._length-1);}if(addedLength>shapeSegment.e){break;}if(i<len-1){shapePath=shapePool.newElement();newShape=true;shapes.push(shapePath);segmentCount=0;}}return shapes;};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier);PuckerAndBloatModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.amount=PropertyFactory.getProp(elem,data.a,0,null,this);this._isAnimated=!!this.amount.effectsSequence.length;};PuckerAndBloatModifier.prototype.processPath=function(path,amount){var percent=amount/100;var centerPoint=[0,0];var pathLength=path._length;var i=0;for(i=0;i<pathLength;i+=1){centerPoint[0]+=path.v[i][0];centerPoint[1]+=path.v[i][1];}centerPoint[0]/=pathLength;centerPoint[1]/=pathLength;var clonedPath=shapePool.newElement();clonedPath.c=path.c;var vX;var vY;var oX;var oY;var iX;var iY;for(i=0;i<pathLength;i+=1){vX=path.v[i][0]+(centerPoint[0]-path.v[i][0])*percent;vY=path.v[i][1]+(centerPoint[1]-path.v[i][1])*percent;oX=path.o[i][0]+(centerPoint[0]-path.o[i][0])*-percent;oY=path.o[i][1]+(centerPoint[1]-path.o[i][1])*-percent;iX=path.i[i][0]+(centerPoint[0]-path.i[i][0])*-percent;iY=path.i[i][1]+(centerPoint[1]-path.i[i][1])*-percent;clonedPath.setTripleAt(vX,vY,oX,oY,iX,iY,i);}return clonedPath;};PuckerAndBloatModifier.prototype.processShapes=function(_isFirstFrame){var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var amount=this.amount.v;if(amount!==0){var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];localShapeCollection=shapeData.localShapeCollection;if(!(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame)){localShapeCollection.releaseShapes();shapeData.shape._mdf=true;shapePaths=shapeData.shape.paths.shapes;jLen=shapeData.shape.paths._length;for(j=0;j<jLen;j+=1){localShapeCollection.addShape(this.processPath(shapePaths[j],amount));}}shapeData.shape.paths=shapeData.localShapeCollection;}}if(!this.dynamicProperties.length){this._mdf=false;}};var TransformPropertyFactory=function(){var defaultVector=[0,0];function applyToMatrix(mat){var _mdf=this._mdf;this.iterateDynamicProperties();this._mdf=this._mdf||_mdf;if(this.a){mat.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);}if(this.s){mat.scale(this.s.v[0],this.s.v[1],this.s.v[2]);}if(this.sk){mat.skewFromAxis(-this.sk.v,this.sa.v);}if(this.r){mat.rotate(-this.r.v);}else{mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);}if(this.data.p.s){if(this.data.p.z){mat.translate(this.px.v,this.py.v,-this.pz.v);}else{mat.translate(this.px.v,this.py.v,0);}}else{mat.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);}}function processKeys(forceRender){if(this.elem.globalData.frameId===this.frameId){return;}if(this._isDirty){this.precalculateMatrix();this._isDirty=false;}this.iterateDynamicProperties();if(this._mdf||forceRender){var frameRate;this.v.cloneFromProps(this.pre.props);if(this.appliedTransformations<1){this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);}if(this.appliedTransformations<2){this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]);}if(this.sk&&this.appliedTransformations<3){this.v.skewFromAxis(-this.sk.v,this.sa.v);}if(this.r&&this.appliedTransformations<4){this.v.rotate(-this.r.v);}else if(!this.r&&this.appliedTransformations<4){this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);}if(this.autoOriented){var v1;var v2;frameRate=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime){if(this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t){v1=this.p.getValueAtTime((this.p.keyframes[0].t+0.01)/frameRate,0);v2=this.p.getValueAtTime(this.p.keyframes[0].t/frameRate,0);}else if(this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t){v1=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/frameRate,0);v2=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-0.05)/frameRate,0);}else{v1=this.p.pv;v2=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-0.01)/frameRate,this.p.offsetTime);}}else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){v1=[];v2=[];var px=this.px;var py=this.py;if(px._caching.lastFrame+px.offsetTime<=px.keyframes[0].t){v1[0]=px.getValueAtTime((px.keyframes[0].t+0.01)/frameRate,0);v1[1]=py.getValueAtTime((py.keyframes[0].t+0.01)/frameRate,0);v2[0]=px.getValueAtTime(px.keyframes[0].t/frameRate,0);v2[1]=py.getValueAtTime(py.keyframes[0].t/frameRate,0);}else if(px._caching.lastFrame+px.offsetTime>=px.keyframes[px.keyframes.length-1].t){v1[0]=px.getValueAtTime(px.keyframes[px.keyframes.length-1].t/frameRate,0);v1[1]=py.getValueAtTime(py.keyframes[py.keyframes.length-1].t/frameRate,0);v2[0]=px.getValueAtTime((px.keyframes[px.keyframes.length-1].t-0.01)/frameRate,0);v2[1]=py.getValueAtTime((py.keyframes[py.keyframes.length-1].t-0.01)/frameRate,0);}else{v1=[px.pv,py.pv];v2[0]=px.getValueAtTime((px._caching.lastFrame+px.offsetTime-0.01)/frameRate,px.offsetTime);v2[1]=py.getValueAtTime((py._caching.lastFrame+py.offsetTime-0.01)/frameRate,py.offsetTime);}}else{v2=defaultVector;v1=v2;}this.v.rotate(-Math.atan2(v1[1]-v2[1],v1[0]-v2[0]));}if(this.data.p&&this.data.p.s){if(this.data.p.z){this.v.translate(this.px.v,this.py.v,-this.pz.v);}else{this.v.translate(this.px.v,this.py.v,0);}}else{this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);}}this.frameId=this.elem.globalData.frameId;}function precalculateMatrix(){if(!this.a.k){this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);this.appliedTransformations=1;}else{return;}if(!this.s.effectsSequence.length){this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]);this.appliedTransformations=2;}else{return;}if(this.sk){if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length){this.pre.skewFromAxis(-this.sk.v,this.sa.v);this.appliedTransformations=3;}else{return;}}if(this.r){if(!this.r.effectsSequence.length){this.pre.rotate(-this.r.v);this.appliedTransformations=4;}}else if(!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length){this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);this.appliedTransformations=4;}}function autoOrient(){//\n// var prevP = this.getValueAtTime();\n}function addDynamicProperty(prop){this._addDynamicProperty(prop);this.elem.addDynamicProperty(prop);this._isDirty=true;}function TransformProperty(elem,data,container){this.elem=elem;this.frameId=-1;this.propType='transform';this.data=data;this.v=new Matrix();// Precalculated matrix with non animated properties\nthis.pre=new Matrix();this.appliedTransformations=0;this.initDynamicPropertyContainer(container||elem);if(data.p&&data.p.s){this.px=PropertyFactory.getProp(elem,data.p.x,0,0,this);this.py=PropertyFactory.getProp(elem,data.p.y,0,0,this);if(data.p.z){this.pz=PropertyFactory.getProp(elem,data.p.z,0,0,this);}}else{this.p=PropertyFactory.getProp(elem,data.p||{k:[0,0,0]},1,0,this);}if(data.rx){this.rx=PropertyFactory.getProp(elem,data.rx,0,degToRads,this);this.ry=PropertyFactory.getProp(elem,data.ry,0,degToRads,this);this.rz=PropertyFactory.getProp(elem,data.rz,0,degToRads,this);if(data.or.k[0].ti){var i;var len=data.or.k.length;for(i=0;i<len;i+=1){data.or.k[i].to=null;data.or.k[i].ti=null;}}this.or=PropertyFactory.getProp(elem,data.or,1,degToRads,this);// sh Indicates it needs to be capped between -180 and 180\nthis.or.sh=true;}else{this.r=PropertyFactory.getProp(elem,data.r||{k:0},0,degToRads,this);}if(data.sk){this.sk=PropertyFactory.getProp(elem,data.sk,0,degToRads,this);this.sa=PropertyFactory.getProp(elem,data.sa,0,degToRads,this);}this.a=PropertyFactory.getProp(elem,data.a||{k:[0,0,0]},1,0,this);this.s=PropertyFactory.getProp(elem,data.s||{k:[100,100,100]},1,0.01,this);// Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\nif(data.o){this.o=PropertyFactory.getProp(elem,data.o,0,0.01,elem);}else{this.o={_mdf:false,v:1};}this._isDirty=true;if(!this.dynamicProperties.length){this.getValue(true);}}TransformProperty.prototype={applyToMatrix:applyToMatrix,getValue:processKeys,precalculateMatrix:precalculateMatrix,autoOrient:autoOrient};extendPrototype([DynamicPropertyContainer],TransformProperty);TransformProperty.prototype.addDynamicProperty=addDynamicProperty;TransformProperty.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function getTransformProperty(elem,data,container){return new TransformProperty(elem,data,container);}return{getTransformProperty:getTransformProperty};}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier);RepeaterModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.c=PropertyFactory.getProp(elem,data.c,0,null,this);this.o=PropertyFactory.getProp(elem,data.o,0,null,this);this.tr=TransformPropertyFactory.getTransformProperty(elem,data.tr,this);this.so=PropertyFactory.getProp(elem,data.tr.so,0,0.01,this);this.eo=PropertyFactory.getProp(elem,data.tr.eo,0,0.01,this);this.data=data;if(!this.dynamicProperties.length){this.getValue(true);}this._isAnimated=!!this.dynamicProperties.length;this.pMatrix=new Matrix();this.rMatrix=new Matrix();this.sMatrix=new Matrix();this.tMatrix=new Matrix();this.matrix=new Matrix();};RepeaterModifier.prototype.applyTransforms=function(pMatrix,rMatrix,sMatrix,transform,perc,inv){var dir=inv?-1:1;var scaleX=transform.s.v[0]+(1-transform.s.v[0])*(1-perc);var scaleY=transform.s.v[1]+(1-transform.s.v[1])*(1-perc);pMatrix.translate(transform.p.v[0]*dir*perc,transform.p.v[1]*dir*perc,transform.p.v[2]);rMatrix.translate(-transform.a.v[0],-transform.a.v[1],transform.a.v[2]);rMatrix.rotate(-transform.r.v*dir*perc);rMatrix.translate(transform.a.v[0],transform.a.v[1],transform.a.v[2]);sMatrix.translate(-transform.a.v[0],-transform.a.v[1],transform.a.v[2]);sMatrix.scale(inv?1/scaleX:scaleX,inv?1/scaleY:scaleY);sMatrix.translate(transform.a.v[0],transform.a.v[1],transform.a.v[2]);};RepeaterModifier.prototype.init=function(elem,arr,pos,elemsData){this.elem=elem;this.arr=arr;this.pos=pos;this.elemsData=elemsData;this._currentCopies=0;this._elements=[];this._groups=[];this.frameId=-1;this.initDynamicPropertyContainer(elem);this.initModifierProperties(elem,arr[pos]);while(pos>0){pos-=1;// this._elements.unshift(arr.splice(pos,1)[0]);\nthis._elements.unshift(arr[pos]);}if(this.dynamicProperties.length){this.k=true;}else{this.getValue(true);}};RepeaterModifier.prototype.resetElements=function(elements){var i;var len=elements.length;for(i=0;i<len;i+=1){elements[i]._processed=false;if(elements[i].ty==='gr'){this.resetElements(elements[i].it);}}};RepeaterModifier.prototype.cloneElements=function(elements){var newElements=JSON.parse(JSON.stringify(elements));this.resetElements(newElements);return newElements;};RepeaterModifier.prototype.changeGroupRender=function(elements,renderFlag){var i;var len=elements.length;for(i=0;i<len;i+=1){elements[i]._render=renderFlag;if(elements[i].ty==='gr'){this.changeGroupRender(elements[i].it,renderFlag);}}};RepeaterModifier.prototype.processShapes=function(_isFirstFrame){var items;var itemsTransform;var i;var dir;var cont;var hasReloaded=false;if(this._mdf||_isFirstFrame){var copies=Math.ceil(this.c.v);if(this._groups.length<copies){while(this._groups.length<copies){var group={it:this.cloneElements(this._elements),ty:'gr'};group.it.push({a:{a:0,ix:1,k:[0,0]},nm:'Transform',o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:'tr'});this.arr.splice(0,0,group);this._groups.splice(0,0,group);this._currentCopies+=1;}this.elem.reloadShapes();hasReloaded=true;}cont=0;var renderFlag;for(i=0;i<=this._groups.length-1;i+=1){renderFlag=cont<copies;this._groups[i]._render=renderFlag;this.changeGroupRender(this._groups[i].it,renderFlag);if(!renderFlag){var elems=this.elemsData[i].it;var transformData=elems[elems.length-1];if(transformData.transform.op.v!==0){transformData.transform.op._mdf=true;transformData.transform.op.v=0;}else{transformData.transform.op._mdf=false;}}cont+=1;}this._currentCopies=copies;/// /\nvar offset=this.o.v;var offsetModulo=offset%1;var roundOffset=offset>0?Math.floor(offset):Math.ceil(offset);var pProps=this.pMatrix.props;var rProps=this.rMatrix.props;var sProps=this.sMatrix.props;this.pMatrix.reset();this.rMatrix.reset();this.sMatrix.reset();this.tMatrix.reset();this.matrix.reset();var iteration=0;if(offset>0){while(iteration<roundOffset){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,false);iteration+=1;}if(offsetModulo){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,offsetModulo,false);iteration+=offsetModulo;}}else if(offset<0){while(iteration>roundOffset){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,true);iteration-=1;}if(offsetModulo){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-offsetModulo,true);iteration-=offsetModulo;}}i=this.data.m===1?0:this._currentCopies-1;dir=this.data.m===1?1:-1;cont=this._currentCopies;var j;var jLen;while(cont){items=this.elemsData[i].it;itemsTransform=items[items.length-1].transform.mProps.v.props;jLen=itemsTransform.length;items[items.length-1].transform.mProps._mdf=true;items[items.length-1].transform.op._mdf=true;items[items.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1));if(iteration!==0){if(i!==0&&dir===1||i!==this._currentCopies-1&&dir===-1){this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,false);}this.matrix.transform(rProps[0],rProps[1],rProps[2],rProps[3],rProps[4],rProps[5],rProps[6],rProps[7],rProps[8],rProps[9],rProps[10],rProps[11],rProps[12],rProps[13],rProps[14],rProps[15]);this.matrix.transform(sProps[0],sProps[1],sProps[2],sProps[3],sProps[4],sProps[5],sProps[6],sProps[7],sProps[8],sProps[9],sProps[10],sProps[11],sProps[12],sProps[13],sProps[14],sProps[15]);this.matrix.transform(pProps[0],pProps[1],pProps[2],pProps[3],pProps[4],pProps[5],pProps[6],pProps[7],pProps[8],pProps[9],pProps[10],pProps[11],pProps[12],pProps[13],pProps[14],pProps[15]);for(j=0;j<jLen;j+=1){itemsTransform[j]=this.matrix.props[j];}this.matrix.reset();}else{this.matrix.reset();for(j=0;j<jLen;j+=1){itemsTransform[j]=this.matrix.props[j];}}iteration+=1;cont-=1;i+=dir;}}else{cont=this._currentCopies;i=0;dir=1;while(cont){items=this.elemsData[i].it;itemsTransform=items[items.length-1].transform.mProps.v.props;items[items.length-1].transform.mProps._mdf=false;items[items.length-1].transform.op._mdf=false;cont-=1;i+=dir;}}return hasReloaded;};RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier);RoundCornersModifier.prototype.initModifierProperties=function(elem,data){this.getValue=this.processKeys;this.rd=PropertyFactory.getProp(elem,data.r,0,null,this);this._isAnimated=!!this.rd.effectsSequence.length;};RoundCornersModifier.prototype.processPath=function(path,round){var clonedPath=shapePool.newElement();clonedPath.c=path.c;var i;var len=path._length;var currentV;var currentI;var currentO;var closerV;var distance;var newPosPerc;var index=0;var vX;var vY;var oX;var oY;var iX;var iY;for(i=0;i<len;i+=1){currentV=path.v[i];currentO=path.o[i];currentI=path.i[i];if(currentV[0]===currentO[0]&&currentV[1]===currentO[1]&&currentV[0]===currentI[0]&&currentV[1]===currentI[1]){if((i===0||i===len-1)&&!path.c){clonedPath.setTripleAt(currentV[0],currentV[1],currentO[0],currentO[1],currentI[0],currentI[1],index);/* clonedPath.v[index] = currentV;\n                  clonedPath.o[index] = currentO;\n                  clonedPath.i[index] = currentI; */index+=1;}else{if(i===0){closerV=path.v[len-1];}else{closerV=path.v[i-1];}distance=Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));newPosPerc=distance?Math.min(distance/2,round)/distance:0;iX=currentV[0]+(closerV[0]-currentV[0])*newPosPerc;vX=iX;iY=currentV[1]-(currentV[1]-closerV[1])*newPosPerc;vY=iY;oX=vX-(vX-currentV[0])*roundCorner;oY=vY-(vY-currentV[1])*roundCorner;clonedPath.setTripleAt(vX,vY,oX,oY,iX,iY,index);index+=1;if(i===len-1){closerV=path.v[0];}else{closerV=path.v[i+1];}distance=Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));newPosPerc=distance?Math.min(distance/2,round)/distance:0;oX=currentV[0]+(closerV[0]-currentV[0])*newPosPerc;vX=oX;oY=currentV[1]+(closerV[1]-currentV[1])*newPosPerc;vY=oY;iX=vX-(vX-currentV[0])*roundCorner;iY=vY-(vY-currentV[1])*roundCorner;clonedPath.setTripleAt(vX,vY,oX,oY,iX,iY,index);index+=1;}}else{clonedPath.setTripleAt(path.v[i][0],path.v[i][1],path.o[i][0],path.o[i][1],path.i[i][0],path.i[i][1],index);index+=1;}}return clonedPath;};RoundCornersModifier.prototype.processShapes=function(_isFirstFrame){var shapePaths;var i;var len=this.shapes.length;var j;var jLen;var rd=this.rd.v;if(rd!==0){var shapeData;var localShapeCollection;for(i=0;i<len;i+=1){shapeData=this.shapes[i];localShapeCollection=shapeData.localShapeCollection;if(!(!shapeData.shape._mdf&&!this._mdf&&!_isFirstFrame)){localShapeCollection.releaseShapes();shapeData.shape._mdf=true;shapePaths=shapeData.shape.paths.shapes;jLen=shapeData.shape.paths._length;for(j=0;j<jLen;j+=1){localShapeCollection.addShape(this.processPath(shapePaths[j],rd));}}shapeData.shape.paths=shapeData.localShapeCollection;}}if(!this.dynamicProperties.length){this._mdf=false;}};function getFontProperties(fontData){var styles=fontData.fStyle?fontData.fStyle.split(' '):[];var fWeight='normal';var fStyle='normal';var len=styles.length;var styleName;for(var i=0;i<len;i+=1){styleName=styles[i].toLowerCase();switch(styleName){case'italic':fStyle='italic';break;case'bold':fWeight='700';break;case'black':fWeight='900';break;case'medium':fWeight='500';break;case'regular':case'normal':fWeight='400';break;case'light':case'thin':fWeight='200';break;default:break;}}return{style:fStyle,weight:fontData.fWeight||fWeight};}var FontManager=function(){var maxWaitingTime=5000;var emptyChar={w:0,size:0,shapes:[],data:{shapes:[]}};var combinedCharacters=[];// Hindi characters\ncombinedCharacters=combinedCharacters.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var surrogateModifiers=['d83cdffb','d83cdffc','d83cdffd','d83cdffe','d83cdfff'];var zeroWidthJoiner=[65039,8205];function trimFontOptions(font){var familyArray=font.split(',');var i;var len=familyArray.length;var enabledFamilies=[];for(i=0;i<len;i+=1){if(familyArray[i]!=='sans-serif'&&familyArray[i]!=='monospace'){enabledFamilies.push(familyArray[i]);}}return enabledFamilies.join(',');}function setUpNode(font,family){var parentNode=createTag('span');// Node is invisible to screen readers.\nparentNode.setAttribute('aria-hidden',true);parentNode.style.fontFamily=family;var node=createTag('span');// Characters that vary significantly among different fonts\nnode.innerText='giItT1WQy@!-/#';// Visible - so we can measure it - but not on the screen\nparentNode.style.position='absolute';parentNode.style.left='-10000px';parentNode.style.top='-10000px';// Large font size makes even subtle changes obvious\nparentNode.style.fontSize='300px';// Reset any font properties\nparentNode.style.fontVariant='normal';parentNode.style.fontStyle='normal';parentNode.style.fontWeight='normal';parentNode.style.letterSpacing='0';parentNode.appendChild(node);document.body.appendChild(parentNode);// Remember width with no applied web font\nvar width=node.offsetWidth;node.style.fontFamily=trimFontOptions(font)+', '+family;return{node:node,w:width,parent:parentNode};}function checkLoadedFonts(){var i;var len=this.fonts.length;var node;var w;var loadedCount=len;for(i=0;i<len;i+=1){if(this.fonts[i].loaded){loadedCount-=1;}else if(this.fonts[i].fOrigin==='n'||this.fonts[i].origin===0){this.fonts[i].loaded=true;}else{node=this.fonts[i].monoCase.node;w=this.fonts[i].monoCase.w;if(node.offsetWidth!==w){loadedCount-=1;this.fonts[i].loaded=true;}else{node=this.fonts[i].sansCase.node;w=this.fonts[i].sansCase.w;if(node.offsetWidth!==w){loadedCount-=1;this.fonts[i].loaded=true;}}if(this.fonts[i].loaded){this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);}}}if(loadedCount!==0&&Date.now()-this.initTime<maxWaitingTime){setTimeout(this.checkLoadedFontsBinded,20);}else{setTimeout(this.setIsLoadedBinded,10);}}function createHelper(def,fontData){var tHelper=createNS('text');tHelper.style.fontSize='100px';// tHelper.style.fontFamily = fontData.fFamily;\nvar fontProps=getFontProperties(fontData);tHelper.setAttribute('font-family',fontData.fFamily);tHelper.setAttribute('font-style',fontProps.style);tHelper.setAttribute('font-weight',fontProps.weight);tHelper.textContent='1';if(fontData.fClass){tHelper.style.fontFamily='inherit';tHelper.setAttribute('class',fontData.fClass);}else{tHelper.style.fontFamily=fontData.fFamily;}def.appendChild(tHelper);var tCanvasHelper=createTag('canvas').getContext('2d');tCanvasHelper.font=fontData.fWeight+' '+fontData.fStyle+' 100px '+fontData.fFamily;// tCanvasHelper.font = ' 100px '+ fontData.fFamily;\nreturn tHelper;}function addFonts(fontData,defs){if(!fontData){this.isLoaded=true;return;}if(this.chars){this.isLoaded=true;this.fonts=fontData.list;return;}var fontArr=fontData.list;var i;var len=fontArr.length;var _pendingFonts=len;for(i=0;i<len;i+=1){var shouldLoadFont=true;var loadedSelector;var j;fontArr[i].loaded=false;fontArr[i].monoCase=setUpNode(fontArr[i].fFamily,'monospace');fontArr[i].sansCase=setUpNode(fontArr[i].fFamily,'sans-serif');if(!fontArr[i].fPath){fontArr[i].loaded=true;_pendingFonts-=1;}else if(fontArr[i].fOrigin==='p'||fontArr[i].origin===3){loadedSelector=document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"'+fontArr[i].fFamily+'\"], style[f-origin=\"3\"][f-family=\"'+fontArr[i].fFamily+'\"]');if(loadedSelector.length>0){shouldLoadFont=false;}if(shouldLoadFont){var s=createTag('style');s.setAttribute('f-forigin',fontArr[i].fOrigin);s.setAttribute('f-origin',fontArr[i].origin);s.setAttribute('f-family',fontArr[i].fFamily);s.type='text/css';s.innerText='@font-face {font-family: '+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";defs.appendChild(s);}}else if(fontArr[i].fOrigin==='g'||fontArr[i].origin===1){loadedSelector=document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');for(j=0;j<loadedSelector.length;j+=1){if(loadedSelector[j].href.indexOf(fontArr[i].fPath)!==-1){// Font is already loaded\nshouldLoadFont=false;}}if(shouldLoadFont){var l=createTag('link');l.setAttribute('f-forigin',fontArr[i].fOrigin);l.setAttribute('f-origin',fontArr[i].origin);l.type='text/css';l.rel='stylesheet';l.href=fontArr[i].fPath;document.body.appendChild(l);}}else if(fontArr[i].fOrigin==='t'||fontArr[i].origin===2){loadedSelector=document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');for(j=0;j<loadedSelector.length;j+=1){if(fontArr[i].fPath===loadedSelector[j].src){// Font is already loaded\nshouldLoadFont=false;}}if(shouldLoadFont){var sc=createTag('link');sc.setAttribute('f-forigin',fontArr[i].fOrigin);sc.setAttribute('f-origin',fontArr[i].origin);sc.setAttribute('rel','stylesheet');sc.setAttribute('href',fontArr[i].fPath);defs.appendChild(sc);}}fontArr[i].helper=createHelper(defs,fontArr[i]);fontArr[i].cache={};this.fonts.push(fontArr[i]);}if(_pendingFonts===0){this.isLoaded=true;}else{// On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n// Adding this timeout seems to fix it\nsetTimeout(this.checkLoadedFonts.bind(this),100);}}function addChars(chars){if(!chars){return;}if(!this.chars){this.chars=[];}var i;var len=chars.length;var j;var jLen=this.chars.length;var found;for(i=0;i<len;i+=1){j=0;found=false;while(j<jLen){if(this.chars[j].style===chars[i].style&&this.chars[j].fFamily===chars[i].fFamily&&this.chars[j].ch===chars[i].ch){found=true;}j+=1;}if(!found){this.chars.push(chars[i]);jLen+=1;}}}function getCharData(_char,style,font){var i=0;var len=this.chars.length;while(i<len){if(this.chars[i].ch===_char&&this.chars[i].style===style&&this.chars[i].fFamily===font){return this.chars[i];}i+=1;}if((typeof _char==='string'&&_char.charCodeAt(0)!==13||!_char)&&console&&console.warn// eslint-disable-line no-console\n&&!this._warned){this._warned=true;console.warn('Missing character from exported characters list: ',_char,style,font);// eslint-disable-line no-console\n}return emptyChar;}function measureText(_char2,fontName,size){var fontData=this.getFontByName(fontName);var index=_char2.charCodeAt(0);if(!fontData.cache[index+1]){var tHelper=fontData.helper;// Canvas version\n// fontData.cache[index] = tHelper.measureText(char).width / 100;\n// SVG version\n// console.log(tHelper.getBBox().width)\nif(_char2===' '){tHelper.textContent='|'+_char2+'|';var doubleSize=tHelper.getComputedTextLength();tHelper.textContent='||';var singleSize=tHelper.getComputedTextLength();fontData.cache[index+1]=(doubleSize-singleSize)/100;}else{tHelper.textContent=_char2;fontData.cache[index+1]=tHelper.getComputedTextLength()/100;}}return fontData.cache[index+1]*size;}function getFontByName(name){var i=0;var len=this.fonts.length;while(i<len){if(this.fonts[i].fName===name){return this.fonts[i];}i+=1;}return this.fonts[0];}function isModifier(firstCharCode,secondCharCode){var sum=firstCharCode.toString(16)+secondCharCode.toString(16);return surrogateModifiers.indexOf(sum)!==-1;}function isZeroWidthJoiner(firstCharCode,secondCharCode){if(!secondCharCode){return firstCharCode===zeroWidthJoiner[1];}return firstCharCode===zeroWidthJoiner[0]&&secondCharCode===zeroWidthJoiner[1];}function isCombinedCharacter(_char3){return combinedCharacters.indexOf(_char3)!==-1;}function setIsLoaded(){this.isLoaded=true;}var Font=function Font(){this.fonts=[];this.chars=null;this.typekitLoaded=0;this.isLoaded=false;this._warned=false;this.initTime=Date.now();this.setIsLoadedBinded=this.setIsLoaded.bind(this);this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this);};Font.isModifier=isModifier;Font.isZeroWidthJoiner=isZeroWidthJoiner;Font.isCombinedCharacter=isCombinedCharacter;var fontPrototype={addChars:addChars,addFonts:addFonts,getCharData:getCharData,getFontByName:getFontByName,measureText:measureText,checkLoadedFonts:checkLoadedFonts,setIsLoaded:setIsLoaded};Font.prototype=fontPrototype;return Font;}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function initRenderable(){// layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\nthis.isInRange=false;// layer's display state\nthis.hidden=false;// If layer's transparency equals 0, it can be hidden\nthis.isTransparent=false;// list of animated components\nthis.renderableComponents=[];},addRenderableComponent:function addRenderableComponent(component){if(this.renderableComponents.indexOf(component)===-1){this.renderableComponents.push(component);}},removeRenderableComponent:function removeRenderableComponent(component){if(this.renderableComponents.indexOf(component)!==-1){this.renderableComponents.splice(this.renderableComponents.indexOf(component),1);}},prepareRenderableFrame:function prepareRenderableFrame(num){this.checkLayerLimits(num);},checkTransparency:function checkTransparency(){if(this.finalTransform.mProp.o.v<=0){if(!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent){this.isTransparent=true;this.hide();}}else if(this.isTransparent){this.isTransparent=false;this.show();}},/**\n       * @function\n       * Initializes frame related properties.\n       *\n       * @param {number} num\n       * current frame number in Layer's time\n       *\n       */checkLayerLimits:function checkLayerLimits(num){if(this.data.ip-this.data.st<=num&&this.data.op-this.data.st>num){if(this.isInRange!==true){this.globalData._mdf=true;this._mdf=true;this.isInRange=true;this.show();}}else if(this.isInRange!==false){this.globalData._mdf=true;this.isInRange=false;this.hide();}},renderRenderable:function renderRenderable(){var i;var len=this.renderableComponents.length;for(i=0;i<len;i+=1){this.renderableComponents[i].renderFrame(this._isFirstFrame);}/* this.maskManager.renderFrame(this.finalTransform.mat);\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */},sourceRectAtTime:function sourceRectAtTime(){return{top:0,left:0,width:100,height:100};},getLayerSize:function getLayerSize(){if(this.data.ty===5){return{w:this.data.textData.width,h:this.data.textData.height};}return{w:this.data.width,h:this.data.height};}};var MaskManagerInterface=function(){function MaskInterface(mask,data){this._mask=mask;this._data=data;}Object.defineProperty(MaskInterface.prototype,'maskPath',{get:function get(){if(this._mask.prop.k){this._mask.prop.getValue();}return this._mask.prop;}});Object.defineProperty(MaskInterface.prototype,'maskOpacity',{get:function get(){if(this._mask.op.k){this._mask.op.getValue();}return this._mask.op.v*100;}});var MaskManager=function MaskManager(maskManager){var _masksInterfaces=createSizedArray(maskManager.viewData.length);var i;var len=maskManager.viewData.length;for(i=0;i<len;i+=1){_masksInterfaces[i]=new MaskInterface(maskManager.viewData[i],maskManager.masksProperties[i]);}var maskFunction=function maskFunction(name){i=0;while(i<len){if(maskManager.masksProperties[i].nm===name){return _masksInterfaces[i];}i+=1;}return null;};return maskFunction;};return MaskManager;}();var ExpressionPropertyInterface=function(){var defaultUnidimensionalValue={pv:0,v:0,mult:1};var defaultMultidimensionalValue={pv:[0,0,0],v:[0,0,0],mult:1};function completeProperty(expressionValue,property,type){Object.defineProperty(expressionValue,'velocity',{get:function get(){return property.getVelocityAtTime(property.comp.currentFrame);}});expressionValue.numKeys=property.keyframes?property.keyframes.length:0;expressionValue.key=function(pos){if(!expressionValue.numKeys){return 0;}var value='';if('s'in property.keyframes[pos-1]){value=property.keyframes[pos-1].s;}else if('e'in property.keyframes[pos-2]){value=property.keyframes[pos-2].e;}else{value=property.keyframes[pos-2].s;}var valueProp=type==='unidimensional'?new Number(value):Object.assign({},value);// eslint-disable-line no-new-wrappers\nvalueProp.time=property.keyframes[pos-1].t/property.elem.comp.globalData.frameRate;valueProp.value=type==='unidimensional'?value[0]:value;return valueProp;};expressionValue.valueAtTime=property.getValueAtTime;expressionValue.speedAtTime=property.getSpeedAtTime;expressionValue.velocityAtTime=property.getVelocityAtTime;expressionValue.propertyGroup=property.propertyGroup;}function UnidimensionalPropertyInterface(property){if(!property||!('pv'in property)){property=defaultUnidimensionalValue;}var mult=1/property.mult;var val=property.pv*mult;var expressionValue=new Number(val);// eslint-disable-line no-new-wrappers\nexpressionValue.value=val;completeProperty(expressionValue,property,'unidimensional');return function(){if(property.k){property.getValue();}val=property.v*mult;if(expressionValue.value!==val){expressionValue=new Number(val);// eslint-disable-line no-new-wrappers\nexpressionValue.value=val;completeProperty(expressionValue,property,'unidimensional');}return expressionValue;};}function MultidimensionalPropertyInterface(property){if(!property||!('pv'in property)){property=defaultMultidimensionalValue;}var mult=1/property.mult;var len=property.data&&property.data.l||property.pv.length;var expressionValue=createTypedArray('float32',len);var arrValue=createTypedArray('float32',len);expressionValue.value=arrValue;completeProperty(expressionValue,property,'multidimensional');return function(){if(property.k){property.getValue();}for(var i=0;i<len;i+=1){arrValue[i]=property.v[i]*mult;expressionValue[i]=arrValue[i];}return expressionValue;};}// TODO: try to avoid using this getter\nfunction defaultGetter(){return defaultUnidimensionalValue;}return function(property){if(!property){return defaultGetter;}if(property.propType==='unidimensional'){return UnidimensionalPropertyInterface(property);}return MultidimensionalPropertyInterface(property);};}();var TransformExpressionInterface=function(){return function(transform){function _thisFunction(name){switch(name){case'scale':case'Scale':case'ADBE Scale':case 6:return _thisFunction.scale;case'rotation':case'Rotation':case'ADBE Rotation':case'ADBE Rotate Z':case 10:return _thisFunction.rotation;case'ADBE Rotate X':return _thisFunction.xRotation;case'ADBE Rotate Y':return _thisFunction.yRotation;case'position':case'Position':case'ADBE Position':case 2:return _thisFunction.position;case'ADBE Position_0':return _thisFunction.xPosition;case'ADBE Position_1':return _thisFunction.yPosition;case'ADBE Position_2':return _thisFunction.zPosition;case'anchorPoint':case'AnchorPoint':case'Anchor Point':case'ADBE AnchorPoint':case 1:return _thisFunction.anchorPoint;case'opacity':case'Opacity':case 11:return _thisFunction.opacity;default:return null;}}Object.defineProperty(_thisFunction,'rotation',{get:ExpressionPropertyInterface(transform.r||transform.rz)});Object.defineProperty(_thisFunction,'zRotation',{get:ExpressionPropertyInterface(transform.rz||transform.r)});Object.defineProperty(_thisFunction,'xRotation',{get:ExpressionPropertyInterface(transform.rx)});Object.defineProperty(_thisFunction,'yRotation',{get:ExpressionPropertyInterface(transform.ry)});Object.defineProperty(_thisFunction,'scale',{get:ExpressionPropertyInterface(transform.s)});var _px;var _py;var _pz;var _transformFactory;if(transform.p){_transformFactory=ExpressionPropertyInterface(transform.p);}else{_px=ExpressionPropertyInterface(transform.px);_py=ExpressionPropertyInterface(transform.py);if(transform.pz){_pz=ExpressionPropertyInterface(transform.pz);}}Object.defineProperty(_thisFunction,'position',{get:function get(){if(transform.p){return _transformFactory();}return[_px(),_py(),_pz?_pz():0];}});Object.defineProperty(_thisFunction,'xPosition',{get:ExpressionPropertyInterface(transform.px)});Object.defineProperty(_thisFunction,'yPosition',{get:ExpressionPropertyInterface(transform.py)});Object.defineProperty(_thisFunction,'zPosition',{get:ExpressionPropertyInterface(transform.pz)});Object.defineProperty(_thisFunction,'anchorPoint',{get:ExpressionPropertyInterface(transform.a)});Object.defineProperty(_thisFunction,'opacity',{get:ExpressionPropertyInterface(transform.o)});Object.defineProperty(_thisFunction,'skew',{get:ExpressionPropertyInterface(transform.sk)});Object.defineProperty(_thisFunction,'skewAxis',{get:ExpressionPropertyInterface(transform.sa)});Object.defineProperty(_thisFunction,'orientation',{get:ExpressionPropertyInterface(transform.or)});return _thisFunction;};}();var LayerExpressionInterface=function(){function getMatrix(time){var toWorldMat=new Matrix();if(time!==undefined){var propMatrix=this._elem.finalTransform.mProp.getValueAtTime(time);propMatrix.clone(toWorldMat);}else{var transformMat=this._elem.finalTransform.mProp;transformMat.applyToMatrix(toWorldMat);}return toWorldMat;}function toWorldVec(arr,time){var toWorldMat=this.getMatrix(time);toWorldMat.props[12]=0;toWorldMat.props[13]=0;toWorldMat.props[14]=0;return this.applyPoint(toWorldMat,arr);}function toWorld(arr,time){var toWorldMat=this.getMatrix(time);return this.applyPoint(toWorldMat,arr);}function fromWorldVec(arr,time){var toWorldMat=this.getMatrix(time);toWorldMat.props[12]=0;toWorldMat.props[13]=0;toWorldMat.props[14]=0;return this.invertPoint(toWorldMat,arr);}function fromWorld(arr,time){var toWorldMat=this.getMatrix(time);return this.invertPoint(toWorldMat,arr);}function applyPoint(matrix,arr){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i;var len=this._elem.hierarchy.length;for(i=0;i<len;i+=1){this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);}}return matrix.applyToPointArray(arr[0],arr[1],arr[2]||0);}function invertPoint(matrix,arr){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i;var len=this._elem.hierarchy.length;for(i=0;i<len;i+=1){this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);}}return matrix.inversePoint(arr);}function fromComp(arr){var toWorldMat=new Matrix();toWorldMat.reset();this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);if(this._elem.hierarchy&&this._elem.hierarchy.length){var i;var len=this._elem.hierarchy.length;for(i=0;i<len;i+=1){this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);}return toWorldMat.inversePoint(arr);}return toWorldMat.inversePoint(arr);}function sampleImage(){return[1,1,1,1];}return function(elem){var transformInterface;function _registerMaskInterface(maskManager){_thisLayerFunction.mask=new MaskManagerInterface(maskManager,elem);}function _registerEffectsInterface(effects){_thisLayerFunction.effect=effects;}function _thisLayerFunction(name){switch(name){case'ADBE Root Vectors Group':case'Contents':case 2:return _thisLayerFunction.shapeInterface;case 1:case 6:case'Transform':case'transform':case'ADBE Transform Group':return transformInterface;case 4:case'ADBE Effect Parade':case'effects':case'Effects':return _thisLayerFunction.effect;case'ADBE Text Properties':return _thisLayerFunction.textInterface;default:return null;}}_thisLayerFunction.getMatrix=getMatrix;_thisLayerFunction.invertPoint=invertPoint;_thisLayerFunction.applyPoint=applyPoint;_thisLayerFunction.toWorld=toWorld;_thisLayerFunction.toWorldVec=toWorldVec;_thisLayerFunction.fromWorld=fromWorld;_thisLayerFunction.fromWorldVec=fromWorldVec;_thisLayerFunction.toComp=toWorld;_thisLayerFunction.fromComp=fromComp;_thisLayerFunction.sampleImage=sampleImage;_thisLayerFunction.sourceRectAtTime=elem.sourceRectAtTime.bind(elem);_thisLayerFunction._elem=elem;transformInterface=TransformExpressionInterface(elem.finalTransform.mProp);var anchorPointDescriptor=getDescriptor(transformInterface,'anchorPoint');Object.defineProperties(_thisLayerFunction,{hasParent:{get:function get(){return elem.hierarchy.length;}},parent:{get:function get(){return elem.hierarchy[0].layerInterface;}},rotation:getDescriptor(transformInterface,'rotation'),scale:getDescriptor(transformInterface,'scale'),position:getDescriptor(transformInterface,'position'),opacity:getDescriptor(transformInterface,'opacity'),anchorPoint:anchorPointDescriptor,anchor_point:anchorPointDescriptor,transform:{get:function get(){return transformInterface;}},active:{get:function get(){return elem.isInRange;}}});_thisLayerFunction.startTime=elem.data.st;_thisLayerFunction.index=elem.data.ind;_thisLayerFunction.source=elem.data.refId;_thisLayerFunction.height=elem.data.ty===0?elem.data.h:100;_thisLayerFunction.width=elem.data.ty===0?elem.data.w:100;_thisLayerFunction.inPoint=elem.data.ip/elem.comp.globalData.frameRate;_thisLayerFunction.outPoint=elem.data.op/elem.comp.globalData.frameRate;_thisLayerFunction._name=elem.data.nm;_thisLayerFunction.registerMaskInterface=_registerMaskInterface;_thisLayerFunction.registerEffectsInterface=_registerEffectsInterface;return _thisLayerFunction;};}();var propertyGroupFactory=function(){return function(interfaceFunction,parentPropertyGroup){return function(val){val=val===undefined?1:val;if(val<=0){return interfaceFunction;}return parentPropertyGroup(val-1);};};}();var PropertyInterface=function(){return function(propertyName,propertyGroup){var interfaceFunction={_name:propertyName};function _propertyGroup(val){val=val===undefined?1:val;if(val<=0){return interfaceFunction;}return propertyGroup(val-1);}return _propertyGroup;};}();var EffectsExpressionInterface=function(){var ob={createEffectsInterface:createEffectsInterface};function createEffectsInterface(elem,propertyGroup){if(elem.effectsManager){var effectElements=[];var effectsData=elem.data.ef;var i;var len=elem.effectsManager.effectElements.length;for(i=0;i<len;i+=1){effectElements.push(createGroupInterface(effectsData[i],elem.effectsManager.effectElements[i],propertyGroup,elem));}var effects=elem.data.ef||[];var groupInterface=function groupInterface(name){i=0;len=effects.length;while(i<len){if(name===effects[i].nm||name===effects[i].mn||name===effects[i].ix){return effectElements[i];}i+=1;}return null;};Object.defineProperty(groupInterface,'numProperties',{get:function get(){return effects.length;}});return groupInterface;}return null;}function createGroupInterface(data,elements,propertyGroup,elem){function groupInterface(name){var effects=data.ef;var i=0;var len=effects.length;while(i<len){if(name===effects[i].nm||name===effects[i].mn||name===effects[i].ix){if(effects[i].ty===5){return effectElements[i];}return effectElements[i]();}i+=1;}throw new Error();}var _propertyGroup=propertyGroupFactory(groupInterface,propertyGroup);var effectElements=[];var i;var len=data.ef.length;for(i=0;i<len;i+=1){if(data.ef[i].ty===5){effectElements.push(createGroupInterface(data.ef[i],elements.effectElements[i],elements.effectElements[i].propertyGroup,elem));}else{effectElements.push(createValueInterface(elements.effectElements[i],data.ef[i].ty,elem,_propertyGroup));}}if(data.mn==='ADBE Color Control'){Object.defineProperty(groupInterface,'color',{get:function get(){return effectElements[0]();}});}Object.defineProperties(groupInterface,{numProperties:{get:function get(){return data.np;}},_name:{value:data.nm},propertyGroup:{value:_propertyGroup}});groupInterface.enabled=data.en!==0;groupInterface.active=groupInterface.enabled;return groupInterface;}function createValueInterface(element,type,elem,propertyGroup){var expressionProperty=ExpressionPropertyInterface(element.p);function interfaceFunction(){if(type===10){return elem.comp.compInterface(element.p.v);}return expressionProperty();}if(element.p.setGroupProperty){element.p.setGroupProperty(PropertyInterface('',propertyGroup));}return interfaceFunction;}return ob;}();var CompExpressionInterface=function(){return function(comp){function _thisLayerFunction(name){var i=0;var len=comp.layers.length;while(i<len){if(comp.layers[i].nm===name||comp.layers[i].ind===name){return comp.elements[i].layerInterface;}i+=1;}return null;// return {active:false};\n}Object.defineProperty(_thisLayerFunction,'_name',{value:comp.data.nm});_thisLayerFunction.layer=_thisLayerFunction;_thisLayerFunction.pixelAspect=1;_thisLayerFunction.height=comp.data.h||comp.globalData.compSize.h;_thisLayerFunction.width=comp.data.w||comp.globalData.compSize.w;_thisLayerFunction.pixelAspect=1;_thisLayerFunction.frameDuration=1/comp.globalData.frameRate;_thisLayerFunction.displayStartTime=0;_thisLayerFunction.numLayers=comp.layers.length;return _thisLayerFunction;};}();var ShapePathInterface=function(){return function pathInterfaceFactory(shape,view,propertyGroup){var prop=view.sh;function interfaceFunction(val){if(val==='Shape'||val==='shape'||val==='Path'||val==='path'||val==='ADBE Vector Shape'||val===2){return interfaceFunction.path;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);prop.setGroupProperty(PropertyInterface('Path',_propertyGroup));Object.defineProperties(interfaceFunction,{path:{get:function get(){if(prop.k){prop.getValue();}return prop;}},shape:{get:function get(){if(prop.k){prop.getValue();}return prop;}},_name:{value:shape.nm},ix:{value:shape.ix},propertyIndex:{value:shape.ix},mn:{value:shape.mn},propertyGroup:{value:propertyGroup}});return interfaceFunction;};}();var ShapeExpressionInterface=function(){function iterateElements(shapes,view,propertyGroup){var arr=[];var i;var len=shapes?shapes.length:0;for(i=0;i<len;i+=1){if(shapes[i].ty==='gr'){arr.push(groupInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='fl'){arr.push(fillInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='st'){arr.push(strokeInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='tm'){arr.push(trimInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='tr'){// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n}else if(shapes[i].ty==='el'){arr.push(ellipseInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='sr'){arr.push(starInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='sh'){arr.push(ShapePathInterface(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='rc'){arr.push(rectInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='rd'){arr.push(roundedInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='rp'){arr.push(repeaterInterfaceFactory(shapes[i],view[i],propertyGroup));}else if(shapes[i].ty==='gf'){arr.push(gradientFillInterfaceFactory(shapes[i],view[i],propertyGroup));}else{arr.push(defaultInterfaceFactory(shapes[i],view[i],propertyGroup));}}return arr;}function contentsInterfaceFactory(shape,view,propertyGroup){var interfaces;var interfaceFunction=function _interfaceFunction(value){var i=0;var len=interfaces.length;while(i<len){if(interfaces[i]._name===value||interfaces[i].mn===value||interfaces[i].propertyIndex===value||interfaces[i].ix===value||interfaces[i].ind===value){return interfaces[i];}i+=1;}if(typeof value==='number'){return interfaces[value-1];}return null;};interfaceFunction.propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);interfaces=iterateElements(shape.it,view.it,interfaceFunction.propertyGroup);interfaceFunction.numProperties=interfaces.length;var transformInterface=transformInterfaceFactory(shape.it[shape.it.length-1],view.it[view.it.length-1],interfaceFunction.propertyGroup);interfaceFunction.transform=transformInterface;interfaceFunction.propertyIndex=shape.cix;interfaceFunction._name=shape.nm;return interfaceFunction;}function groupInterfaceFactory(shape,view,propertyGroup){var interfaceFunction=function _interfaceFunction(value){switch(value){case'ADBE Vectors Group':case'Contents':case 2:return interfaceFunction.content;// Not necessary for now. Keeping them here in case a new case appears\n// case 'ADBE Vector Transform Group':\n// case 3:\ndefault:return interfaceFunction.transform;}};interfaceFunction.propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var content=contentsInterfaceFactory(shape,view,interfaceFunction.propertyGroup);var transformInterface=transformInterfaceFactory(shape.it[shape.it.length-1],view.it[view.it.length-1],interfaceFunction.propertyGroup);interfaceFunction.content=content;interfaceFunction.transform=transformInterface;Object.defineProperty(interfaceFunction,'_name',{get:function get(){return shape.nm;}});// interfaceFunction.content = interfaceFunction;\ninterfaceFunction.numProperties=shape.np;interfaceFunction.propertyIndex=shape.ix;interfaceFunction.nm=shape.nm;interfaceFunction.mn=shape.mn;return interfaceFunction;}function fillInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(val){if(val==='Color'||val==='color'){return interfaceFunction.color;}if(val==='Opacity'||val==='opacity'){return interfaceFunction.opacity;}return null;}Object.defineProperties(interfaceFunction,{color:{get:ExpressionPropertyInterface(view.c)},opacity:{get:ExpressionPropertyInterface(view.o)},_name:{value:shape.nm},mn:{value:shape.mn}});view.c.setGroupProperty(PropertyInterface('Color',propertyGroup));view.o.setGroupProperty(PropertyInterface('Opacity',propertyGroup));return interfaceFunction;}function gradientFillInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(val){if(val==='Start Point'||val==='start point'){return interfaceFunction.startPoint;}if(val==='End Point'||val==='end point'){return interfaceFunction.endPoint;}if(val==='Opacity'||val==='opacity'){return interfaceFunction.opacity;}return null;}Object.defineProperties(interfaceFunction,{startPoint:{get:ExpressionPropertyInterface(view.s)},endPoint:{get:ExpressionPropertyInterface(view.e)},opacity:{get:ExpressionPropertyInterface(view.o)},type:{get:function get(){return'a';}},_name:{value:shape.nm},mn:{value:shape.mn}});view.s.setGroupProperty(PropertyInterface('Start Point',propertyGroup));view.e.setGroupProperty(PropertyInterface('End Point',propertyGroup));view.o.setGroupProperty(PropertyInterface('Opacity',propertyGroup));return interfaceFunction;}function defaultInterfaceFactory(){function interfaceFunction(){return null;}return interfaceFunction;}function strokeInterfaceFactory(shape,view,propertyGroup){var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var _dashPropertyGroup=propertyGroupFactory(dashOb,_propertyGroup);function addPropertyToDashOb(i){Object.defineProperty(dashOb,shape.d[i].nm,{get:ExpressionPropertyInterface(view.d.dataProps[i].p)});}var i;var len=shape.d?shape.d.length:0;var dashOb={};for(i=0;i<len;i+=1){addPropertyToDashOb(i);view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);}function interfaceFunction(val){if(val==='Color'||val==='color'){return interfaceFunction.color;}if(val==='Opacity'||val==='opacity'){return interfaceFunction.opacity;}if(val==='Stroke Width'||val==='stroke width'){return interfaceFunction.strokeWidth;}return null;}Object.defineProperties(interfaceFunction,{color:{get:ExpressionPropertyInterface(view.c)},opacity:{get:ExpressionPropertyInterface(view.o)},strokeWidth:{get:ExpressionPropertyInterface(view.w)},dash:{get:function get(){return dashOb;}},_name:{value:shape.nm},mn:{value:shape.mn}});view.c.setGroupProperty(PropertyInterface('Color',_propertyGroup));view.o.setGroupProperty(PropertyInterface('Opacity',_propertyGroup));view.w.setGroupProperty(PropertyInterface('Stroke Width',_propertyGroup));return interfaceFunction;}function trimInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(val){if(val===shape.e.ix||val==='End'||val==='end'){return interfaceFunction.end;}if(val===shape.s.ix){return interfaceFunction.start;}if(val===shape.o.ix){return interfaceFunction.offset;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);interfaceFunction.propertyIndex=shape.ix;view.s.setGroupProperty(PropertyInterface('Start',_propertyGroup));view.e.setGroupProperty(PropertyInterface('End',_propertyGroup));view.o.setGroupProperty(PropertyInterface('Offset',_propertyGroup));interfaceFunction.propertyIndex=shape.ix;interfaceFunction.propertyGroup=propertyGroup;Object.defineProperties(interfaceFunction,{start:{get:ExpressionPropertyInterface(view.s)},end:{get:ExpressionPropertyInterface(view.e)},offset:{get:ExpressionPropertyInterface(view.o)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function transformInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.a.ix===value||value==='Anchor Point'){return interfaceFunction.anchorPoint;}if(shape.o.ix===value||value==='Opacity'){return interfaceFunction.opacity;}if(shape.p.ix===value||value==='Position'){return interfaceFunction.position;}if(shape.r.ix===value||value==='Rotation'||value==='ADBE Vector Rotation'){return interfaceFunction.rotation;}if(shape.s.ix===value||value==='Scale'){return interfaceFunction.scale;}if(shape.sk&&shape.sk.ix===value||value==='Skew'){return interfaceFunction.skew;}if(shape.sa&&shape.sa.ix===value||value==='Skew Axis'){return interfaceFunction.skewAxis;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity',_propertyGroup));view.transform.mProps.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point',_propertyGroup));view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale',_propertyGroup));view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation',_propertyGroup));if(view.transform.mProps.sk){view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew',_propertyGroup));view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle',_propertyGroup));}view.transform.op.setGroupProperty(PropertyInterface('Opacity',_propertyGroup));Object.defineProperties(interfaceFunction,{opacity:{get:ExpressionPropertyInterface(view.transform.mProps.o)},position:{get:ExpressionPropertyInterface(view.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(view.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(view.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(view.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(view.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(view.transform.mProps.sa)},_name:{value:shape.nm}});interfaceFunction.ty='tr';interfaceFunction.mn=shape.mn;interfaceFunction.propertyGroup=propertyGroup;return interfaceFunction;}function ellipseInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.p.ix===value){return interfaceFunction.position;}if(shape.s.ix===value){return interfaceFunction.size;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);interfaceFunction.propertyIndex=shape.ix;var prop=view.sh.ty==='tm'?view.sh.prop:view.sh;prop.s.setGroupProperty(PropertyInterface('Size',_propertyGroup));prop.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));Object.defineProperties(interfaceFunction,{size:{get:ExpressionPropertyInterface(prop.s)},position:{get:ExpressionPropertyInterface(prop.p)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function starInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.p.ix===value){return interfaceFunction.position;}if(shape.r.ix===value){return interfaceFunction.rotation;}if(shape.pt.ix===value){return interfaceFunction.points;}if(shape.or.ix===value||value==='ADBE Vector Star Outer Radius'){return interfaceFunction.outerRadius;}if(shape.os.ix===value){return interfaceFunction.outerRoundness;}if(shape.ir&&(shape.ir.ix===value||value==='ADBE Vector Star Inner Radius')){return interfaceFunction.innerRadius;}if(shape.is&&shape.is.ix===value){return interfaceFunction.innerRoundness;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view.sh.ty==='tm'?view.sh.prop:view.sh;interfaceFunction.propertyIndex=shape.ix;prop.or.setGroupProperty(PropertyInterface('Outer Radius',_propertyGroup));prop.os.setGroupProperty(PropertyInterface('Outer Roundness',_propertyGroup));prop.pt.setGroupProperty(PropertyInterface('Points',_propertyGroup));prop.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));prop.r.setGroupProperty(PropertyInterface('Rotation',_propertyGroup));if(shape.ir){prop.ir.setGroupProperty(PropertyInterface('Inner Radius',_propertyGroup));prop.is.setGroupProperty(PropertyInterface('Inner Roundness',_propertyGroup));}Object.defineProperties(interfaceFunction,{position:{get:ExpressionPropertyInterface(prop.p)},rotation:{get:ExpressionPropertyInterface(prop.r)},points:{get:ExpressionPropertyInterface(prop.pt)},outerRadius:{get:ExpressionPropertyInterface(prop.or)},outerRoundness:{get:ExpressionPropertyInterface(prop.os)},innerRadius:{get:ExpressionPropertyInterface(prop.ir)},innerRoundness:{get:ExpressionPropertyInterface(prop.is)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function rectInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.p.ix===value){return interfaceFunction.position;}if(shape.r.ix===value){return interfaceFunction.roundness;}if(shape.s.ix===value||value==='Size'||value==='ADBE Vector Rect Size'){return interfaceFunction.size;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view.sh.ty==='tm'?view.sh.prop:view.sh;interfaceFunction.propertyIndex=shape.ix;prop.p.setGroupProperty(PropertyInterface('Position',_propertyGroup));prop.s.setGroupProperty(PropertyInterface('Size',_propertyGroup));prop.r.setGroupProperty(PropertyInterface('Rotation',_propertyGroup));Object.defineProperties(interfaceFunction,{position:{get:ExpressionPropertyInterface(prop.p)},roundness:{get:ExpressionPropertyInterface(prop.r)},size:{get:ExpressionPropertyInterface(prop.s)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function roundedInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.r.ix===value||value==='Round Corners 1'){return interfaceFunction.radius;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view;interfaceFunction.propertyIndex=shape.ix;prop.rd.setGroupProperty(PropertyInterface('Radius',_propertyGroup));Object.defineProperties(interfaceFunction,{radius:{get:ExpressionPropertyInterface(prop.rd)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}function repeaterInterfaceFactory(shape,view,propertyGroup){function interfaceFunction(value){if(shape.c.ix===value||value==='Copies'){return interfaceFunction.copies;}if(shape.o.ix===value||value==='Offset'){return interfaceFunction.offset;}return null;}var _propertyGroup=propertyGroupFactory(interfaceFunction,propertyGroup);var prop=view;interfaceFunction.propertyIndex=shape.ix;prop.c.setGroupProperty(PropertyInterface('Copies',_propertyGroup));prop.o.setGroupProperty(PropertyInterface('Offset',_propertyGroup));Object.defineProperties(interfaceFunction,{copies:{get:ExpressionPropertyInterface(prop.c)},offset:{get:ExpressionPropertyInterface(prop.o)},_name:{value:shape.nm}});interfaceFunction.mn=shape.mn;return interfaceFunction;}return function(shapes,view,propertyGroup){var interfaces;function _interfaceFunction(value){if(typeof value==='number'){value=value===undefined?1:value;if(value===0){return propertyGroup;}return interfaces[value-1];}var i=0;var len=interfaces.length;while(i<len){if(interfaces[i]._name===value){return interfaces[i];}i+=1;}return null;}function parentGroupWrapper(){return propertyGroup;}_interfaceFunction.propertyGroup=propertyGroupFactory(_interfaceFunction,parentGroupWrapper);interfaces=iterateElements(shapes,view,_interfaceFunction.propertyGroup);_interfaceFunction.numProperties=interfaces.length;_interfaceFunction._name='Contents';return _interfaceFunction;};}();var TextExpressionInterface=function(){return function(elem){var _prevValue;var _sourceText;function _thisLayerFunction(name){switch(name){case'ADBE Text Document':return _thisLayerFunction.sourceText;default:return null;}}Object.defineProperty(_thisLayerFunction,'sourceText',{get:function get(){elem.textProperty.getValue();var stringValue=elem.textProperty.currentData.t;if(stringValue!==_prevValue){elem.textProperty.currentData.t=_prevValue;_sourceText=new String(stringValue);// eslint-disable-line no-new-wrappers\n// If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n_sourceText.value=stringValue||new String(stringValue);// eslint-disable-line no-new-wrappers\n}return _sourceText;}});return _thisLayerFunction;};}();var getBlendMode=function(){var blendModeEnums={0:'source-over',1:'multiply',2:'screen',3:'overlay',4:'darken',5:'lighten',6:'color-dodge',7:'color-burn',8:'hard-light',9:'soft-light',10:'difference',11:'exclusion',12:'hue',13:'saturation',14:'color',15:'luminosity'};return function(mode){return blendModeEnums[mode]||'';};}();function SliderEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function AngleEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function ColorEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,1,0,container);}function PointEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,1,0,container);}function LayerIndexEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function MaskIndexEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function CheckboxEffect(data,elem,container){this.p=PropertyFactory.getProp(elem,data.v,0,0,container);}function NoValueEffect(){this.p={};}function EffectsManager(data,element){var effects=data.ef||[];this.effectElements=[];var i;var len=effects.length;var effectItem;for(i=0;i<len;i+=1){effectItem=new GroupEffect(effects[i],element);this.effectElements.push(effectItem);}}function GroupEffect(data,element){this.init(data,element);}extendPrototype([DynamicPropertyContainer],GroupEffect);GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties;GroupEffect.prototype.init=function(data,element){this.data=data;this.effectElements=[];this.initDynamicPropertyContainer(element);var i;var len=this.data.ef.length;var eff;var effects=this.data.ef;for(i=0;i<len;i+=1){eff=null;switch(effects[i].ty){case 0:eff=new SliderEffect(effects[i],element,this);break;case 1:eff=new AngleEffect(effects[i],element,this);break;case 2:eff=new ColorEffect(effects[i],element,this);break;case 3:eff=new PointEffect(effects[i],element,this);break;case 4:case 7:eff=new CheckboxEffect(effects[i],element,this);break;case 10:eff=new LayerIndexEffect(effects[i],element,this);break;case 11:eff=new MaskIndexEffect(effects[i],element,this);break;case 5:eff=new EffectsManager(effects[i],element,this);break;// case 6:\ndefault:eff=new NoValueEffect(effects[i],element,this);break;}if(eff){this.effectElements.push(eff);}}};function BaseElement(){}BaseElement.prototype={checkMasks:function checkMasks(){if(!this.data.hasMask){return false;}var i=0;var len=this.data.masksProperties.length;while(i<len){if(this.data.masksProperties[i].mode!=='n'&&this.data.masksProperties[i].cl!==false){return true;}i+=1;}return false;},initExpressions:function initExpressions(){this.layerInterface=LayerExpressionInterface(this);if(this.data.hasMask&&this.maskManager){this.layerInterface.registerMaskInterface(this.maskManager);}var effectsInterface=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(effectsInterface);if(this.data.ty===0||this.data.xt){this.compInterface=CompExpressionInterface(this);}else if(this.data.ty===4){this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface);this.layerInterface.content=this.layerInterface.shapeInterface;}else if(this.data.ty===5){this.layerInterface.textInterface=TextExpressionInterface(this);this.layerInterface.text=this.layerInterface.textInterface;}},setBlendMode:function setBlendMode(){var blendModeValue=getBlendMode(this.data.bm);var elem=this.baseElement||this.layerElement;elem.style['mix-blend-mode']=blendModeValue;},initBaseData:function initBaseData(data,globalData,comp){this.globalData=globalData;this.comp=comp;this.data=data;this.layerId=createElementID();// Stretch factor for old animations missing this property.\nif(!this.data.sr){this.data.sr=1;}// effects manager\nthis.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties);},getType:function getType(){return this.type;},sourceRectAtTime:function sourceRectAtTime(){}};/**\n   * @file\n   * Handles element's layer frame update.\n   * Checks layer in point and out point\n   *\n   */function FrameElement(){}FrameElement.prototype={/**\n       * @function\n       * Initializes frame related properties.\n       *\n       */initFrame:function initFrame(){// set to true when inpoint is rendered\nthis._isFirstFrame=false;// list of animated properties\nthis.dynamicProperties=[];// If layer has been modified in current tick this will be true\nthis._mdf=false;},/**\n       * @function\n       * Calculates all dynamic values\n       *\n       * @param {number} num\n       * current frame number in Layer's time\n       * @param {boolean} isVisible\n       * if layers is currently in range\n       *\n       */prepareProperties:function prepareProperties(num,isVisible){var i;var len=this.dynamicProperties.length;for(i=0;i<len;i+=1){if(isVisible||this._isParent&&this.dynamicProperties[i].propType==='transform'){this.dynamicProperties[i].getValue();if(this.dynamicProperties[i]._mdf){this.globalData._mdf=true;this._mdf=true;}}}},addDynamicProperty:function addDynamicProperty(prop){if(this.dynamicProperties.indexOf(prop)===-1){this.dynamicProperties.push(prop);}}};function _typeof$2(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$2=function _typeof(obj){return typeof obj;};}else{_typeof$2=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$2(obj);}var FootageInterface=function(){var outlineInterfaceFactory=function outlineInterfaceFactory(elem){var currentPropertyName='';var currentProperty=elem.getFootageData();function init(){currentPropertyName='';currentProperty=elem.getFootageData();return searchProperty;}function searchProperty(value){if(currentProperty[value]){currentPropertyName=value;currentProperty=currentProperty[value];if(_typeof$2(currentProperty)==='object'){return searchProperty;}return currentProperty;}var propertyNameIndex=value.indexOf(currentPropertyName);if(propertyNameIndex!==-1){var index=parseInt(value.substr(propertyNameIndex+currentPropertyName.length),10);currentProperty=currentProperty[index];if(_typeof$2(currentProperty)==='object'){return searchProperty;}return currentProperty;}return'';}return init;};var dataInterfaceFactory=function dataInterfaceFactory(elem){function interfaceFunction(value){if(value==='Outline'){return interfaceFunction.outlineInterface();}return null;}interfaceFunction._name='Outline';interfaceFunction.outlineInterface=outlineInterfaceFactory(elem);return interfaceFunction;};return function(elem){function _interfaceFunction(value){if(value==='Data'){return _interfaceFunction.dataInterface;}return null;}_interfaceFunction._name='Data';_interfaceFunction.dataInterface=dataInterfaceFactory(elem);return _interfaceFunction;};}();function FootageElement(data,globalData,comp){this.initFrame();this.initRenderable();this.assetData=globalData.getAssetData(data.refId);this.footageData=globalData.imageLoader.getAsset(this.assetData);this.initBaseData(data,globalData,comp);}FootageElement.prototype.prepareFrame=function(){};extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement);FootageElement.prototype.getBaseElement=function(){return null;};FootageElement.prototype.renderFrame=function(){};FootageElement.prototype.destroy=function(){};FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this);};FootageElement.prototype.getFootageData=function(){return this.footageData;};function AudioElement(data,globalData,comp){this.initFrame();this.initRenderable();this.assetData=globalData.getAssetData(data.refId);this.initBaseData(data,globalData,comp);this._isPlaying=false;this._canPlay=false;var assetPath=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(assetPath);this._currentTime=0;this.globalData.audioController.addAudio(this);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}AudioElement.prototype.prepareFrame=function(num){this.prepareRenderableFrame(num,true);this.prepareProperties(num,true);if(!this.tm._placeholder){var timeRemapped=this.tm.v;this._currentTime=timeRemapped;}else{this._currentTime=num/this.data.sr;}};extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement);AudioElement.prototype.renderFrame=function(){if(this.isInRange&&this._canPlay){if(!this._isPlaying){this.audio.play();this.audio.seek(this._currentTime/this.globalData.frameRate);this._isPlaying=true;}else if(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>0.1){this.audio.seek(this._currentTime/this.globalData.frameRate);}}};AudioElement.prototype.show=function(){// this.audio.play()\n};AudioElement.prototype.hide=function(){this.audio.pause();this._isPlaying=false;};AudioElement.prototype.pause=function(){this.audio.pause();this._isPlaying=false;this._canPlay=false;};AudioElement.prototype.resume=function(){this._canPlay=true;};AudioElement.prototype.setRate=function(rateValue){this.audio.rate(rateValue);};AudioElement.prototype.volume=function(volumeValue){this.audio.volume(volumeValue);};AudioElement.prototype.getBaseElement=function(){return null;};AudioElement.prototype.destroy=function(){};AudioElement.prototype.sourceRectAtTime=function(){};AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(num){var i;var len=this.layers.length;var data;this.completeLayers=true;for(i=len-1;i>=0;i-=1){if(!this.elements[i]){data=this.layers[i];if(data.ip-data.st<=num-this.layers[i].st&&data.op-data.st>num-this.layers[i].st){this.buildItem(i);}}this.completeLayers=this.elements[i]?this.completeLayers:false;}this.checkPendingElements();};BaseRenderer.prototype.createItem=function(layer){switch(layer.ty){case 2:return this.createImage(layer);case 0:return this.createComp(layer);case 1:return this.createSolid(layer);case 3:return this.createNull(layer);case 4:return this.createShape(layer);case 5:return this.createText(layer);case 6:return this.createAudio(layer);case 13:return this.createCamera(layer);case 15:return this.createFootage(layer);default:return this.createNull(layer);}};BaseRenderer.prototype.createCamera=function(){throw new Error('You\\'re using a 3d camera. Try the html renderer.');};BaseRenderer.prototype.createAudio=function(data){return new AudioElement(data,this.globalData,this);};BaseRenderer.prototype.createFootage=function(data){return new FootageElement(data,this.globalData,this);};BaseRenderer.prototype.buildAllItems=function(){var i;var len=this.layers.length;for(i=0;i<len;i+=1){this.buildItem(i);}this.checkPendingElements();};BaseRenderer.prototype.includeLayers=function(newLayers){this.completeLayers=false;var i;var len=newLayers.length;var j;var jLen=this.layers.length;for(i=0;i<len;i+=1){j=0;while(j<jLen){if(this.layers[j].id===newLayers[i].id){this.layers[j]=newLayers[i];break;}j+=1;}}};BaseRenderer.prototype.setProjectInterface=function(pInterface){this.globalData.projectInterface=pInterface;};BaseRenderer.prototype.initItems=function(){if(!this.globalData.progressiveLoad){this.buildAllItems();}};BaseRenderer.prototype.buildElementParenting=function(element,parentName,hierarchy){var elements=this.elements;var layers=this.layers;var i=0;var len=layers.length;while(i<len){if(layers[i].ind==parentName){// eslint-disable-line eqeqeq\nif(!elements[i]||elements[i]===true){this.buildItem(i);this.addPendingElement(element);}else{hierarchy.push(elements[i]);elements[i].setAsParent();if(layers[i].parent!==undefined){this.buildElementParenting(element,layers[i].parent,hierarchy);}else{element.setHierarchy(hierarchy);}}}i+=1;}};BaseRenderer.prototype.addPendingElement=function(element){this.pendingElements.push(element);};BaseRenderer.prototype.searchExtraCompositions=function(assets){var i;var len=assets.length;for(i=0;i<len;i+=1){if(assets[i].xt){var comp=this.createComp(assets[i]);comp.initExpressions();this.globalData.projectInterface.registerComposition(comp);}}};BaseRenderer.prototype.setupGlobalData=function(animData,fontsContainer){this.globalData.fontManager=new FontManager();this.globalData.fontManager.addChars(animData.chars);this.globalData.fontManager.addFonts(animData.fonts,fontsContainer);this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem);this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem);this.globalData.imageLoader=this.animationItem.imagePreloader;this.globalData.audioController=this.animationItem.audioController;this.globalData.frameId=0;this.globalData.frameRate=animData.fr;this.globalData.nm=animData.nm;this.globalData.compSize={w:animData.w,h:animData.h};};function TransformElement(){}TransformElement.prototype={initTransform:function initTransform(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:false,_opMdf:false,mat:new Matrix()};if(this.data.ao){this.finalTransform.mProp.autoOriented=true;}// TODO: check TYPE 11: Guided elements\nif(this.data.ty!==11){// this.createElements();\n}},renderTransform:function renderTransform(){this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame;this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame;if(this.hierarchy){var mat;var finalMat=this.finalTransform.mat;var i=0;var len=this.hierarchy.length;// Checking if any of the transformation matrices in the hierarchy chain has changed.\nif(!this.finalTransform._matMdf){while(i<len){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=true;break;}i+=1;}}if(this.finalTransform._matMdf){mat=this.finalTransform.mProp.v.props;finalMat.cloneFromProps(mat);for(i=0;i<len;i+=1){mat=this.hierarchy[i].finalTransform.mProp.v.props;finalMat.transform(mat[0],mat[1],mat[2],mat[3],mat[4],mat[5],mat[6],mat[7],mat[8],mat[9],mat[10],mat[11],mat[12],mat[13],mat[14],mat[15]);}}}},globalToLocal:function globalToLocal(pt){var transforms=[];transforms.push(this.finalTransform);var flag=true;var comp=this.comp;while(flag){if(comp.finalTransform){if(comp.data.hasMask){transforms.splice(0,0,comp.finalTransform);}comp=comp.comp;}else{flag=false;}}var i;var len=transforms.length;var ptNew;for(i=0;i<len;i+=1){ptNew=transforms[i].mat.applyToPointArray(0,0,0);// ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\npt=[pt[0]-ptNew[0],pt[1]-ptNew[1],0];}return pt;},mHelper:new Matrix()};function MaskElement(data,element,globalData){this.data=data;this.element=element;this.globalData=globalData;this.storedData=[];this.masksProperties=this.data.masksProperties||[];this.maskElement=null;var defs=this.globalData.defs;var i;var len=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(len);this.solidPath='';var path;var properties=this.masksProperties;var count=0;var currentMasks=[];var j;var jLen;var layerId=createElementID();var rect;var expansor;var feMorph;var x;var maskType='clipPath';var maskRef='clip-path';for(i=0;i<len;i+=1){if(properties[i].mode!=='a'&&properties[i].mode!=='n'||properties[i].inv||properties[i].o.k!==100||properties[i].o.x){maskType='mask';maskRef='mask';}if((properties[i].mode==='s'||properties[i].mode==='i')&&count===0){rect=createNS('rect');rect.setAttribute('fill','#ffffff');rect.setAttribute('width',this.element.comp.data.w||0);rect.setAttribute('height',this.element.comp.data.h||0);currentMasks.push(rect);}else{rect=null;}path=createNS('path');if(properties[i].mode==='n'){// TODO move this to a factory or to a constructor\nthis.viewData[i]={op:PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),elem:path,lastPath:''};defs.appendChild(path);}else{count+=1;path.setAttribute('fill',properties[i].mode==='s'?'#000000':'#ffffff');path.setAttribute('clip-rule','nonzero');var filterID;if(properties[i].x.k!==0){maskType='mask';maskRef='mask';x=PropertyFactory.getProp(this.element,properties[i].x,0,null,this.element);filterID=createElementID();expansor=createNS('filter');expansor.setAttribute('id',filterID);feMorph=createNS('feMorphology');feMorph.setAttribute('operator','erode');feMorph.setAttribute('in','SourceGraphic');feMorph.setAttribute('radius','0');expansor.appendChild(feMorph);defs.appendChild(expansor);path.setAttribute('stroke',properties[i].mode==='s'?'#000000':'#ffffff');}else{feMorph=null;x=null;}// TODO move this to a factory or to a constructor\nthis.storedData[i]={elem:path,x:x,expan:feMorph,lastPath:'',lastOperator:'',filterId:filterID,lastRadius:0};if(properties[i].mode==='i'){jLen=currentMasks.length;var g=createNS('g');for(j=0;j<jLen;j+=1){g.appendChild(currentMasks[j]);}var mask=createNS('mask');mask.setAttribute('mask-type','alpha');mask.setAttribute('id',layerId+'_'+count);mask.appendChild(path);defs.appendChild(mask);g.setAttribute('mask','url('+getLocationHref()+'#'+layerId+'_'+count+')');currentMasks.length=0;currentMasks.push(g);}else{currentMasks.push(path);}if(properties[i].inv&&!this.solidPath){this.solidPath=this.createLayerSolidPath();}// TODO move this to a factory or to a constructor\nthis.viewData[i]={elem:path,lastPath:'',op:PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),invRect:rect};if(!this.viewData[i].prop.k){this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);}}}this.maskElement=createNS(maskType);len=currentMasks.length;for(i=0;i<len;i+=1){this.maskElement.appendChild(currentMasks[i]);}if(count>0){this.maskElement.setAttribute('id',layerId);this.element.maskedElement.setAttribute(maskRef,'url('+getLocationHref()+'#'+layerId+')');defs.appendChild(this.maskElement);}if(this.viewData.length){this.element.addRenderableComponent(this);}}MaskElement.prototype.getMaskProperty=function(pos){return this.viewData[pos].prop;};MaskElement.prototype.renderFrame=function(isFirstFrame){var finalMat=this.element.finalTransform.mat;var i;var len=this.masksProperties.length;for(i=0;i<len;i+=1){if(this.viewData[i].prop._mdf||isFirstFrame){this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);}if(this.viewData[i].op._mdf||isFirstFrame){this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);}if(this.masksProperties[i].mode!=='n'){if(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||isFirstFrame)){this.viewData[i].invRect.setAttribute('transform',finalMat.getInverseMatrix().to2dCSS());}if(this.storedData[i].x&&(this.storedData[i].x._mdf||isFirstFrame)){var feMorph=this.storedData[i].expan;if(this.storedData[i].x.v<0){if(this.storedData[i].lastOperator!=='erode'){this.storedData[i].lastOperator='erode';this.storedData[i].elem.setAttribute('filter','url('+getLocationHref()+'#'+this.storedData[i].filterId+')');}feMorph.setAttribute('radius',-this.storedData[i].x.v);}else{if(this.storedData[i].lastOperator!=='dilate'){this.storedData[i].lastOperator='dilate';this.storedData[i].elem.setAttribute('filter',null);}this.storedData[i].elem.setAttribute('stroke-width',this.storedData[i].x.v*2);}}}}};MaskElement.prototype.getMaskelement=function(){return this.maskElement;};MaskElement.prototype.createLayerSolidPath=function(){var path='M0,0 ';path+=' h'+this.globalData.compSize.w;path+=' v'+this.globalData.compSize.h;path+=' h-'+this.globalData.compSize.w;path+=' v-'+this.globalData.compSize.h+' ';return path;};MaskElement.prototype.drawPath=function(pathData,pathNodes,viewData){var pathString=' M'+pathNodes.v[0][0]+','+pathNodes.v[0][1];var i;var len;len=pathNodes._length;for(i=1;i<len;i+=1){// pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\npathString+=' C'+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1]+' '+pathNodes.i[i][0]+','+pathNodes.i[i][1]+' '+pathNodes.v[i][0]+','+pathNodes.v[i][1];}// pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\nif(pathNodes.c&&len>1){pathString+=' C'+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1]+' '+pathNodes.i[0][0]+','+pathNodes.i[0][1]+' '+pathNodes.v[0][0]+','+pathNodes.v[0][1];}// pathNodes.__renderedString = pathString;\nif(viewData.lastPath!==pathString){var pathShapeValue='';if(viewData.elem){if(pathNodes.c){pathShapeValue=pathData.inv?this.solidPath+pathString:pathString;}viewData.elem.setAttribute('d',pathShapeValue);}viewData.lastPath=pathString;}};MaskElement.prototype.destroy=function(){this.element=null;this.globalData=null;this.maskElement=null;this.data=null;this.masksProperties=null;};var filtersFactory=function(){var ob={};ob.createFilter=createFilter;ob.createAlphaToLuminanceFilter=createAlphaToLuminanceFilter;function createFilter(filId,skipCoordinates){var fil=createNS('filter');fil.setAttribute('id',filId);if(skipCoordinates!==true){fil.setAttribute('filterUnits','objectBoundingBox');fil.setAttribute('x','0%');fil.setAttribute('y','0%');fil.setAttribute('width','100%');fil.setAttribute('height','100%');}return fil;}function createAlphaToLuminanceFilter(){var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','sRGB');feColorMatrix.setAttribute('values','0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');return feColorMatrix;}return ob;}();var featureSupport=function(){var ob={maskType:true};if(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\\/\\d./i.test(navigator.userAgent)){ob.maskType=false;}return ob;}();function SVGTintFilter(filter,filterManager){this.filterManager=filterManager;var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');feColorMatrix.setAttribute('result','f1');filter.appendChild(feColorMatrix);feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','sRGB');feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');feColorMatrix.setAttribute('result','f2');filter.appendChild(feColorMatrix);this.matrixFilter=feColorMatrix;if(filterManager.effectElements[2].p.v!==100||filterManager.effectElements[2].p.k){var feMerge=createNS('feMerge');filter.appendChild(feMerge);var feMergeNode;feMergeNode=createNS('feMergeNode');feMergeNode.setAttribute('in','SourceGraphic');feMerge.appendChild(feMergeNode);feMergeNode=createNS('feMergeNode');feMergeNode.setAttribute('in','f2');feMerge.appendChild(feMergeNode);}}SVGTintFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var colorBlack=this.filterManager.effectElements[0].p.v;var colorWhite=this.filterManager.effectElements[1].p.v;var opacity=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute('values',colorWhite[0]-colorBlack[0]+' 0 0 0 '+colorBlack[0]+' '+(colorWhite[1]-colorBlack[1])+' 0 0 0 '+colorBlack[1]+' '+(colorWhite[2]-colorBlack[2])+' 0 0 0 '+colorBlack[2]+' 0 0 0 '+opacity+' 0');}};function SVGFillFilter(filter,filterManager){this.filterManager=filterManager;var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','sRGB');feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');filter.appendChild(feColorMatrix);this.matrixFilter=feColorMatrix;}SVGFillFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var color=this.filterManager.effectElements[2].p.v;var opacity=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute('values','0 0 0 0 '+color[0]+' 0 0 0 0 '+color[1]+' 0 0 0 0 '+color[2]+' 0 0 0 '+opacity+' 0');}};function SVGStrokeEffect(elem,filterManager){this.initialized=false;this.filterManager=filterManager;this.elem=elem;this.paths=[];}SVGStrokeEffect.prototype.initialize=function(){var elemChildren=this.elem.layerElement.children||this.elem.layerElement.childNodes;var path;var groupPath;var i;var len;if(this.filterManager.effectElements[1].p.v===1){len=this.elem.maskManager.masksProperties.length;i=0;}else{i=this.filterManager.effectElements[0].p.v-1;len=i+1;}groupPath=createNS('g');groupPath.setAttribute('fill','none');groupPath.setAttribute('stroke-linecap','round');groupPath.setAttribute('stroke-dashoffset',1);for(i;i<len;i+=1){path=createNS('path');groupPath.appendChild(path);this.paths.push({p:path,m:i});}if(this.filterManager.effectElements[10].p.v===3){var mask=createNS('mask');var id=createElementID();mask.setAttribute('id',id);mask.setAttribute('mask-type','alpha');mask.appendChild(groupPath);this.elem.globalData.defs.appendChild(mask);var g=createNS('g');g.setAttribute('mask','url('+getLocationHref()+'#'+id+')');while(elemChildren[0]){g.appendChild(elemChildren[0]);}this.elem.layerElement.appendChild(g);this.masker=mask;groupPath.setAttribute('stroke','#fff');}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2){elemChildren=this.elem.layerElement.children||this.elem.layerElement.childNodes;while(elemChildren.length){this.elem.layerElement.removeChild(elemChildren[0]);}}this.elem.layerElement.appendChild(groupPath);this.elem.layerElement.removeAttribute('mask');groupPath.setAttribute('stroke','#fff');}this.initialized=true;this.pathMasker=groupPath;};SVGStrokeEffect.prototype.renderFrame=function(forceRender){if(!this.initialized){this.initialize();}var i;var len=this.paths.length;var mask;var path;for(i=0;i<len;i+=1){if(this.paths[i].m!==-1){mask=this.elem.maskManager.viewData[this.paths[i].m];path=this.paths[i].p;if(forceRender||this.filterManager._mdf||mask.prop._mdf){path.setAttribute('d',mask.lastPath);}if(forceRender||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||mask.prop._mdf){var dasharrayValue;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*0.01;var e=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*0.01;var l=path.getTotalLength();dasharrayValue='0 0 0 '+l*s+' ';var lineLength=l*(e-s);var segment=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*0.01;var units=Math.floor(lineLength/segment);var j;for(j=0;j<units;j+=1){dasharrayValue+='1 '+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*0.01+' ';}dasharrayValue+='0 '+l*10+' 0 0';}else{dasharrayValue='1 '+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*0.01;}path.setAttribute('stroke-dasharray',dasharrayValue);}}}if(forceRender||this.filterManager.effectElements[4].p._mdf){this.pathMasker.setAttribute('stroke-width',this.filterManager.effectElements[4].p.v*2);}if(forceRender||this.filterManager.effectElements[6].p._mdf){this.pathMasker.setAttribute('opacity',this.filterManager.effectElements[6].p.v);}if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(forceRender||this.filterManager.effectElements[3].p._mdf){var color=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute('stroke','rgb('+bmFloor(color[0]*255)+','+bmFloor(color[1]*255)+','+bmFloor(color[2]*255)+')');}}};function SVGTritoneFilter(filter,filterManager){this.filterManager=filterManager;var feColorMatrix=createNS('feColorMatrix');feColorMatrix.setAttribute('type','matrix');feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');feColorMatrix.setAttribute('result','f1');filter.appendChild(feColorMatrix);var feComponentTransfer=createNS('feComponentTransfer');feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');filter.appendChild(feComponentTransfer);this.matrixFilter=feComponentTransfer;var feFuncR=createNS('feFuncR');feFuncR.setAttribute('type','table');feComponentTransfer.appendChild(feFuncR);this.feFuncR=feFuncR;var feFuncG=createNS('feFuncG');feFuncG.setAttribute('type','table');feComponentTransfer.appendChild(feFuncG);this.feFuncG=feFuncG;var feFuncB=createNS('feFuncB');feFuncB.setAttribute('type','table');feComponentTransfer.appendChild(feFuncB);this.feFuncB=feFuncB;}SVGTritoneFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var color1=this.filterManager.effectElements[0].p.v;var color2=this.filterManager.effectElements[1].p.v;var color3=this.filterManager.effectElements[2].p.v;var tableR=color3[0]+' '+color2[0]+' '+color1[0];var tableG=color3[1]+' '+color2[1]+' '+color1[1];var tableB=color3[2]+' '+color2[2]+' '+color1[2];this.feFuncR.setAttribute('tableValues',tableR);this.feFuncG.setAttribute('tableValues',tableG);this.feFuncB.setAttribute('tableValues',tableB);// var opacity = this.filterManager.effectElements[2].p.v/100;\n// this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\n}};function SVGProLevelsFilter(filter,filterManager){this.filterManager=filterManager;var effectElements=this.filterManager.effectElements;var feComponentTransfer=createNS('feComponentTransfer');if(effectElements[10].p.k||effectElements[10].p.v!==0||effectElements[11].p.k||effectElements[11].p.v!==1||effectElements[12].p.k||effectElements[12].p.v!==1||effectElements[13].p.k||effectElements[13].p.v!==0||effectElements[14].p.k||effectElements[14].p.v!==1){this.feFuncR=this.createFeFunc('feFuncR',feComponentTransfer);}if(effectElements[17].p.k||effectElements[17].p.v!==0||effectElements[18].p.k||effectElements[18].p.v!==1||effectElements[19].p.k||effectElements[19].p.v!==1||effectElements[20].p.k||effectElements[20].p.v!==0||effectElements[21].p.k||effectElements[21].p.v!==1){this.feFuncG=this.createFeFunc('feFuncG',feComponentTransfer);}if(effectElements[24].p.k||effectElements[24].p.v!==0||effectElements[25].p.k||effectElements[25].p.v!==1||effectElements[26].p.k||effectElements[26].p.v!==1||effectElements[27].p.k||effectElements[27].p.v!==0||effectElements[28].p.k||effectElements[28].p.v!==1){this.feFuncB=this.createFeFunc('feFuncB',feComponentTransfer);}if(effectElements[31].p.k||effectElements[31].p.v!==0||effectElements[32].p.k||effectElements[32].p.v!==1||effectElements[33].p.k||effectElements[33].p.v!==1||effectElements[34].p.k||effectElements[34].p.v!==0||effectElements[35].p.k||effectElements[35].p.v!==1){this.feFuncA=this.createFeFunc('feFuncA',feComponentTransfer);}if(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA){feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');filter.appendChild(feComponentTransfer);feComponentTransfer=createNS('feComponentTransfer');}if(effectElements[3].p.k||effectElements[3].p.v!==0||effectElements[4].p.k||effectElements[4].p.v!==1||effectElements[5].p.k||effectElements[5].p.v!==1||effectElements[6].p.k||effectElements[6].p.v!==0||effectElements[7].p.k||effectElements[7].p.v!==1){feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');filter.appendChild(feComponentTransfer);this.feFuncRComposed=this.createFeFunc('feFuncR',feComponentTransfer);this.feFuncGComposed=this.createFeFunc('feFuncG',feComponentTransfer);this.feFuncBComposed=this.createFeFunc('feFuncB',feComponentTransfer);}}SVGProLevelsFilter.prototype.createFeFunc=function(type,feComponentTransfer){var feFunc=createNS(type);feFunc.setAttribute('type','table');feComponentTransfer.appendChild(feFunc);return feFunc;};SVGProLevelsFilter.prototype.getTableValue=function(inputBlack,inputWhite,gamma,outputBlack,outputWhite){var cnt=0;var segments=256;var perc;var min=Math.min(inputBlack,inputWhite);var max=Math.max(inputBlack,inputWhite);var table=Array.call(null,{length:segments});var colorValue;var pos=0;var outputDelta=outputWhite-outputBlack;var inputDelta=inputWhite-inputBlack;while(cnt<=256){perc=cnt/256;if(perc<=min){colorValue=inputDelta<0?outputWhite:outputBlack;}else if(perc>=max){colorValue=inputDelta<0?outputBlack:outputWhite;}else{colorValue=outputBlack+outputDelta*Math.pow((perc-inputBlack)/inputDelta,1/gamma);}table[pos]=colorValue;pos+=1;cnt+=256/(segments-1);}return table.join(' ');};SVGProLevelsFilter.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){var val;var effectElements=this.filterManager.effectElements;if(this.feFuncRComposed&&(forceRender||effectElements[3].p._mdf||effectElements[4].p._mdf||effectElements[5].p._mdf||effectElements[6].p._mdf||effectElements[7].p._mdf)){val=this.getTableValue(effectElements[3].p.v,effectElements[4].p.v,effectElements[5].p.v,effectElements[6].p.v,effectElements[7].p.v);this.feFuncRComposed.setAttribute('tableValues',val);this.feFuncGComposed.setAttribute('tableValues',val);this.feFuncBComposed.setAttribute('tableValues',val);}if(this.feFuncR&&(forceRender||effectElements[10].p._mdf||effectElements[11].p._mdf||effectElements[12].p._mdf||effectElements[13].p._mdf||effectElements[14].p._mdf)){val=this.getTableValue(effectElements[10].p.v,effectElements[11].p.v,effectElements[12].p.v,effectElements[13].p.v,effectElements[14].p.v);this.feFuncR.setAttribute('tableValues',val);}if(this.feFuncG&&(forceRender||effectElements[17].p._mdf||effectElements[18].p._mdf||effectElements[19].p._mdf||effectElements[20].p._mdf||effectElements[21].p._mdf)){val=this.getTableValue(effectElements[17].p.v,effectElements[18].p.v,effectElements[19].p.v,effectElements[20].p.v,effectElements[21].p.v);this.feFuncG.setAttribute('tableValues',val);}if(this.feFuncB&&(forceRender||effectElements[24].p._mdf||effectElements[25].p._mdf||effectElements[26].p._mdf||effectElements[27].p._mdf||effectElements[28].p._mdf)){val=this.getTableValue(effectElements[24].p.v,effectElements[25].p.v,effectElements[26].p.v,effectElements[27].p.v,effectElements[28].p.v);this.feFuncB.setAttribute('tableValues',val);}if(this.feFuncA&&(forceRender||effectElements[31].p._mdf||effectElements[32].p._mdf||effectElements[33].p._mdf||effectElements[34].p._mdf||effectElements[35].p._mdf)){val=this.getTableValue(effectElements[31].p.v,effectElements[32].p.v,effectElements[33].p.v,effectElements[34].p.v,effectElements[35].p.v);this.feFuncA.setAttribute('tableValues',val);}}};function SVGDropShadowEffect(filter,filterManager){var filterSize=filterManager.container.globalData.renderConfig.filterSize;filter.setAttribute('x',filterSize.x);filter.setAttribute('y',filterSize.y);filter.setAttribute('width',filterSize.width);filter.setAttribute('height',filterSize.height);this.filterManager=filterManager;var feGaussianBlur=createNS('feGaussianBlur');feGaussianBlur.setAttribute('in','SourceAlpha');feGaussianBlur.setAttribute('result','drop_shadow_1');feGaussianBlur.setAttribute('stdDeviation','0');this.feGaussianBlur=feGaussianBlur;filter.appendChild(feGaussianBlur);var feOffset=createNS('feOffset');feOffset.setAttribute('dx','25');feOffset.setAttribute('dy','0');feOffset.setAttribute('in','drop_shadow_1');feOffset.setAttribute('result','drop_shadow_2');this.feOffset=feOffset;filter.appendChild(feOffset);var feFlood=createNS('feFlood');feFlood.setAttribute('flood-color','#00ff00');feFlood.setAttribute('flood-opacity','1');feFlood.setAttribute('result','drop_shadow_3');this.feFlood=feFlood;filter.appendChild(feFlood);var feComposite=createNS('feComposite');feComposite.setAttribute('in','drop_shadow_3');feComposite.setAttribute('in2','drop_shadow_2');feComposite.setAttribute('operator','in');feComposite.setAttribute('result','drop_shadow_4');filter.appendChild(feComposite);var feMerge=createNS('feMerge');filter.appendChild(feMerge);var feMergeNode;feMergeNode=createNS('feMergeNode');feMerge.appendChild(feMergeNode);feMergeNode=createNS('feMergeNode');feMergeNode.setAttribute('in','SourceGraphic');this.feMergeNode=feMergeNode;this.feMerge=feMerge;this.originalNodeAdded=false;feMerge.appendChild(feMergeNode);}SVGDropShadowEffect.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){if(forceRender||this.filterManager.effectElements[4].p._mdf){this.feGaussianBlur.setAttribute('stdDeviation',this.filterManager.effectElements[4].p.v/4);}if(forceRender||this.filterManager.effectElements[0].p._mdf){var col=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute('flood-color',rgbToHex(Math.round(col[0]*255),Math.round(col[1]*255),Math.round(col[2]*255)));}if(forceRender||this.filterManager.effectElements[1].p._mdf){this.feFlood.setAttribute('flood-opacity',this.filterManager.effectElements[1].p.v/255);}if(forceRender||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var distance=this.filterManager.effectElements[3].p.v;var angle=(this.filterManager.effectElements[2].p.v-90)*degToRads;var x=distance*Math.cos(angle);var y=distance*Math.sin(angle);this.feOffset.setAttribute('dx',x);this.feOffset.setAttribute('dy',y);}/* if(forceRender || this.filterManager.effectElements[5].p._mdf){\n              if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\n                  this.feMerge.removeChild(this.feMergeNode);\n                  this.originalNodeAdded = false;\n              } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\n                  this.feMerge.appendChild(this.feMergeNode);\n                  this.originalNodeAdded = true;\n              }\n          } */}};var _svgMatteSymbols=[];function SVGMatte3Effect(filterElem,filterManager,elem){this.initialized=false;this.filterManager=filterManager;this.filterElem=filterElem;this.elem=elem;elem.matteElement=createNS('g');elem.matteElement.appendChild(elem.layerElement);elem.matteElement.appendChild(elem.transformedElement);elem.baseElement=elem.matteElement;}SVGMatte3Effect.prototype.findSymbol=function(mask){var i=0;var len=_svgMatteSymbols.length;while(i<len){if(_svgMatteSymbols[i]===mask){return _svgMatteSymbols[i];}i+=1;}return null;};SVGMatte3Effect.prototype.replaceInParent=function(mask,symbolId){var parentNode=mask.layerElement.parentNode;if(!parentNode){return;}var children=parentNode.children;var i=0;var len=children.length;while(i<len){if(children[i]===mask.layerElement){break;}i+=1;}var nextChild;if(i<=len-2){nextChild=children[i+1];}var useElem=createNS('use');useElem.setAttribute('href','#'+symbolId);if(nextChild){parentNode.insertBefore(useElem,nextChild);}else{parentNode.appendChild(useElem);}};SVGMatte3Effect.prototype.setElementAsMask=function(elem,mask){if(!this.findSymbol(mask)){var symbolId=createElementID();var masker=createNS('mask');masker.setAttribute('id',mask.layerId);masker.setAttribute('mask-type','alpha');_svgMatteSymbols.push(mask);var defs=elem.globalData.defs;defs.appendChild(masker);var symbol=createNS('symbol');symbol.setAttribute('id',symbolId);this.replaceInParent(mask,symbolId);symbol.appendChild(mask.layerElement);defs.appendChild(symbol);var useElem=createNS('use');useElem.setAttribute('href','#'+symbolId);masker.appendChild(useElem);mask.data.hd=false;mask.show();}elem.setMatte(mask.layerId);};SVGMatte3Effect.prototype.initialize=function(){var ind=this.filterManager.effectElements[0].p.v;var elements=this.elem.comp.elements;var i=0;var len=elements.length;while(i<len){if(elements[i]&&elements[i].data.ind===ind){this.setElementAsMask(this.elem,elements[i]);}i+=1;}this.initialized=true;};SVGMatte3Effect.prototype.renderFrame=function(){if(!this.initialized){this.initialize();}};function SVGGaussianBlurEffect(filter,filterManager){// Outset the filter region by 100% on all sides to accommodate blur expansion.\nfilter.setAttribute('x','-100%');filter.setAttribute('y','-100%');filter.setAttribute('width','300%');filter.setAttribute('height','300%');this.filterManager=filterManager;var feGaussianBlur=createNS('feGaussianBlur');filter.appendChild(feGaussianBlur);this.feGaussianBlur=feGaussianBlur;}SVGGaussianBlurEffect.prototype.renderFrame=function(forceRender){if(forceRender||this.filterManager._mdf){// Empirical value, matching AE's blur appearance.\nvar kBlurrinessToSigma=0.3;var sigma=this.filterManager.effectElements[0].p.v*kBlurrinessToSigma;// Dimensions mapping:\n//\n//   1 -> horizontal & vertical\n//   2 -> horizontal only\n//   3 -> vertical only\n//\nvar dimensions=this.filterManager.effectElements[1].p.v;var sigmaX=dimensions==3?0:sigma;// eslint-disable-line eqeqeq\nvar sigmaY=dimensions==2?0:sigma;// eslint-disable-line eqeqeq\nthis.feGaussianBlur.setAttribute('stdDeviation',sigmaX+' '+sigmaY);// Repeat edges mapping:\n//\n//   0 -> off -> duplicate\n//   1 -> on  -> wrap\nvar edgeMode=this.filterManager.effectElements[2].p.v==1?'wrap':'duplicate';// eslint-disable-line eqeqeq\nthis.feGaussianBlur.setAttribute('edgeMode',edgeMode);}};var registeredEffects={};function SVGEffects(elem){var i;var len=elem.data.ef?elem.data.ef.length:0;var filId=createElementID();var fil=filtersFactory.createFilter(filId,true);var count=0;this.filters=[];var filterManager;for(i=0;i<len;i+=1){filterManager=null;var type=elem.data.ef[i].ty;if(registeredEffects[type]){var Effect=registeredEffects[type].effect;filterManager=new Effect(fil,elem.effectsManager.effectElements[i],elem);if(registeredEffects[type].countsAsEffect){count+=1;}}if(elem.data.ef[i].ty===20){count+=1;filterManager=new SVGTintFilter(fil,elem.effectsManager.effectElements[i]);}else if(elem.data.ef[i].ty===21){count+=1;filterManager=new SVGFillFilter(fil,elem.effectsManager.effectElements[i]);}else if(elem.data.ef[i].ty===22){filterManager=new SVGStrokeEffect(elem,elem.effectsManager.effectElements[i]);}else if(elem.data.ef[i].ty===23){count+=1;filterManager=new SVGTritoneFilter(fil,elem.effectsManager.effectElements[i]);}else if(elem.data.ef[i].ty===24){count+=1;filterManager=new SVGProLevelsFilter(fil,elem.effectsManager.effectElements[i]);}else if(elem.data.ef[i].ty===25){count+=1;filterManager=new SVGDropShadowEffect(fil,elem.effectsManager.effectElements[i]);}else if(elem.data.ef[i].ty===28){// count += 1;\nfilterManager=new SVGMatte3Effect(fil,elem.effectsManager.effectElements[i],elem);}else if(elem.data.ef[i].ty===29){count+=1;filterManager=new SVGGaussianBlurEffect(fil,elem.effectsManager.effectElements[i]);}if(filterManager){this.filters.push(filterManager);}}if(count){elem.globalData.defs.appendChild(fil);elem.layerElement.setAttribute('filter','url('+getLocationHref()+'#'+filId+')');}if(this.filters.length){elem.addRenderableComponent(this);}}SVGEffects.prototype.renderFrame=function(_isFirstFrame){var i;var len=this.filters.length;for(i=0;i<len;i+=1){this.filters[i].renderFrame(_isFirstFrame);}};function registerEffect(id,effect,countsAsEffect){registeredEffects[id]={effect:effect,countsAsEffect:countsAsEffect};}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function initRendererElement(){this.layerElement=createNS('g');},createContainerElements:function createContainerElements(){this.matteElement=createNS('g');this.transformedElement=this.layerElement;this.maskedElement=this.layerElement;this._sizeChanged=false;var layerElementParent=null;// If this layer acts as a mask for the following layer\nvar filId;var fil;var gg;if(this.data.td){if(this.data.td==3||this.data.td==1){// eslint-disable-line eqeqeq\nvar masker=createNS('mask');masker.setAttribute('id',this.layerId);masker.setAttribute('mask-type',this.data.td==3?'luminance':'alpha');// eslint-disable-line eqeqeq\nmasker.appendChild(this.layerElement);layerElementParent=masker;this.globalData.defs.appendChild(masker);// This is only for IE and Edge when mask if of type alpha\nif(!featureSupport.maskType&&this.data.td==1){// eslint-disable-line eqeqeq\nmasker.setAttribute('mask-type','luminance');filId=createElementID();fil=filtersFactory.createFilter(filId);this.globalData.defs.appendChild(fil);fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());gg=createNS('g');gg.appendChild(this.layerElement);layerElementParent=gg;masker.appendChild(gg);gg.setAttribute('filter','url('+getLocationHref()+'#'+filId+')');}}else if(this.data.td==2){// eslint-disable-line eqeqeq\nvar maskGroup=createNS('mask');maskGroup.setAttribute('id',this.layerId);maskGroup.setAttribute('mask-type','alpha');var maskGrouper=createNS('g');maskGroup.appendChild(maskGrouper);filId=createElementID();fil=filtersFactory.createFilter(filId);/// /\n// This solution doesn't work on Android when meta tag with viewport attribute is set\n/* var feColorMatrix = createNS('feColorMatrix');\n                  feColorMatrix.setAttribute('type', 'matrix');\n                  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n                  feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\n                  fil.appendChild(feColorMatrix); */ /// /\nvar feCTr=createNS('feComponentTransfer');feCTr.setAttribute('in','SourceGraphic');fil.appendChild(feCTr);var feFunc=createNS('feFuncA');feFunc.setAttribute('type','table');feFunc.setAttribute('tableValues','1.0 0.0');feCTr.appendChild(feFunc);/// /\nthis.globalData.defs.appendChild(fil);var alphaRect=createNS('rect');alphaRect.setAttribute('width',this.comp.data.w);alphaRect.setAttribute('height',this.comp.data.h);alphaRect.setAttribute('x','0');alphaRect.setAttribute('y','0');alphaRect.setAttribute('fill','#ffffff');alphaRect.setAttribute('opacity','0');maskGrouper.setAttribute('filter','url('+getLocationHref()+'#'+filId+')');maskGrouper.appendChild(alphaRect);maskGrouper.appendChild(this.layerElement);layerElementParent=maskGrouper;if(!featureSupport.maskType){maskGroup.setAttribute('mask-type','luminance');fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());gg=createNS('g');maskGrouper.appendChild(alphaRect);gg.appendChild(this.layerElement);layerElementParent=gg;maskGrouper.appendChild(gg);}this.globalData.defs.appendChild(maskGroup);}}else if(this.data.tt){this.matteElement.appendChild(this.layerElement);layerElementParent=this.matteElement;this.baseElement=this.matteElement;}else{this.baseElement=this.layerElement;}if(this.data.ln){this.layerElement.setAttribute('id',this.data.ln);}if(this.data.cl){this.layerElement.setAttribute('class',this.data.cl);}// Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\nif(this.data.ty===0&&!this.data.hd){var cp=createNS('clipPath');var pt=createNS('path');pt.setAttribute('d','M0,0 L'+this.data.w+',0 L'+this.data.w+','+this.data.h+' L0,'+this.data.h+'z');var clipId=createElementID();cp.setAttribute('id',clipId);cp.appendChild(pt);this.globalData.defs.appendChild(cp);if(this.checkMasks()){var cpGroup=createNS('g');cpGroup.setAttribute('clip-path','url('+getLocationHref()+'#'+clipId+')');cpGroup.appendChild(this.layerElement);this.transformedElement=cpGroup;if(layerElementParent){layerElementParent.appendChild(this.transformedElement);}else{this.baseElement=this.transformedElement;}}else{this.layerElement.setAttribute('clip-path','url('+getLocationHref()+'#'+clipId+')');}}if(this.data.bm!==0){this.setBlendMode();}},renderElement:function renderElement(){if(this.finalTransform._matMdf){this.transformedElement.setAttribute('transform',this.finalTransform.mat.to2dCSS());}if(this.finalTransform._opMdf){this.transformedElement.setAttribute('opacity',this.finalTransform.mProp.o.v);}},destroyBaseElement:function destroyBaseElement(){this.layerElement=null;this.matteElement=null;this.maskManager.destroy();},getBaseElement:function getBaseElement(){if(this.data.hd){return null;}return this.baseElement;},createRenderableComponents:function createRenderableComponents(){this.maskManager=new MaskElement(this.data,this,this.globalData);this.renderableEffectsManager=new SVGEffects(this);},setMatte:function setMatte(id){if(!this.matteElement){return;}this.matteElement.setAttribute('mask','url('+getLocationHref()+'#'+id+')');}};/**\n   * @file\n   * Handles AE's layer parenting property.\n   *\n   */function HierarchyElement(){}HierarchyElement.prototype={/**\n       * @function\n       * Initializes hierarchy properties\n       *\n       */initHierarchy:function initHierarchy(){// element's parent list\nthis.hierarchy=[];// if element is parent of another layer _isParent will be true\nthis._isParent=false;this.checkParenting();},/**\n       * @function\n       * Sets layer's hierarchy.\n       * @param {array} hierarch\n       * layer's parent list\n       *\n       */setHierarchy:function setHierarchy(hierarchy){this.hierarchy=hierarchy;},/**\n       * @function\n       * Sets layer as parent.\n       *\n       */setAsParent:function setAsParent(){this._isParent=true;},/**\n       * @function\n       * Searches layer's parenting chain\n       *\n       */checkParenting:function checkParenting(){if(this.data.parent!==undefined){this.comp.buildElementParenting(this,this.data.parent,[]);}}};function RenderableDOMElement(){}(function(){var _prototype={initElement:function initElement(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initTransform(data,globalData,comp);this.initHierarchy();this.initRenderable();this.initRendererElement();this.createContainerElements();this.createRenderableComponents();this.createContent();this.hide();},hide:function hide(){// console.log('HIDE', this);\nif(!this.hidden&&(!this.isInRange||this.isTransparent)){var elem=this.baseElement||this.layerElement;elem.style.display='none';this.hidden=true;}},show:function show(){// console.log('SHOW', this);\nif(this.isInRange&&!this.isTransparent){if(!this.data.hd){var elem=this.baseElement||this.layerElement;elem.style.display='block';}this.hidden=false;this._isFirstFrame=true;}},renderFrame:function renderFrame(){// If it is exported as hidden (data.hd === true) no need to render\n// If it is not visible no need to render\nif(this.data.hd||this.hidden){return;}this.renderTransform();this.renderRenderable();this.renderElement();this.renderInnerContent();if(this._isFirstFrame){this._isFirstFrame=false;}},renderInnerContent:function renderInnerContent(){},prepareFrame:function prepareFrame(num){this._mdf=false;this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);this.checkTransparency();},destroy:function destroy(){this.innerElem=null;this.destroyBaseElement();}};extendPrototype([RenderableElement,createProxyFunction(_prototype)],RenderableDOMElement);})();function IImageElement(data,globalData,comp){this.assetData=globalData.getAssetData(data.refId);this.initElement(data,globalData,comp);this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h};}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement);IImageElement.prototype.createContent=function(){var assetPath=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS('image');this.innerElem.setAttribute('width',this.assetData.w+'px');this.innerElem.setAttribute('height',this.assetData.h+'px');this.innerElem.setAttribute('preserveAspectRatio',this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio);this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);this.layerElement.appendChild(this.innerElem);};IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect;};function ProcessedElement(element,position){this.elem=element;this.pos=position;}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function addShapeToModifiers(data){var i;var len=this.shapeModifiers.length;for(i=0;i<len;i+=1){this.shapeModifiers[i].addShape(data);}},isShapeInAnimatedModifiers:function isShapeInAnimatedModifiers(data){var i=0;var len=this.shapeModifiers.length;while(i<len){if(this.shapeModifiers[i].isAnimatedWithShape(data)){return true;}}return false;},renderModifiers:function renderModifiers(){if(!this.shapeModifiers.length){return;}var i;var len=this.shapes.length;for(i=0;i<len;i+=1){this.shapes[i].sh.reset();}len=this.shapeModifiers.length;var shouldBreakProcess;for(i=len-1;i>=0;i-=1){shouldBreakProcess=this.shapeModifiers[i].processShapes(this._isFirstFrame);// workaround to fix cases where a repeater resets the shape so the following processes get called twice\n// TODO: find a better solution for this\nif(shouldBreakProcess){break;}}},searchProcessedElement:function searchProcessedElement(elem){var elements=this.processedElements;var i=0;var len=elements.length;while(i<len){if(elements[i].elem===elem){return elements[i].pos;}i+=1;}return 0;},addProcessedElement:function addProcessedElement(elem,pos){var elements=this.processedElements;var i=elements.length;while(i){i-=1;if(elements[i].elem===elem){elements[i].pos=pos;return;}}elements.push(new ProcessedElement(elem,pos));},prepareFrame:function prepareFrame(num){this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);}};var lineCapEnum={1:'butt',2:'round',3:'square'};var lineJoinEnum={1:'miter',2:'round',3:'bevel'};function SVGShapeData(transformers,level,shape){this.caches=[];this.styles=[];this.transformers=transformers;this.lStr='';this.sh=shape;this.lvl=level;// TODO find if there are some cases where _isAnimated can be false.\n// For now, since shapes add up with other shapes. They have to be calculated every time.\n// One way of finding out is checking if all styles associated to this shape depend only of this shape\nthis._isAnimated=!!shape.k;// TODO: commenting this for now since all shapes are animated\nvar i=0;var len=transformers.length;while(i<len){if(transformers[i].mProps.dynamicProperties.length){this._isAnimated=true;break;}i+=1;}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=true;};function SVGStyleData(data,level){this.data=data;this.type=data.ty;this.d='';this.lvl=level;this._mdf=false;this.closed=data.hd===true;this.pElem=createNS('path');this.msElem=null;}SVGStyleData.prototype.reset=function(){this.d='';this._mdf=false;};function DashProperty(elem,data,renderer,container){this.elem=elem;this.frameId=-1;this.dataProps=createSizedArray(data.length);this.renderer=renderer;this.k=false;this.dashStr='';this.dashArray=createTypedArray('float32',data.length?data.length-1:0);this.dashoffset=createTypedArray('float32',1);this.initDynamicPropertyContainer(container);var i;var len=data.length||0;var prop;for(i=0;i<len;i+=1){prop=PropertyFactory.getProp(elem,data[i].v,0,0,this);this.k=prop.k||this.k;this.dataProps[i]={n:data[i].n,p:prop};}if(!this.k){this.getValue(true);}this._isAnimated=this.k;}DashProperty.prototype.getValue=function(forceRender){if(this.elem.globalData.frameId===this.frameId&&!forceRender){return;}this.frameId=this.elem.globalData.frameId;this.iterateDynamicProperties();this._mdf=this._mdf||forceRender;if(this._mdf){var i=0;var len=this.dataProps.length;if(this.renderer==='svg'){this.dashStr='';}for(i=0;i<len;i+=1){if(this.dataProps[i].n!=='o'){if(this.renderer==='svg'){this.dashStr+=' '+this.dataProps[i].p.v;}else{this.dashArray[i]=this.dataProps[i].p.v;}}else{this.dashoffset[0]=this.dataProps[i].p.v;}}}};extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.o=PropertyFactory.getProp(elem,data.o,0,0.01,this);this.w=PropertyFactory.getProp(elem,data.w,0,null,this);this.d=new DashProperty(elem,data.d||{},'svg',this);this.c=PropertyFactory.getProp(elem,data.c,1,255,this);this.style=styleOb;this._isAnimated=!!this._isAnimated;}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.o=PropertyFactory.getProp(elem,data.o,0,0.01,this);this.c=PropertyFactory.getProp(elem,data.c,1,255,this);this.style=styleOb;}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.style=styleOb;}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(elem,data,container){this.data=data;this.c=createTypedArray('uint8c',data.p*4);var cLength=data.k.k[0].s?data.k.k[0].s.length-data.p*4:data.k.k.length-data.p*4;this.o=createTypedArray('float32',cLength);this._cmdf=false;this._omdf=false;this._collapsable=this.checkCollapsable();this._hasOpacity=cLength;this.initDynamicPropertyContainer(container);this.prop=PropertyFactory.getProp(elem,data.k,1,null,this);this.k=this.prop.k;this.getValue(true);}GradientProperty.prototype.comparePoints=function(values,points){var i=0;var len=this.o.length/2;var diff;while(i<len){diff=Math.abs(values[i*4]-values[points*4+i*2]);if(diff>0.01){return false;}i+=1;}return true;};GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4){return false;}if(this.data.k.k[0].s){var i=0;var len=this.data.k.k.length;while(i<len){if(!this.comparePoints(this.data.k.k[i].s,this.data.p)){return false;}i+=1;}}else if(!this.comparePoints(this.data.k.k,this.data.p)){return false;}return true;};GradientProperty.prototype.getValue=function(forceRender){this.prop.getValue();this._mdf=false;this._cmdf=false;this._omdf=false;if(this.prop._mdf||forceRender){var i;var len=this.data.p*4;var mult;var val;for(i=0;i<len;i+=1){mult=i%4===0?100:255;val=Math.round(this.prop.v[i]*mult);if(this.c[i]!==val){this.c[i]=val;this._cmdf=!forceRender;}}if(this.o.length){len=this.prop.v.length;for(i=this.data.p*4;i<len;i+=1){mult=i%2===0?100:1;val=i%2===0?Math.round(this.prop.v[i]*100):this.prop.v[i];if(this.o[i-this.data.p*4]!==val){this.o[i-this.data.p*4]=val;this._omdf=!forceRender;}}}this._mdf=!forceRender;}};extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.initGradientData(elem,data,styleOb);}SVGGradientFillStyleData.prototype.initGradientData=function(elem,data,styleOb){this.o=PropertyFactory.getProp(elem,data.o,0,0.01,this);this.s=PropertyFactory.getProp(elem,data.s,1,null,this);this.e=PropertyFactory.getProp(elem,data.e,1,null,this);this.h=PropertyFactory.getProp(elem,data.h||{k:0},0,0.01,this);this.a=PropertyFactory.getProp(elem,data.a||{k:0},0,degToRads,this);this.g=new GradientProperty(elem,data.g,this);this.style=styleOb;this.stops=[];this.setGradientData(styleOb.pElem,data);this.setGradientOpacity(data,styleOb);this._isAnimated=!!this._isAnimated;};SVGGradientFillStyleData.prototype.setGradientData=function(pathElement,data){var gradientId=createElementID();var gfill=createNS(data.t===1?'linearGradient':'radialGradient');gfill.setAttribute('id',gradientId);gfill.setAttribute('spreadMethod','pad');gfill.setAttribute('gradientUnits','userSpaceOnUse');var stops=[];var stop;var j;var jLen;jLen=data.g.p*4;for(j=0;j<jLen;j+=4){stop=createNS('stop');gfill.appendChild(stop);stops.push(stop);}pathElement.setAttribute(data.ty==='gf'?'fill':'stroke','url('+getLocationHref()+'#'+gradientId+')');this.gf=gfill;this.cst=stops;};SVGGradientFillStyleData.prototype.setGradientOpacity=function(data,styleOb){if(this.g._hasOpacity&&!this.g._collapsable){var stop;var j;var jLen;var mask=createNS('mask');var maskElement=createNS('path');mask.appendChild(maskElement);var opacityId=createElementID();var maskId=createElementID();mask.setAttribute('id',maskId);var opFill=createNS(data.t===1?'linearGradient':'radialGradient');opFill.setAttribute('id',opacityId);opFill.setAttribute('spreadMethod','pad');opFill.setAttribute('gradientUnits','userSpaceOnUse');jLen=data.g.k.k[0].s?data.g.k.k[0].s.length:data.g.k.k.length;var stops=this.stops;for(j=data.g.p*4;j<jLen;j+=2){stop=createNS('stop');stop.setAttribute('stop-color','rgb(255,255,255)');opFill.appendChild(stop);stops.push(stop);}maskElement.setAttribute(data.ty==='gf'?'fill':'stroke','url('+getLocationHref()+'#'+opacityId+')');if(data.ty==='gs'){maskElement.setAttribute('stroke-linecap',lineCapEnum[data.lc||2]);maskElement.setAttribute('stroke-linejoin',lineJoinEnum[data.lj||2]);if(data.lj===1){maskElement.setAttribute('stroke-miterlimit',data.ml);}}this.of=opFill;this.ms=mask;this.ost=stops;this.maskId=maskId;styleOb.msElem=maskElement;}};extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(elem,data,styleOb){this.initDynamicPropertyContainer(elem);this.getValue=this.iterateDynamicProperties;this.w=PropertyFactory.getProp(elem,data.w,0,null,this);this.d=new DashProperty(elem,data.d||{},'svg',this);this.initGradientData(elem,data,styleOb);this._isAnimated=!!this._isAnimated;}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[];this.prevViewData=[];this.gr=createNS('g');}function SVGTransformData(mProps,op,container){this.transform={mProps:mProps,op:op,container:container};this.elements=[];this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length;}var buildShapeString=function buildShapeString(pathNodes,length,closed,mat){if(length===0){return'';}var _o=pathNodes.o;var _i=pathNodes.i;var _v=pathNodes.v;var i;var shapeString=' M'+mat.applyToPointStringified(_v[0][0],_v[0][1]);for(i=1;i<length;i+=1){shapeString+=' C'+mat.applyToPointStringified(_o[i-1][0],_o[i-1][1])+' '+mat.applyToPointStringified(_i[i][0],_i[i][1])+' '+mat.applyToPointStringified(_v[i][0],_v[i][1]);}if(closed&&length){shapeString+=' C'+mat.applyToPointStringified(_o[i-1][0],_o[i-1][1])+' '+mat.applyToPointStringified(_i[0][0],_i[0][1])+' '+mat.applyToPointStringified(_v[0][0],_v[0][1]);shapeString+='z';}return shapeString;};var SVGElementsRenderer=function(){var _identityMatrix=new Matrix();var _matrixHelper=new Matrix();var ob={createRenderFunction:createRenderFunction};function createRenderFunction(data){switch(data.ty){case'fl':return renderFill;case'gf':return renderGradient;case'gs':return renderGradientStroke;case'st':return renderStroke;case'sh':case'el':case'rc':case'sr':return renderPath;case'tr':return renderContentTransform;case'no':return renderNoop;default:return null;}}function renderContentTransform(styleData,itemData,isFirstFrame){if(isFirstFrame||itemData.transform.op._mdf){itemData.transform.container.setAttribute('opacity',itemData.transform.op.v);}if(isFirstFrame||itemData.transform.mProps._mdf){itemData.transform.container.setAttribute('transform',itemData.transform.mProps.v.to2dCSS());}}function renderNoop(){}function renderPath(styleData,itemData,isFirstFrame){var j;var jLen;var pathStringTransformed;var redraw;var pathNodes;var l;var lLen=itemData.styles.length;var lvl=itemData.lvl;var paths;var mat;var props;var iterations;var k;for(l=0;l<lLen;l+=1){redraw=itemData.sh._mdf||isFirstFrame;if(itemData.styles[l].lvl<lvl){mat=_matrixHelper.reset();iterations=lvl-itemData.styles[l].lvl;k=itemData.transformers.length-1;while(!redraw&&iterations>0){redraw=itemData.transformers[k].mProps._mdf||redraw;iterations-=1;k-=1;}if(redraw){iterations=lvl-itemData.styles[l].lvl;k=itemData.transformers.length-1;while(iterations>0){props=itemData.transformers[k].mProps.v.props;mat.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);iterations-=1;k-=1;}}}else{mat=_identityMatrix;}paths=itemData.sh.paths;jLen=paths._length;if(redraw){pathStringTransformed='';for(j=0;j<jLen;j+=1){pathNodes=paths.shapes[j];if(pathNodes&&pathNodes._length){pathStringTransformed+=buildShapeString(pathNodes,pathNodes._length,pathNodes.c,mat);}}itemData.caches[l]=pathStringTransformed;}else{pathStringTransformed=itemData.caches[l];}itemData.styles[l].d+=styleData.hd===true?'':pathStringTransformed;itemData.styles[l]._mdf=redraw||itemData.styles[l]._mdf;}}function renderFill(styleData,itemData,isFirstFrame){var styleElem=itemData.style;if(itemData.c._mdf||isFirstFrame){styleElem.pElem.setAttribute('fill','rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')');}if(itemData.o._mdf||isFirstFrame){styleElem.pElem.setAttribute('fill-opacity',itemData.o.v);}}function renderGradientStroke(styleData,itemData,isFirstFrame){renderGradient(styleData,itemData,isFirstFrame);renderStroke(styleData,itemData,isFirstFrame);}function renderGradient(styleData,itemData,isFirstFrame){var gfill=itemData.gf;var hasOpacity=itemData.g._hasOpacity;var pt1=itemData.s.v;var pt2=itemData.e.v;if(itemData.o._mdf||isFirstFrame){var attr=styleData.ty==='gf'?'fill-opacity':'stroke-opacity';itemData.style.pElem.setAttribute(attr,itemData.o.v);}if(itemData.s._mdf||isFirstFrame){var attr1=styleData.t===1?'x1':'cx';var attr2=attr1==='x1'?'y1':'cy';gfill.setAttribute(attr1,pt1[0]);gfill.setAttribute(attr2,pt1[1]);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute(attr1,pt1[0]);itemData.of.setAttribute(attr2,pt1[1]);}}var stops;var i;var len;var stop;if(itemData.g._cmdf||isFirstFrame){stops=itemData.cst;var cValues=itemData.g.c;len=stops.length;for(i=0;i<len;i+=1){stop=stops[i];stop.setAttribute('offset',cValues[i*4]+'%');stop.setAttribute('stop-color','rgb('+cValues[i*4+1]+','+cValues[i*4+2]+','+cValues[i*4+3]+')');}}if(hasOpacity&&(itemData.g._omdf||isFirstFrame)){var oValues=itemData.g.o;if(itemData.g._collapsable){stops=itemData.cst;}else{stops=itemData.ost;}len=stops.length;for(i=0;i<len;i+=1){stop=stops[i];if(!itemData.g._collapsable){stop.setAttribute('offset',oValues[i*2]+'%');}stop.setAttribute('stop-opacity',oValues[i*2+1]);}}if(styleData.t===1){if(itemData.e._mdf||isFirstFrame){gfill.setAttribute('x2',pt2[0]);gfill.setAttribute('y2',pt2[1]);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute('x2',pt2[0]);itemData.of.setAttribute('y2',pt2[1]);}}}else{var rad;if(itemData.s._mdf||itemData.e._mdf||isFirstFrame){rad=Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));gfill.setAttribute('r',rad);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute('r',rad);}}if(itemData.e._mdf||itemData.h._mdf||itemData.a._mdf||isFirstFrame){if(!rad){rad=Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));}var ang=Math.atan2(pt2[1]-pt1[1],pt2[0]-pt1[0]);var percent=itemData.h.v;if(percent>=1){percent=0.99;}else if(percent<=-1){percent=-0.99;}var dist=rad*percent;var x=Math.cos(ang+itemData.a.v)*dist+pt1[0];var y=Math.sin(ang+itemData.a.v)*dist+pt1[1];gfill.setAttribute('fx',x);gfill.setAttribute('fy',y);if(hasOpacity&&!itemData.g._collapsable){itemData.of.setAttribute('fx',x);itemData.of.setAttribute('fy',y);}}// gfill.setAttribute('fy','200');\n}}function renderStroke(styleData,itemData,isFirstFrame){var styleElem=itemData.style;var d=itemData.d;if(d&&(d._mdf||isFirstFrame)&&d.dashStr){styleElem.pElem.setAttribute('stroke-dasharray',d.dashStr);styleElem.pElem.setAttribute('stroke-dashoffset',d.dashoffset[0]);}if(itemData.c&&(itemData.c._mdf||isFirstFrame)){styleElem.pElem.setAttribute('stroke','rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')');}if(itemData.o._mdf||isFirstFrame){styleElem.pElem.setAttribute('stroke-opacity',itemData.o.v);}if(itemData.w._mdf||isFirstFrame){styleElem.pElem.setAttribute('stroke-width',itemData.w.v);if(styleElem.msElem){styleElem.msElem.setAttribute('stroke-width',itemData.w.v);}}}return ob;}();function SVGShapeElement(data,globalData,comp){// List of drawable elements\nthis.shapes=[];// Full shape data\nthis.shapesData=data.shapes;// List of styles that will be applied to shapes\nthis.stylesList=[];// List of modifiers that will be applied to shapes\nthis.shapeModifiers=[];// List of items in shape tree\nthis.itemsData=[];// List of items in previous shape tree\nthis.processedElements=[];// List of animated components\nthis.animatedContents=[];this.initElement(data,globalData,comp);// Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n// List of elements that have been created\nthis.prevViewData=[];// Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement);SVGShapeElement.prototype.initSecondaryElement=function(){};SVGShapeElement.prototype.identityMatrix=new Matrix();SVGShapeElement.prototype.buildExpressionInterface=function(){};SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],true);this.filterUniqueShapes();};/*\n  This method searches for multiple shapes that affect a single element and one of them is animated\n  */SVGShapeElement.prototype.filterUniqueShapes=function(){var i;var len=this.shapes.length;var shape;var j;var jLen=this.stylesList.length;var style;var tempShapes=[];var areAnimated=false;for(j=0;j<jLen;j+=1){style=this.stylesList[j];areAnimated=false;tempShapes.length=0;for(i=0;i<len;i+=1){shape=this.shapes[i];if(shape.styles.indexOf(style)!==-1){tempShapes.push(shape);areAnimated=shape._isAnimated||areAnimated;}}if(tempShapes.length>1&&areAnimated){this.setShapesAsAnimated(tempShapes);}}};SVGShapeElement.prototype.setShapesAsAnimated=function(shapes){var i;var len=shapes.length;for(i=0;i<len;i+=1){shapes[i].setAsAnimated();}};SVGShapeElement.prototype.createStyleElement=function(data,level){// TODO: prevent drawing of hidden styles\nvar elementData;var styleOb=new SVGStyleData(data,level);var pathElement=styleOb.pElem;if(data.ty==='st'){elementData=new SVGStrokeStyleData(this,data,styleOb);}else if(data.ty==='fl'){elementData=new SVGFillStyleData(this,data,styleOb);}else if(data.ty==='gf'||data.ty==='gs'){var GradientConstructor=data.ty==='gf'?SVGGradientFillStyleData:SVGGradientStrokeStyleData;elementData=new GradientConstructor(this,data,styleOb);this.globalData.defs.appendChild(elementData.gf);if(elementData.maskId){this.globalData.defs.appendChild(elementData.ms);this.globalData.defs.appendChild(elementData.of);pathElement.setAttribute('mask','url('+getLocationHref()+'#'+elementData.maskId+')');}}else if(data.ty==='no'){elementData=new SVGNoStyleData(this,data,styleOb);}if(data.ty==='st'||data.ty==='gs'){pathElement.setAttribute('stroke-linecap',lineCapEnum[data.lc||2]);pathElement.setAttribute('stroke-linejoin',lineJoinEnum[data.lj||2]);pathElement.setAttribute('fill-opacity','0');if(data.lj===1){pathElement.setAttribute('stroke-miterlimit',data.ml);}}if(data.r===2){pathElement.setAttribute('fill-rule','evenodd');}if(data.ln){pathElement.setAttribute('id',data.ln);}if(data.cl){pathElement.setAttribute('class',data.cl);}if(data.bm){pathElement.style['mix-blend-mode']=getBlendMode(data.bm);}this.stylesList.push(styleOb);this.addToAnimatedContents(data,elementData);return elementData;};SVGShapeElement.prototype.createGroupElement=function(data){var elementData=new ShapeGroupData();if(data.ln){elementData.gr.setAttribute('id',data.ln);}if(data.cl){elementData.gr.setAttribute('class',data.cl);}if(data.bm){elementData.gr.style['mix-blend-mode']=getBlendMode(data.bm);}return elementData;};SVGShapeElement.prototype.createTransformElement=function(data,container){var transformProperty=TransformPropertyFactory.getTransformProperty(this,data,this);var elementData=new SVGTransformData(transformProperty,transformProperty.o,container);this.addToAnimatedContents(data,elementData);return elementData;};SVGShapeElement.prototype.createShapeElement=function(data,ownTransformers,level){var ty=4;if(data.ty==='rc'){ty=5;}else if(data.ty==='el'){ty=6;}else if(data.ty==='sr'){ty=7;}var shapeProperty=ShapePropertyFactory.getShapeProp(this,data,ty,this);var elementData=new SVGShapeData(ownTransformers,level,shapeProperty);this.shapes.push(elementData);this.addShapeToModifiers(elementData);this.addToAnimatedContents(data,elementData);return elementData;};SVGShapeElement.prototype.addToAnimatedContents=function(data,element){var i=0;var len=this.animatedContents.length;while(i<len){if(this.animatedContents[i].element===element){return;}i+=1;}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(data),element:element,data:data});};SVGShapeElement.prototype.setElementStyles=function(elementData){var arr=elementData.styles;var j;var jLen=this.stylesList.length;for(j=0;j<jLen;j+=1){if(!this.stylesList[j].closed){arr.push(this.stylesList[j]);}}};SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=true;var i;var len=this.itemsData.length;for(i=0;i<len;i+=1){this.prevViewData[i]=this.itemsData[i];}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],true);this.filterUniqueShapes();len=this.dynamicProperties.length;for(i=0;i<len;i+=1){this.dynamicProperties[i].getValue();}this.renderModifiers();};SVGShapeElement.prototype.searchShapes=function(arr,itemsData,prevViewData,container,level,transformers,render){var ownTransformers=[].concat(transformers);var i;var len=arr.length-1;var j;var jLen;var ownStyles=[];var ownModifiers=[];var currentTransform;var modifier;var processedPos;for(i=len;i>=0;i-=1){processedPos=this.searchProcessedElement(arr[i]);if(!processedPos){arr[i]._render=render;}else{itemsData[i]=prevViewData[processedPos-1];}if(arr[i].ty==='fl'||arr[i].ty==='st'||arr[i].ty==='gf'||arr[i].ty==='gs'||arr[i].ty==='no'){if(!processedPos){itemsData[i]=this.createStyleElement(arr[i],level);}else{itemsData[i].style.closed=false;}if(arr[i]._render){if(itemsData[i].style.pElem.parentNode!==container){container.appendChild(itemsData[i].style.pElem);}}ownStyles.push(itemsData[i].style);}else if(arr[i].ty==='gr'){if(!processedPos){itemsData[i]=this.createGroupElement(arr[i]);}else{jLen=itemsData[i].it.length;for(j=0;j<jLen;j+=1){itemsData[i].prevViewData[j]=itemsData[i].it[j];}}this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,itemsData[i].gr,level+1,ownTransformers,render);if(arr[i]._render){if(itemsData[i].gr.parentNode!==container){container.appendChild(itemsData[i].gr);}}}else if(arr[i].ty==='tr'){if(!processedPos){itemsData[i]=this.createTransformElement(arr[i],container);}currentTransform=itemsData[i].transform;ownTransformers.push(currentTransform);}else if(arr[i].ty==='sh'||arr[i].ty==='rc'||arr[i].ty==='el'||arr[i].ty==='sr'){if(!processedPos){itemsData[i]=this.createShapeElement(arr[i],ownTransformers,level);}this.setElementStyles(itemsData[i]);}else if(arr[i].ty==='tm'||arr[i].ty==='rd'||arr[i].ty==='ms'||arr[i].ty==='pb'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);modifier.init(this,arr[i]);itemsData[i]=modifier;this.shapeModifiers.push(modifier);}else{modifier=itemsData[i];modifier.closed=false;}ownModifiers.push(modifier);}else if(arr[i].ty==='rp'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);itemsData[i]=modifier;modifier.init(this,arr,i,itemsData);this.shapeModifiers.push(modifier);render=false;}else{modifier=itemsData[i];modifier.closed=true;}ownModifiers.push(modifier);}this.addProcessedElement(arr[i],i+1);}len=ownStyles.length;for(i=0;i<len;i+=1){ownStyles[i].closed=true;}len=ownModifiers.length;for(i=0;i<len;i+=1){ownModifiers[i].closed=true;}};SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var i;var len=this.stylesList.length;for(i=0;i<len;i+=1){this.stylesList[i].reset();}this.renderShape();for(i=0;i<len;i+=1){if(this.stylesList[i]._mdf||this._isFirstFrame){if(this.stylesList[i].msElem){this.stylesList[i].msElem.setAttribute('d',this.stylesList[i].d);// Adding M0 0 fixes same mask bug on all browsers\nthis.stylesList[i].d='M0 0'+this.stylesList[i].d;}this.stylesList[i].pElem.setAttribute('d',this.stylesList[i].d||'M0 0');}}};SVGShapeElement.prototype.renderShape=function(){var i;var len=this.animatedContents.length;var animatedContent;for(i=0;i<len;i+=1){animatedContent=this.animatedContents[i];if((this._isFirstFrame||animatedContent.element._isAnimated)&&animatedContent.data!==true){animatedContent.fn(animatedContent.data,animatedContent.element,this._isFirstFrame);}}};SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement();this.shapesData=null;this.itemsData=null;};function LetterProps(o,sw,sc,fc,m,p){this.o=o;this.sw=sw;this.sc=sc;this.fc=fc;this.m=m;this.p=p;this._mdf={o:true,sw:!!sw,sc:!!sc,fc:!!fc,m:true,p:true};}LetterProps.prototype.update=function(o,sw,sc,fc,m,p){this._mdf.o=false;this._mdf.sw=false;this._mdf.sc=false;this._mdf.fc=false;this._mdf.m=false;this._mdf.p=false;var updated=false;if(this.o!==o){this.o=o;this._mdf.o=true;updated=true;}if(this.sw!==sw){this.sw=sw;this._mdf.sw=true;updated=true;}if(this.sc!==sc){this.sc=sc;this._mdf.sc=true;updated=true;}if(this.fc!==fc){this.fc=fc;this._mdf.fc=true;updated=true;}if(this.m!==m){this.m=m;this._mdf.m=true;updated=true;}if(p.length&&(this.p[0]!==p[0]||this.p[1]!==p[1]||this.p[4]!==p[4]||this.p[5]!==p[5]||this.p[12]!==p[12]||this.p[13]!==p[13])){this.p=p;this._mdf.p=true;updated=true;}return updated;};function TextProperty(elem,data){this._frameId=initialDefaultFrame;this.pv='';this.v='';this.kf=false;this._isFirstFrame=true;this._mdf=false;this.data=data;this.elem=elem;this.comp=this.elem.comp;this.keysIndex=0;this.canResize=false;this.minimumFontSize=1;this.effectsSequence=[];this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:'',fStyle:'',fWeight:'',fc:'',j:'',justifyOffset:'',l:[],lh:0,lineWidths:[],ls:'',of:'',s:'',sc:'',sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:false,strokeColorAnim:false,strokeWidthAnim:false,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:false};this.copyData(this.currentData,this.data.d.k[0].s);if(!this.searchProperty()){this.completeTextData(this.currentData);}}TextProperty.prototype.defaultBoxWidth=[0,0];TextProperty.prototype.copyData=function(obj,data){for(var s in data){if(Object.prototype.hasOwnProperty.call(data,s)){obj[s]=data[s];}}return obj;};TextProperty.prototype.setCurrentData=function(data){if(!data.__complete){this.completeTextData(data);}this.currentData=data;this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth;this._mdf=true;};TextProperty.prototype.searchProperty=function(){return this.searchKeyframes();};TextProperty.prototype.searchKeyframes=function(){this.kf=this.data.d.k.length>1;if(this.kf){this.addEffect(this.getKeyframeValue.bind(this));}return this.kf;};TextProperty.prototype.addEffect=function(effectFunction){this.effectsSequence.push(effectFunction);this.elem.addDynamicProperty(this);};TextProperty.prototype.getValue=function(_finalValue){if((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!_finalValue){return;}this.currentData.t=this.data.d.k[this.keysIndex].s.t;var currentValue=this.currentData;var currentIndex=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return;}this.lock=true;this._mdf=false;var i;var len=this.effectsSequence.length;var finalValue=_finalValue||this.data.d.k[this.keysIndex].s;for(i=0;i<len;i+=1){// Checking if index changed to prevent creating a new object every time the expression updates.\nif(currentIndex!==this.keysIndex){finalValue=this.effectsSequence[i](finalValue,finalValue.t);}else{finalValue=this.effectsSequence[i](this.currentData,finalValue.t);}}if(currentValue!==finalValue){this.setCurrentData(finalValue);}this.v=this.currentData;this.pv=this.v;this.lock=false;this.frameId=this.elem.globalData.frameId;};TextProperty.prototype.getKeyframeValue=function(){var textKeys=this.data.d.k;var frameNum=this.elem.comp.renderedFrame;var i=0;var len=textKeys.length;while(i<=len-1){if(i===len-1||textKeys[i+1].t>frameNum){break;}i+=1;}if(this.keysIndex!==i){this.keysIndex=i;}return this.data.d.k[this.keysIndex].s;};TextProperty.prototype.buildFinalText=function(text){var charactersArray=[];var i=0;var len=text.length;var charCode;var secondCharCode;var shouldCombine=false;while(i<len){charCode=text.charCodeAt(i);if(FontManager.isCombinedCharacter(charCode)){charactersArray[charactersArray.length-1]+=text.charAt(i);}else if(charCode>=0xD800&&charCode<=0xDBFF){secondCharCode=text.charCodeAt(i+1);if(secondCharCode>=0xDC00&&secondCharCode<=0xDFFF){if(shouldCombine||FontManager.isModifier(charCode,secondCharCode)){charactersArray[charactersArray.length-1]+=text.substr(i,2);shouldCombine=false;}else{charactersArray.push(text.substr(i,2));}i+=1;}else{charactersArray.push(text.charAt(i));}}else if(charCode>0xDBFF){secondCharCode=text.charCodeAt(i+1);if(FontManager.isZeroWidthJoiner(charCode,secondCharCode)){shouldCombine=true;charactersArray[charactersArray.length-1]+=text.substr(i,2);i+=1;}else{charactersArray.push(text.charAt(i));}}else if(FontManager.isZeroWidthJoiner(charCode)){charactersArray[charactersArray.length-1]+=text.charAt(i);shouldCombine=true;}else{charactersArray.push(text.charAt(i));}i+=1;}return charactersArray;};TextProperty.prototype.completeTextData=function(documentData){documentData.__complete=true;var fontManager=this.elem.globalData.fontManager;var data=this.data;var letters=[];var i;var len;var newLineFlag;var index=0;var val;var anchorGrouping=data.m.g;var currentSize=0;var currentPos=0;var currentLine=0;var lineWidths=[];var lineWidth=0;var maxLineWidth=0;var j;var jLen;var fontData=fontManager.getFontByName(documentData.f);var charData;var cLength=0;var fontProps=getFontProperties(fontData);documentData.fWeight=fontProps.weight;documentData.fStyle=fontProps.style;documentData.finalSize=documentData.s;documentData.finalText=this.buildFinalText(documentData.t);len=documentData.finalText.length;documentData.finalLineHeight=documentData.lh;var trackingOffset=documentData.tr/1000*documentData.finalSize;var charCode;if(documentData.sz){var flag=true;var boxWidth=documentData.sz[0];var boxHeight=documentData.sz[1];var currentHeight;var finalText;while(flag){finalText=this.buildFinalText(documentData.t);currentHeight=0;lineWidth=0;len=finalText.length;trackingOffset=documentData.tr/1000*documentData.finalSize;var lastSpaceIndex=-1;for(i=0;i<len;i+=1){charCode=finalText[i].charCodeAt(0);newLineFlag=false;if(finalText[i]===' '){lastSpaceIndex=i;}else if(charCode===13||charCode===3){lineWidth=0;newLineFlag=true;currentHeight+=documentData.finalLineHeight||documentData.finalSize*1.2;}if(fontManager.chars){charData=fontManager.getCharData(finalText[i],fontData.fStyle,fontData.fFamily);cLength=newLineFlag?0:charData.w*documentData.finalSize/100;}else{// tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\ncLength=fontManager.measureText(finalText[i],documentData.f,documentData.finalSize);}if(lineWidth+cLength>boxWidth&&finalText[i]!==' '){if(lastSpaceIndex===-1){len+=1;}else{i=lastSpaceIndex;}currentHeight+=documentData.finalLineHeight||documentData.finalSize*1.2;finalText.splice(i,lastSpaceIndex===i?1:0,'\\r');// finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\nlastSpaceIndex=-1;lineWidth=0;}else{lineWidth+=cLength;lineWidth+=trackingOffset;}}currentHeight+=fontData.ascent*documentData.finalSize/100;if(this.canResize&&documentData.finalSize>this.minimumFontSize&&boxHeight<currentHeight){documentData.finalSize-=1;documentData.finalLineHeight=documentData.finalSize*documentData.lh/documentData.s;}else{documentData.finalText=finalText;len=documentData.finalText.length;flag=false;}}}lineWidth=-trackingOffset;cLength=0;var uncollapsedSpaces=0;var currentChar;for(i=0;i<len;i+=1){newLineFlag=false;currentChar=documentData.finalText[i];charCode=currentChar.charCodeAt(0);if(charCode===13||charCode===3){uncollapsedSpaces=0;lineWidths.push(lineWidth);maxLineWidth=lineWidth>maxLineWidth?lineWidth:maxLineWidth;lineWidth=-2*trackingOffset;val='';newLineFlag=true;currentLine+=1;}else{val=currentChar;}if(fontManager.chars){charData=fontManager.getCharData(currentChar,fontData.fStyle,fontManager.getFontByName(documentData.f).fFamily);cLength=newLineFlag?0:charData.w*documentData.finalSize/100;}else{// var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n// tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\ncLength=fontManager.measureText(val,documentData.f,documentData.finalSize);}//\nif(currentChar===' '){uncollapsedSpaces+=cLength+trackingOffset;}else{lineWidth+=cLength+trackingOffset+uncollapsedSpaces;uncollapsedSpaces=0;}letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag,anIndexes:[],val:val,line:currentLine,animatorJustifyOffset:0});if(anchorGrouping==2){// eslint-disable-line eqeqeq\ncurrentSize+=cLength;if(val===''||val===' '||i===len-1){if(val===''||val===' '){currentSize-=cLength;}while(currentPos<=i){letters[currentPos].an=currentSize;letters[currentPos].ind=index;letters[currentPos].extra=cLength;currentPos+=1;}index+=1;currentSize=0;}}else if(anchorGrouping==3){// eslint-disable-line eqeqeq\ncurrentSize+=cLength;if(val===''||i===len-1){if(val===''){currentSize-=cLength;}while(currentPos<=i){letters[currentPos].an=currentSize;letters[currentPos].ind=index;letters[currentPos].extra=cLength;currentPos+=1;}currentSize=0;index+=1;}}else{letters[index].ind=index;letters[index].extra=0;index+=1;}}documentData.l=letters;maxLineWidth=lineWidth>maxLineWidth?lineWidth:maxLineWidth;lineWidths.push(lineWidth);if(documentData.sz){documentData.boxWidth=documentData.sz[0];documentData.justifyOffset=0;}else{documentData.boxWidth=maxLineWidth;switch(documentData.j){case 1:documentData.justifyOffset=-documentData.boxWidth;break;case 2:documentData.justifyOffset=-documentData.boxWidth/2;break;default:documentData.justifyOffset=0;}}documentData.lineWidths=lineWidths;var animators=data.a;var animatorData;var letterData;jLen=animators.length;var based;var ind;var indexes=[];for(j=0;j<jLen;j+=1){animatorData=animators[j];if(animatorData.a.sc){documentData.strokeColorAnim=true;}if(animatorData.a.sw){documentData.strokeWidthAnim=true;}if(animatorData.a.fc||animatorData.a.fh||animatorData.a.fs||animatorData.a.fb){documentData.fillColorAnim=true;}ind=0;based=animatorData.s.b;for(i=0;i<len;i+=1){letterData=letters[i];letterData.anIndexes[j]=ind;if(based==1&&letterData.val!==''||based==2&&letterData.val!==''&&letterData.val!==' '||based==3&&(letterData.n||letterData.val==' '||i==len-1)||based==4&&(letterData.n||i==len-1)){// eslint-disable-line eqeqeq\nif(animatorData.s.rn===1){indexes.push(ind);}ind+=1;}}data.a[j].s.totalChars=ind;var currentInd=-1;var newInd;if(animatorData.s.rn===1){for(i=0;i<len;i+=1){letterData=letters[i];if(currentInd!=letterData.anIndexes[j]){// eslint-disable-line eqeqeq\ncurrentInd=letterData.anIndexes[j];newInd=indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];}letterData.anIndexes[j]=newInd;}}}documentData.yOffset=documentData.finalLineHeight||documentData.finalSize*1.2;documentData.ls=documentData.ls||0;documentData.ascent=fontData.ascent*documentData.finalSize/100;};TextProperty.prototype.updateDocumentData=function(newData,index){index=index===undefined?this.keysIndex:index;var dData=this.copyData({},this.data.d.k[index].s);dData=this.copyData(dData,newData);this.data.d.k[index].s=dData;this.recalculate(index);this.elem.addDynamicProperty(this);};TextProperty.prototype.recalculate=function(index){var dData=this.data.d.k[index].s;dData.__complete=false;this.keysIndex=0;this._isFirstFrame=true;this.getValue(dData);};TextProperty.prototype.canResizeFont=function(_canResize){this.canResize=_canResize;this.recalculate(this.keysIndex);this.elem.addDynamicProperty(this);};TextProperty.prototype.setMinimumFontSize=function(_fontValue){this.minimumFontSize=Math.floor(_fontValue)||1;this.recalculate(this.keysIndex);this.elem.addDynamicProperty(this);};var TextSelectorProp=function(){var max=Math.max;var min=Math.min;var floor=Math.floor;function TextSelectorPropFactory(elem,data){this._currentTextLength=-1;this.k=false;this.data=data;this.elem=elem;this.comp=elem.comp;this.finalS=0;this.finalE=0;this.initDynamicPropertyContainer(elem);this.s=PropertyFactory.getProp(elem,data.s||{k:0},0,0,this);if('e'in data){this.e=PropertyFactory.getProp(elem,data.e,0,0,this);}else{this.e={v:100};}this.o=PropertyFactory.getProp(elem,data.o||{k:0},0,0,this);this.xe=PropertyFactory.getProp(elem,data.xe||{k:0},0,0,this);this.ne=PropertyFactory.getProp(elem,data.ne||{k:0},0,0,this);this.sm=PropertyFactory.getProp(elem,data.sm||{k:100},0,0,this);this.a=PropertyFactory.getProp(elem,data.a,0,0.01,this);if(!this.dynamicProperties.length){this.getValue();}}TextSelectorPropFactory.prototype={getMult:function getMult(ind){if(this._currentTextLength!==this.elem.textProperty.currentData.l.length){this.getValue();}var x1=0;var y1=0;var x2=1;var y2=1;if(this.ne.v>0){x1=this.ne.v/100.0;}else{y1=-this.ne.v/100.0;}if(this.xe.v>0){x2=1.0-this.xe.v/100.0;}else{y2=1.0+this.xe.v/100.0;}var easer=BezierFactory.getBezierEasing(x1,y1,x2,y2).get;var mult=0;var s=this.finalS;var e=this.finalE;var type=this.data.sh;if(type===2){if(e===s){mult=ind>=e?1:0;}else{mult=max(0,min(0.5/(e-s)+(ind-s)/(e-s),1));}mult=easer(mult);}else if(type===3){if(e===s){mult=ind>=e?0:1;}else{mult=1-max(0,min(0.5/(e-s)+(ind-s)/(e-s),1));}mult=easer(mult);}else if(type===4){if(e===s){mult=0;}else{mult=max(0,min(0.5/(e-s)+(ind-s)/(e-s),1));if(mult<0.5){mult*=2;}else{mult=1-2*(mult-0.5);}}mult=easer(mult);}else if(type===5){if(e===s){mult=0;}else{var tot=e-s;/* ind += 0.5;\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */ind=min(max(0,ind+0.5-s),e-s);var x=-tot/2+ind;var a=tot/2;mult=Math.sqrt(1-x*x/(a*a));}mult=easer(mult);}else if(type===6){if(e===s){mult=0;}else{ind=min(max(0,ind+0.5-s),e-s);mult=(1+Math.cos(Math.PI+Math.PI*2*ind/(e-s)))/2;// eslint-disable-line\n}mult=easer(mult);}else{if(ind>=floor(s)){if(ind-s<0){mult=max(0,min(min(e,1)-(s-ind),1));}else{mult=max(0,min(e-ind,1));}}mult=easer(mult);}// Smoothness implementation.\n// The smoothness represents a reduced range of the original [0; 1] range.\n// if smoothness is 25%, the new range will be [0.375; 0.625]\n// Steps are:\n// - find the lower value of the new range (threshold)\n// - if multiplier is smaller than that value, floor it to 0\n// - if it is larger,\n//     - subtract the threshold\n//     - divide it by the smoothness (this will return the range to [0; 1])\n// Note: If it doesn't work on some scenarios, consider applying it before the easer.\nif(this.sm.v!==100){var smoothness=this.sm.v*0.01;if(smoothness===0){smoothness=0.00000001;}var threshold=0.5-smoothness*0.5;if(mult<threshold){mult=0;}else{mult=(mult-threshold)/smoothness;if(mult>1){mult=1;}}}return mult*this.a.v;},getValue:function getValue(newCharsFlag){this.iterateDynamicProperties();this._mdf=newCharsFlag||this._mdf;this._currentTextLength=this.elem.textProperty.currentData.l.length||0;if(newCharsFlag&&this.data.r===2){this.e.v=this._currentTextLength;}var divisor=this.data.r===2?1:100/this.data.totalChars;var o=this.o.v/divisor;var s=this.s.v/divisor+o;var e=this.e.v/divisor+o;if(s>e){var _s=s;s=e;e=_s;}this.finalS=s;this.finalE=e;}};extendPrototype([DynamicPropertyContainer],TextSelectorPropFactory);function getTextSelectorProp(elem,data,arr){return new TextSelectorPropFactory(elem,data,arr);}return{getTextSelectorProp:getTextSelectorProp};}();function TextAnimatorDataProperty(elem,animatorProps,container){var defaultData={propType:false};var getProp=PropertyFactory.getProp;var textAnimatorAnimatables=animatorProps.a;this.a={r:textAnimatorAnimatables.r?getProp(elem,textAnimatorAnimatables.r,0,degToRads,container):defaultData,rx:textAnimatorAnimatables.rx?getProp(elem,textAnimatorAnimatables.rx,0,degToRads,container):defaultData,ry:textAnimatorAnimatables.ry?getProp(elem,textAnimatorAnimatables.ry,0,degToRads,container):defaultData,sk:textAnimatorAnimatables.sk?getProp(elem,textAnimatorAnimatables.sk,0,degToRads,container):defaultData,sa:textAnimatorAnimatables.sa?getProp(elem,textAnimatorAnimatables.sa,0,degToRads,container):defaultData,s:textAnimatorAnimatables.s?getProp(elem,textAnimatorAnimatables.s,1,0.01,container):defaultData,a:textAnimatorAnimatables.a?getProp(elem,textAnimatorAnimatables.a,1,0,container):defaultData,o:textAnimatorAnimatables.o?getProp(elem,textAnimatorAnimatables.o,0,0.01,container):defaultData,p:textAnimatorAnimatables.p?getProp(elem,textAnimatorAnimatables.p,1,0,container):defaultData,sw:textAnimatorAnimatables.sw?getProp(elem,textAnimatorAnimatables.sw,0,0,container):defaultData,sc:textAnimatorAnimatables.sc?getProp(elem,textAnimatorAnimatables.sc,1,0,container):defaultData,fc:textAnimatorAnimatables.fc?getProp(elem,textAnimatorAnimatables.fc,1,0,container):defaultData,fh:textAnimatorAnimatables.fh?getProp(elem,textAnimatorAnimatables.fh,0,0,container):defaultData,fs:textAnimatorAnimatables.fs?getProp(elem,textAnimatorAnimatables.fs,0,0.01,container):defaultData,fb:textAnimatorAnimatables.fb?getProp(elem,textAnimatorAnimatables.fb,0,0.01,container):defaultData,t:textAnimatorAnimatables.t?getProp(elem,textAnimatorAnimatables.t,0,0,container):defaultData};this.s=TextSelectorProp.getTextSelectorProp(elem,animatorProps.s,container);this.s.t=animatorProps.s.t;}function TextAnimatorProperty(textData,renderType,elem){this._isFirstFrame=true;this._hasMaskedPath=false;this._frameId=-1;this._textData=textData;this._renderType=renderType;this._elem=elem;this._animatorsData=createSizedArray(this._textData.a.length);this._pathData={};this._moreOptions={alignment:{}};this.renderedLetters=[];this.lettersChangedFlag=false;this.initDynamicPropertyContainer(elem);}TextAnimatorProperty.prototype.searchProperties=function(){var i;var len=this._textData.a.length;var animatorProps;var getProp=PropertyFactory.getProp;for(i=0;i<len;i+=1){animatorProps=this._textData.a[i];this._animatorsData[i]=new TextAnimatorDataProperty(this._elem,animatorProps,this);}if(this._textData.p&&'m'in this._textData.p){this._pathData={a:getProp(this._elem,this._textData.p.a,0,0,this),f:getProp(this._elem,this._textData.p.f,0,0,this),l:getProp(this._elem,this._textData.p.l,0,0,this),r:getProp(this._elem,this._textData.p.r,0,0,this),p:getProp(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)};this._hasMaskedPath=true;}else{this._hasMaskedPath=false;}this._moreOptions.alignment=getProp(this._elem,this._textData.m.a,1,0,this);};TextAnimatorProperty.prototype.getMeasures=function(documentData,lettersChangedFlag){this.lettersChangedFlag=lettersChangedFlag;if(!this._mdf&&!this._isFirstFrame&&!lettersChangedFlag&&(!this._hasMaskedPath||!this._pathData.m._mdf)){return;}this._isFirstFrame=false;var alignment=this._moreOptions.alignment.v;var animators=this._animatorsData;var textData=this._textData;var matrixHelper=this.mHelper;var renderType=this._renderType;var renderedLettersCount=this.renderedLetters.length;var xPos;var yPos;var i;var len;var letters=documentData.l;var pathInfo;var currentLength;var currentPoint;var segmentLength;var flag;var pointInd;var segmentInd;var prevPoint;var points;var segments;var partialLength;var totalLength;var perc;var tanAngle;var mask;if(this._hasMaskedPath){mask=this._pathData.m;if(!this._pathData.n||this._pathData._mdf){var paths=mask.v;if(this._pathData.r.v){paths=paths.reverse();}// TODO: release bezier data cached from previous pathInfo: this._pathData.pi\npathInfo={tLength:0,segments:[]};len=paths._length-1;var bezierData;totalLength=0;for(i=0;i<len;i+=1){bezierData=bez.buildBezierData(paths.v[i],paths.v[i+1],[paths.o[i][0]-paths.v[i][0],paths.o[i][1]-paths.v[i][1]],[paths.i[i+1][0]-paths.v[i+1][0],paths.i[i+1][1]-paths.v[i+1][1]]);pathInfo.tLength+=bezierData.segmentLength;pathInfo.segments.push(bezierData);totalLength+=bezierData.segmentLength;}i=len;if(mask.v.c){bezierData=bez.buildBezierData(paths.v[i],paths.v[0],[paths.o[i][0]-paths.v[i][0],paths.o[i][1]-paths.v[i][1]],[paths.i[0][0]-paths.v[0][0],paths.i[0][1]-paths.v[0][1]]);pathInfo.tLength+=bezierData.segmentLength;pathInfo.segments.push(bezierData);totalLength+=bezierData.segmentLength;}this._pathData.pi=pathInfo;}pathInfo=this._pathData.pi;currentLength=this._pathData.f.v;segmentInd=0;pointInd=1;segmentLength=0;flag=true;segments=pathInfo.segments;if(currentLength<0&&mask.v.c){if(pathInfo.tLength<Math.abs(currentLength)){currentLength=-Math.abs(currentLength)%pathInfo.tLength;}segmentInd=segments.length-1;points=segments[segmentInd].points;pointInd=points.length-1;while(currentLength<0){currentLength+=points[pointInd].partialLength;pointInd-=1;if(pointInd<0){segmentInd-=1;points=segments[segmentInd].points;pointInd=points.length-1;}}}points=segments[segmentInd].points;prevPoint=points[pointInd-1];currentPoint=points[pointInd];partialLength=currentPoint.partialLength;}len=letters.length;xPos=0;yPos=0;var yOff=documentData.finalSize*1.2*0.714;var firstLine=true;var animatorProps;var animatorSelector;var j;var jLen;var letterValue;jLen=animators.length;var mult;var ind=-1;var offf;var xPathPos;var yPathPos;var initPathPos=currentLength;var initSegmentInd=segmentInd;var initPointInd=pointInd;var currentLine=-1;var elemOpacity;var sc;var sw;var fc;var k;var letterSw;var letterSc;var letterFc;var letterM='';var letterP=this.defaultPropsArray;var letterO;//\nif(documentData.j===2||documentData.j===1){var animatorJustifyOffset=0;var animatorFirstCharOffset=0;var justifyOffsetMult=documentData.j===2?-0.5:-1;var lastIndex=0;var isNewLine=true;for(i=0;i<len;i+=1){if(letters[i].n){if(animatorJustifyOffset){animatorJustifyOffset+=animatorFirstCharOffset;}while(lastIndex<i){letters[lastIndex].animatorJustifyOffset=animatorJustifyOffset;lastIndex+=1;}animatorJustifyOffset=0;isNewLine=true;}else{for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.t.propType){if(isNewLine&&documentData.j===2){animatorFirstCharOffset+=animatorProps.t.v*justifyOffsetMult;}animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){animatorJustifyOffset+=animatorProps.t.v*mult[0]*justifyOffsetMult;}else{animatorJustifyOffset+=animatorProps.t.v*mult*justifyOffsetMult;}}}isNewLine=false;}}if(animatorJustifyOffset){animatorJustifyOffset+=animatorFirstCharOffset;}while(lastIndex<i){letters[lastIndex].animatorJustifyOffset=animatorJustifyOffset;lastIndex+=1;}}//\nfor(i=0;i<len;i+=1){matrixHelper.reset();elemOpacity=1;if(letters[i].n){xPos=0;yPos+=documentData.yOffset;yPos+=firstLine?1:0;currentLength=initPathPos;firstLine=false;if(this._hasMaskedPath){segmentInd=initSegmentInd;pointInd=initPointInd;points=segments[segmentInd].points;prevPoint=points[pointInd-1];currentPoint=points[pointInd];partialLength=currentPoint.partialLength;segmentLength=0;}letterM='';letterFc='';letterSw='';letterO='';letterP=this.defaultPropsArray;}else{if(this._hasMaskedPath){if(currentLine!==letters[i].line){switch(documentData.j){case 1:currentLength+=totalLength-documentData.lineWidths[letters[i].line];break;case 2:currentLength+=(totalLength-documentData.lineWidths[letters[i].line])/2;break;default:break;}currentLine=letters[i].line;}if(ind!==letters[i].ind){if(letters[ind]){currentLength+=letters[ind].extra;}currentLength+=letters[i].an/2;ind=letters[i].ind;}currentLength+=alignment[0]*letters[i].an*0.005;var animatorOffset=0;for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.p.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){animatorOffset+=animatorProps.p.v[0]*mult[0];}else{animatorOffset+=animatorProps.p.v[0]*mult;}}if(animatorProps.a.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){animatorOffset+=animatorProps.a.v[0]*mult[0];}else{animatorOffset+=animatorProps.a.v[0]*mult;}}}flag=true;// Force alignment only works with a single line for now\nif(this._pathData.a.v){currentLength=letters[0].an*0.5+(totalLength-this._pathData.f.v-letters[0].an*0.5-letters[letters.length-1].an*0.5)*ind/(len-1);currentLength+=this._pathData.f.v;}while(flag){if(segmentLength+partialLength>=currentLength+animatorOffset||!points){perc=(currentLength+animatorOffset-segmentLength)/currentPoint.partialLength;xPathPos=prevPoint.point[0]+(currentPoint.point[0]-prevPoint.point[0])*perc;yPathPos=prevPoint.point[1]+(currentPoint.point[1]-prevPoint.point[1])*perc;matrixHelper.translate(-alignment[0]*letters[i].an*0.005,-(alignment[1]*yOff)*0.01);flag=false;}else if(points){segmentLength+=currentPoint.partialLength;pointInd+=1;if(pointInd>=points.length){pointInd=0;segmentInd+=1;if(!segments[segmentInd]){if(mask.v.c){pointInd=0;segmentInd=0;points=segments[segmentInd].points;}else{segmentLength-=currentPoint.partialLength;points=null;}}else{points=segments[segmentInd].points;}}if(points){prevPoint=currentPoint;currentPoint=points[pointInd];partialLength=currentPoint.partialLength;}}}offf=letters[i].an/2-letters[i].add;matrixHelper.translate(-offf,0,0);}else{offf=letters[i].an/2-letters[i].add;matrixHelper.translate(-offf,0,0);// Grouping alignment\nmatrixHelper.translate(-alignment[0]*letters[i].an*0.005,-alignment[1]*yOff*0.01,0);}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.t.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);// This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\nif(xPos!==0||documentData.j!==0){if(this._hasMaskedPath){if(mult.length){currentLength+=animatorProps.t.v*mult[0];}else{currentLength+=animatorProps.t.v*mult;}}else if(mult.length){xPos+=animatorProps.t.v*mult[0];}else{xPos+=animatorProps.t.v*mult;}}}}if(documentData.strokeWidthAnim){sw=documentData.sw||0;}if(documentData.strokeColorAnim){if(documentData.sc){sc=[documentData.sc[0],documentData.sc[1],documentData.sc[2]];}else{sc=[0,0,0];}}if(documentData.fillColorAnim&&documentData.fc){fc=[documentData.fc[0],documentData.fc[1],documentData.fc[2]];}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.a.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){matrixHelper.translate(-animatorProps.a.v[0]*mult[0],-animatorProps.a.v[1]*mult[1],animatorProps.a.v[2]*mult[2]);}else{matrixHelper.translate(-animatorProps.a.v[0]*mult,-animatorProps.a.v[1]*mult,animatorProps.a.v[2]*mult);}}}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.s.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(mult.length){matrixHelper.scale(1+(animatorProps.s.v[0]-1)*mult[0],1+(animatorProps.s.v[1]-1)*mult[1],1);}else{matrixHelper.scale(1+(animatorProps.s.v[0]-1)*mult,1+(animatorProps.s.v[1]-1)*mult,1);}}}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(animatorProps.sk.propType){if(mult.length){matrixHelper.skewFromAxis(-animatorProps.sk.v*mult[0],animatorProps.sa.v*mult[1]);}else{matrixHelper.skewFromAxis(-animatorProps.sk.v*mult,animatorProps.sa.v*mult);}}if(animatorProps.r.propType){if(mult.length){matrixHelper.rotateZ(-animatorProps.r.v*mult[2]);}else{matrixHelper.rotateZ(-animatorProps.r.v*mult);}}if(animatorProps.ry.propType){if(mult.length){matrixHelper.rotateY(animatorProps.ry.v*mult[1]);}else{matrixHelper.rotateY(animatorProps.ry.v*mult);}}if(animatorProps.rx.propType){if(mult.length){matrixHelper.rotateX(animatorProps.rx.v*mult[0]);}else{matrixHelper.rotateX(animatorProps.rx.v*mult);}}if(animatorProps.o.propType){if(mult.length){elemOpacity+=(animatorProps.o.v*mult[0]-elemOpacity)*mult[0];}else{elemOpacity+=(animatorProps.o.v*mult-elemOpacity)*mult;}}if(documentData.strokeWidthAnim&&animatorProps.sw.propType){if(mult.length){sw+=animatorProps.sw.v*mult[0];}else{sw+=animatorProps.sw.v*mult;}}if(documentData.strokeColorAnim&&animatorProps.sc.propType){for(k=0;k<3;k+=1){if(mult.length){sc[k]+=(animatorProps.sc.v[k]-sc[k])*mult[0];}else{sc[k]+=(animatorProps.sc.v[k]-sc[k])*mult;}}}if(documentData.fillColorAnim&&documentData.fc){if(animatorProps.fc.propType){for(k=0;k<3;k+=1){if(mult.length){fc[k]+=(animatorProps.fc.v[k]-fc[k])*mult[0];}else{fc[k]+=(animatorProps.fc.v[k]-fc[k])*mult;}}}if(animatorProps.fh.propType){if(mult.length){fc=addHueToRGB(fc,animatorProps.fh.v*mult[0]);}else{fc=addHueToRGB(fc,animatorProps.fh.v*mult);}}if(animatorProps.fs.propType){if(mult.length){fc=addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);}else{fc=addSaturationToRGB(fc,animatorProps.fs.v*mult);}}if(animatorProps.fb.propType){if(mult.length){fc=addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);}else{fc=addBrightnessToRGB(fc,animatorProps.fb.v*mult);}}}}for(j=0;j<jLen;j+=1){animatorProps=animators[j].a;if(animatorProps.p.propType){animatorSelector=animators[j].s;mult=animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);if(this._hasMaskedPath){if(mult.length){matrixHelper.translate(0,animatorProps.p.v[1]*mult[0],-animatorProps.p.v[2]*mult[1]);}else{matrixHelper.translate(0,animatorProps.p.v[1]*mult,-animatorProps.p.v[2]*mult);}}else if(mult.length){matrixHelper.translate(animatorProps.p.v[0]*mult[0],animatorProps.p.v[1]*mult[1],-animatorProps.p.v[2]*mult[2]);}else{matrixHelper.translate(animatorProps.p.v[0]*mult,animatorProps.p.v[1]*mult,-animatorProps.p.v[2]*mult);}}}if(documentData.strokeWidthAnim){letterSw=sw<0?0:sw;}if(documentData.strokeColorAnim){letterSc='rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';}if(documentData.fillColorAnim&&documentData.fc){letterFc='rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';}if(this._hasMaskedPath){matrixHelper.translate(0,-documentData.ls);matrixHelper.translate(0,alignment[1]*yOff*0.01+yPos,0);if(this._pathData.p.v){tanAngle=(currentPoint.point[1]-prevPoint.point[1])/(currentPoint.point[0]-prevPoint.point[0]);var rot=Math.atan(tanAngle)*180/Math.PI;if(currentPoint.point[0]<prevPoint.point[0]){rot+=180;}matrixHelper.rotate(-rot*Math.PI/180);}matrixHelper.translate(xPathPos,yPathPos,0);currentLength-=alignment[0]*letters[i].an*0.005;if(letters[i+1]&&ind!==letters[i+1].ind){currentLength+=letters[i].an/2;currentLength+=documentData.tr*0.001*documentData.finalSize;}}else{matrixHelper.translate(xPos,yPos,0);if(documentData.ps){// matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\nmatrixHelper.translate(documentData.ps[0],documentData.ps[1]+documentData.ascent,0);}switch(documentData.j){case 1:matrixHelper.translate(letters[i].animatorJustifyOffset+documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[letters[i].line]),0,0);break;case 2:matrixHelper.translate(letters[i].animatorJustifyOffset+documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[letters[i].line])/2,0,0);break;default:break;}matrixHelper.translate(0,-documentData.ls);matrixHelper.translate(offf,0,0);matrixHelper.translate(alignment[0]*letters[i].an*0.005,alignment[1]*yOff*0.01,0);xPos+=letters[i].l+documentData.tr*0.001*documentData.finalSize;}if(renderType==='html'){letterM=matrixHelper.toCSS();}else if(renderType==='svg'){letterM=matrixHelper.to2dCSS();}else{letterP=[matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];}letterO=elemOpacity;}if(renderedLettersCount<=i){letterValue=new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);this.renderedLetters.push(letterValue);renderedLettersCount+=1;this.lettersChangedFlag=true;}else{letterValue=this.renderedLetters[i];this.lettersChangedFlag=letterValue.update(letterO,letterSw,letterSc,letterFc,letterM,letterP)||this.lettersChangedFlag;}}};TextAnimatorProperty.prototype.getValue=function(){if(this._elem.globalData.frameId===this._frameId){return;}this._frameId=this._elem.globalData.frameId;this.iterateDynamicProperties();};TextAnimatorProperty.prototype.mHelper=new Matrix();TextAnimatorProperty.prototype.defaultPropsArray=[];extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(data,globalData,comp){this.lettersChangedFlag=true;this.initFrame();this.initBaseData(data,globalData,comp);this.textProperty=new TextProperty(this,data.t,this.dynamicProperties);this.textAnimator=new TextAnimatorProperty(data.t,this.renderType,this);this.initTransform(data,globalData,comp);this.initHierarchy();this.initRenderable();this.initRendererElement();this.createContainerElements();this.createRenderableComponents();this.createContent();this.hide();this.textAnimator.searchProperties(this.dynamicProperties);};ITextElement.prototype.prepareFrame=function(num){this._mdf=false;this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);if(this.textProperty._mdf||this.textProperty._isFirstFrame){this.buildNewText();this.textProperty._isFirstFrame=false;this.textProperty._mdf=false;}};ITextElement.prototype.createPathShape=function(matrixHelper,shapes){var j;var jLen=shapes.length;var pathNodes;var shapeStr='';for(j=0;j<jLen;j+=1){if(shapes[j].ty==='sh'){pathNodes=shapes[j].ks.k;shapeStr+=buildShapeString(pathNodes,pathNodes.i.length,true,matrixHelper);}}return shapeStr;};ITextElement.prototype.updateDocumentData=function(newData,index){this.textProperty.updateDocumentData(newData,index);};ITextElement.prototype.canResizeFont=function(_canResize){this.textProperty.canResizeFont(_canResize);};ITextElement.prototype.setMinimumFontSize=function(_fontSize){this.textProperty.setMinimumFontSize(_fontSize);};ITextElement.prototype.applyTextPropertiesToMatrix=function(documentData,matrixHelper,lineNumber,xPos,yPos){if(documentData.ps){matrixHelper.translate(documentData.ps[0],documentData.ps[1]+documentData.ascent,0);}matrixHelper.translate(0,-documentData.ls,0);switch(documentData.j){case 1:matrixHelper.translate(documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[lineNumber]),0,0);break;case 2:matrixHelper.translate(documentData.justifyOffset+(documentData.boxWidth-documentData.lineWidths[lineNumber])/2,0,0);break;default:break;}matrixHelper.translate(xPos,yPos,0);};ITextElement.prototype.buildColor=function(colorData){return'rgb('+Math.round(colorData[0]*255)+','+Math.round(colorData[1]*255)+','+Math.round(colorData[2]*255)+')';};ITextElement.prototype.emptyProp=new LetterProps();ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(data,globalData,comp){this.textSpans=[];this.renderType='svg';this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement);SVGTextLottieElement.prototype.createContent=function(){if(this.data.singleShape&&!this.globalData.fontManager.chars){this.textContainer=createNS('text');}};SVGTextLottieElement.prototype.buildTextContents=function(textArray){var i=0;var len=textArray.length;var textContents=[];var currentTextContent='';while(i<len){if(textArray[i]===String.fromCharCode(13)||textArray[i]===String.fromCharCode(3)){textContents.push(currentTextContent);currentTextContent='';}else{currentTextContent+=textArray[i];}i+=1;}textContents.push(currentTextContent);return textContents;};SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var i;var len;var documentData=this.textProperty.currentData;this.renderedLetters=createSizedArray(documentData?documentData.l.length:0);if(documentData.fc){this.layerElement.setAttribute('fill',this.buildColor(documentData.fc));}else{this.layerElement.setAttribute('fill','rgba(0,0,0,0)');}if(documentData.sc){this.layerElement.setAttribute('stroke',this.buildColor(documentData.sc));this.layerElement.setAttribute('stroke-width',documentData.sw);}this.layerElement.setAttribute('font-size',documentData.finalSize);var fontData=this.globalData.fontManager.getFontByName(documentData.f);if(fontData.fClass){this.layerElement.setAttribute('class',fontData.fClass);}else{this.layerElement.setAttribute('font-family',fontData.fFamily);var fWeight=documentData.fWeight;var fStyle=documentData.fStyle;this.layerElement.setAttribute('font-style',fStyle);this.layerElement.setAttribute('font-weight',fWeight);}this.layerElement.setAttribute('aria-label',documentData.t);var letters=documentData.l||[];var usesGlyphs=!!this.globalData.fontManager.chars;len=letters.length;var tSpan;var matrixHelper=this.mHelper;var shapeStr='';var singleShape=this.data.singleShape;var xPos=0;var yPos=0;var firstLine=true;var trackingOffset=documentData.tr*0.001*documentData.finalSize;if(singleShape&&!usesGlyphs&&!documentData.sz){var tElement=this.textContainer;var justify='start';switch(documentData.j){case 1:justify='end';break;case 2:justify='middle';break;default:justify='start';break;}tElement.setAttribute('text-anchor',justify);tElement.setAttribute('letter-spacing',trackingOffset);var textContent=this.buildTextContents(documentData.finalText);len=textContent.length;yPos=documentData.ps?documentData.ps[1]+documentData.ascent:0;for(i=0;i<len;i+=1){tSpan=this.textSpans[i].span||createNS('tspan');tSpan.textContent=textContent[i];tSpan.setAttribute('x',0);tSpan.setAttribute('y',yPos);tSpan.style.display='inherit';tElement.appendChild(tSpan);if(!this.textSpans[i]){this.textSpans[i]={span:null,glyph:null};}this.textSpans[i].span=tSpan;yPos+=documentData.finalLineHeight;}this.layerElement.appendChild(tElement);}else{var cachedSpansLength=this.textSpans.length;var charData;for(i=0;i<len;i+=1){if(!this.textSpans[i]){this.textSpans[i]={span:null,childSpan:null,glyph:null};}if(!usesGlyphs||!singleShape||i===0){tSpan=cachedSpansLength>i?this.textSpans[i].span:createNS(usesGlyphs?'g':'text');if(cachedSpansLength<=i){tSpan.setAttribute('stroke-linecap','butt');tSpan.setAttribute('stroke-linejoin','round');tSpan.setAttribute('stroke-miterlimit','4');this.textSpans[i].span=tSpan;if(usesGlyphs){var childSpan=createNS('g');tSpan.appendChild(childSpan);this.textSpans[i].childSpan=childSpan;}this.textSpans[i].span=tSpan;this.layerElement.appendChild(tSpan);}tSpan.style.display='inherit';}matrixHelper.reset();matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);if(singleShape){if(letters[i].n){xPos=-trackingOffset;yPos+=documentData.yOffset;yPos+=firstLine?1:0;firstLine=false;}this.applyTextPropertiesToMatrix(documentData,matrixHelper,letters[i].line,xPos,yPos);xPos+=letters[i].l||0;// xPos += letters[i].val === ' ' ? 0 : trackingOffset;\nxPos+=trackingOffset;}if(usesGlyphs){charData=this.globalData.fontManager.getCharData(documentData.finalText[i],fontData.fStyle,this.globalData.fontManager.getFontByName(documentData.f).fFamily);var glyphElement;if(charData.t===1){glyphElement=new SVGCompElement(charData.data,this.globalData,this);}else{var data=emptyShapeData;if(charData.data&&charData.data.shapes){data=charData.data;}glyphElement=new SVGShapeElement(data,this.globalData,this);}if(this.textSpans[i].glyph){var glyph=this.textSpans[i].glyph;this.textSpans[i].childSpan.removeChild(glyph.layerElement);glyph.destroy();}this.textSpans[i].glyph=glyphElement;glyphElement._debug=true;glyphElement.prepareFrame(0);glyphElement.renderFrame();this.textSpans[i].childSpan.appendChild(glyphElement.layerElement);this.textSpans[i].childSpan.setAttribute('transform','scale('+documentData.finalSize/100+','+documentData.finalSize/100+')');}else{if(singleShape){tSpan.setAttribute('transform','translate('+matrixHelper.props[12]+','+matrixHelper.props[13]+')');}tSpan.textContent=letters[i].val;tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace','xml:space','preserve');}//\n}if(singleShape&&tSpan){tSpan.setAttribute('d',shapeStr);}}while(i<this.textSpans.length){this.textSpans[i].span.style.display='none';i+=1;}this._sizeChanged=true;};SVGTextLottieElement.prototype.sourceRectAtTime=function(){this.prepareFrame(this.comp.renderedFrame-this.data.st);this.renderInnerContent();if(this._sizeChanged){this._sizeChanged=false;var textBox=this.layerElement.getBBox();this.bbox={top:textBox.y,left:textBox.x,width:textBox.width,height:textBox.height};}return this.bbox;};SVGTextLottieElement.prototype.getValue=function(){var i;var len=this.textSpans.length;var glyphElement;this.renderedFrame=this.comp.renderedFrame;for(i=0;i<len;i+=1){glyphElement=this.textSpans[i].glyph;if(glyphElement){glyphElement.prepareFrame(this.comp.renderedFrame-this.data.st);if(glyphElement._mdf){this._mdf=true;}}}};SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape||this._mdf){this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);if(this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){this._sizeChanged=true;var i;var len;var renderedLetters=this.textAnimator.renderedLetters;var letters=this.textProperty.currentData.l;len=letters.length;var renderedLetter;var textSpan;var glyphElement;for(i=0;i<len;i+=1){if(!letters[i].n){renderedLetter=renderedLetters[i];textSpan=this.textSpans[i].span;glyphElement=this.textSpans[i].glyph;if(glyphElement){glyphElement.renderFrame();}if(renderedLetter._mdf.m){textSpan.setAttribute('transform',renderedLetter.m);}if(renderedLetter._mdf.o){textSpan.setAttribute('opacity',renderedLetter.o);}if(renderedLetter._mdf.sw){textSpan.setAttribute('stroke-width',renderedLetter.sw);}if(renderedLetter._mdf.sc){textSpan.setAttribute('stroke',renderedLetter.sc);}if(renderedLetter._mdf.fc){textSpan.setAttribute('fill',renderedLetter.fc);}}}}}};function ISolidElement(data,globalData,comp){this.initElement(data,globalData,comp);}extendPrototype([IImageElement],ISolidElement);ISolidElement.prototype.createContent=function(){var rect=createNS('rect');/// /rect.style.width = this.data.sw;\n/// /rect.style.height = this.data.sh;\n/// /rect.style.fill = this.data.sc;\nrect.setAttribute('width',this.data.sw);rect.setAttribute('height',this.data.sh);rect.setAttribute('fill',this.data.sc);this.layerElement.appendChild(rect);};function NullElement(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initFrame();this.initTransform(data,globalData,comp);this.initHierarchy();}NullElement.prototype.prepareFrame=function(num){this.prepareProperties(num,true);};NullElement.prototype.renderFrame=function(){};NullElement.prototype.getBaseElement=function(){return null;};NullElement.prototype.destroy=function(){};NullElement.prototype.sourceRectAtTime=function(){};NullElement.prototype.hide=function(){};extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase);SVGRendererBase.prototype.createNull=function(data){return new NullElement(data,this.globalData,this);};SVGRendererBase.prototype.createShape=function(data){return new SVGShapeElement(data,this.globalData,this);};SVGRendererBase.prototype.createText=function(data){return new SVGTextLottieElement(data,this.globalData,this);};SVGRendererBase.prototype.createImage=function(data){return new IImageElement(data,this.globalData,this);};SVGRendererBase.prototype.createSolid=function(data){return new ISolidElement(data,this.globalData,this);};SVGRendererBase.prototype.configAnimation=function(animData){this.svgElement.setAttribute('xmlns','http://www.w3.org/2000/svg');if(this.renderConfig.viewBoxSize){this.svgElement.setAttribute('viewBox',this.renderConfig.viewBoxSize);}else{this.svgElement.setAttribute('viewBox','0 0 '+animData.w+' '+animData.h);}if(!this.renderConfig.viewBoxOnly){this.svgElement.setAttribute('width',animData.w);this.svgElement.setAttribute('height',animData.h);this.svgElement.style.width='100%';this.svgElement.style.height='100%';this.svgElement.style.transform='translate3d(0,0,0)';this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility;}if(this.renderConfig.width){this.svgElement.setAttribute('width',this.renderConfig.width);}if(this.renderConfig.height){this.svgElement.setAttribute('height',this.renderConfig.height);}if(this.renderConfig.className){this.svgElement.setAttribute('class',this.renderConfig.className);}if(this.renderConfig.id){this.svgElement.setAttribute('id',this.renderConfig.id);}if(this.renderConfig.focusable!==undefined){this.svgElement.setAttribute('focusable',this.renderConfig.focusable);}this.svgElement.setAttribute('preserveAspectRatio',this.renderConfig.preserveAspectRatio);// this.layerElement.style.transform = 'translate3d(0,0,0)';\n// this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\nthis.animationItem.wrapper.appendChild(this.svgElement);// Mask animation\nvar defs=this.globalData.defs;this.setupGlobalData(animData,defs);this.globalData.progressiveLoad=this.renderConfig.progressiveLoad;this.data=animData;var maskElement=createNS('clipPath');var rect=createNS('rect');rect.setAttribute('width',animData.w);rect.setAttribute('height',animData.h);rect.setAttribute('x',0);rect.setAttribute('y',0);var maskId=createElementID();maskElement.setAttribute('id',maskId);maskElement.appendChild(rect);this.layerElement.setAttribute('clip-path','url('+getLocationHref()+'#'+maskId+')');defs.appendChild(maskElement);this.layers=animData.layers;this.elements=createSizedArray(animData.layers.length);};SVGRendererBase.prototype.destroy=function(){if(this.animationItem.wrapper){this.animationItem.wrapper.innerText='';}this.layerElement=null;this.globalData.defs=null;var i;var len=this.layers?this.layers.length:0;for(i=0;i<len;i+=1){if(this.elements[i]){this.elements[i].destroy();}}this.elements.length=0;this.destroyed=true;this.animationItem=null;};SVGRendererBase.prototype.updateContainerSize=function(){};SVGRendererBase.prototype.buildItem=function(pos){var elements=this.elements;if(elements[pos]||this.layers[pos].ty===99){return;}elements[pos]=true;var element=this.createItem(this.layers[pos]);elements[pos]=element;if(getExpressionsPlugin()){if(this.layers[pos].ty===0){this.globalData.projectInterface.registerComposition(element);}element.initExpressions();}this.appendElementInPos(element,pos);if(this.layers[pos].tt){if(!this.elements[pos-1]||this.elements[pos-1]===true){this.buildItem(pos-1);this.addPendingElement(element);}else{element.setMatte(elements[pos-1].layerId);}}};SVGRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var element=this.pendingElements.pop();element.checkParenting();if(element.data.tt){var i=0;var len=this.elements.length;while(i<len){if(this.elements[i]===element){element.setMatte(this.elements[i-1].layerId);break;}i+=1;}}}};SVGRendererBase.prototype.renderFrame=function(num){if(this.renderedFrame===num||this.destroyed){return;}if(num===null){num=this.renderedFrame;}else{this.renderedFrame=num;}// console.log('-------');\n// console.log('FRAME ',num);\nthis.globalData.frameNum=num;this.globalData.frameId+=1;this.globalData.projectInterface.currentFrame=num;this.globalData._mdf=false;var i;var len=this.layers.length;if(!this.completeLayers){this.checkLayers(num);}for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].prepareFrame(num-this.layers[i].st);}}if(this.globalData._mdf){for(i=0;i<len;i+=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}}};SVGRendererBase.prototype.appendElementInPos=function(element,pos){var newElement=element.getBaseElement();if(!newElement){return;}var i=0;var nextElement;while(i<pos){if(this.elements[i]&&this.elements[i]!==true&&this.elements[i].getBaseElement()){nextElement=this.elements[i].getBaseElement();}i+=1;}if(nextElement){this.layerElement.insertBefore(newElement,nextElement);}else{this.layerElement.appendChild(newElement);}};SVGRendererBase.prototype.hide=function(){this.layerElement.style.display='none';};SVGRendererBase.prototype.show=function(){this.layerElement.style.display='block';};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement);ICompElement.prototype.initElement=function(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initTransform(data,globalData,comp);this.initRenderable();this.initHierarchy();this.initRendererElement();this.createContainerElements();this.createRenderableComponents();if(this.data.xt||!globalData.progressiveLoad){this.buildAllItems();}this.hide();};/* ICompElement.prototype.hide = function(){\n      if(!this.hidden){\n          this.hideElement();\n          var i,len = this.elements.length;\n          for( i = 0; i < len; i+=1 ){\n              if(this.elements[i]){\n                  this.elements[i].hide();\n              }\n          }\n      }\n  }; */ICompElement.prototype.prepareFrame=function(num){this._mdf=false;this.prepareRenderableFrame(num);this.prepareProperties(num,this.isInRange);if(!this.isInRange&&!this.data.xt){return;}if(!this.tm._placeholder){var timeRemapped=this.tm.v;if(timeRemapped===this.data.op){timeRemapped=this.data.op-1;}this.renderedFrame=timeRemapped;}else{this.renderedFrame=num/this.data.sr;}var i;var len=this.elements.length;if(!this.completeLayers){this.checkLayers(this.renderedFrame);}// This iteration needs to be backwards because of how expressions connect between each other\nfor(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st);if(this.elements[i]._mdf){this._mdf=true;}}}};ICompElement.prototype.renderInnerContent=function(){var i;var len=this.layers.length;for(i=0;i<len;i+=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}};ICompElement.prototype.setElements=function(elems){this.elements=elems;};ICompElement.prototype.getElements=function(){return this.elements;};ICompElement.prototype.destroyElements=function(){var i;var len=this.layers.length;for(i=0;i<len;i+=1){if(this.elements[i]){this.elements[i].destroy();}}};ICompElement.prototype.destroy=function(){this.destroyElements();this.destroyBaseElement();};function SVGCompElement(data,globalData,comp){this.layers=data.layers;this.supports3d=true;this.completeLayers=false;this.pendingElements=[];this.elements=this.layers?createSizedArray(this.layers.length):[];this.initElement(data,globalData,comp);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement);SVGCompElement.prototype.createComp=function(data){return new SVGCompElement(data,this.globalData,this);};function SVGRenderer(animationItem,config){this.animationItem=animationItem;this.layers=null;this.renderedFrame=-1;this.svgElement=createNS('svg');var ariaLabel='';if(config&&config.title){var titleElement=createNS('title');var titleId=createElementID();titleElement.setAttribute('id',titleId);titleElement.textContent=config.title;this.svgElement.appendChild(titleElement);ariaLabel+=titleId;}if(config&&config.description){var descElement=createNS('desc');var descId=createElementID();descElement.setAttribute('id',descId);descElement.textContent=config.description;this.svgElement.appendChild(descElement);ariaLabel+=' '+descId;}if(ariaLabel){this.svgElement.setAttribute('aria-labelledby',ariaLabel);}var defs=createNS('defs');this.svgElement.appendChild(defs);var maskElement=createNS('g');this.svgElement.appendChild(maskElement);this.layerElement=maskElement;this.renderConfig={preserveAspectRatio:config&&config.preserveAspectRatio||'xMidYMid meet',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',contentVisibility:config&&config.contentVisibility||'visible',progressiveLoad:config&&config.progressiveLoad||false,hideOnTransparent:!(config&&config.hideOnTransparent===false),viewBoxOnly:config&&config.viewBoxOnly||false,viewBoxSize:config&&config.viewBoxSize||false,className:config&&config.className||'',id:config&&config.id||'',focusable:config&&config.focusable,filterSize:{width:config&&config.filterSize&&config.filterSize.width||'100%',height:config&&config.filterSize&&config.filterSize.height||'100%',x:config&&config.filterSize&&config.filterSize.x||'0%',y:config&&config.filterSize&&config.filterSize.y||'0%'},width:config&&config.width,height:config&&config.height};this.globalData={_mdf:false,frameNum:-1,defs:defs,renderConfig:this.renderConfig};this.elements=[];this.pendingElements=[];this.destroyed=false;this.rendererType='svg';}extendPrototype([SVGRendererBase],SVGRenderer);SVGRenderer.prototype.createComp=function(data){return new SVGCompElement(data,this.globalData,this);};function CVContextData(){this.saved=[];this.cArrPos=0;this.cTr=new Matrix();this.cO=1;var i;var len=15;this.savedOp=createTypedArray('float32',len);for(i=0;i<len;i+=1){this.saved[i]=createTypedArray('float32',16);}this._length=len;}CVContextData.prototype.duplicate=function(){var newLength=this._length*2;var currentSavedOp=this.savedOp;this.savedOp=createTypedArray('float32',newLength);this.savedOp.set(currentSavedOp);var i=0;for(i=this._length;i<newLength;i+=1){this.saved[i]=createTypedArray('float32',16);}this._length=newLength;};CVContextData.prototype.reset=function(){this.cArrPos=0;this.cTr.reset();this.cO=1;};function ShapeTransformManager(){this.sequences={};this.sequenceList=[];this.transform_key_count=0;}ShapeTransformManager.prototype={addTransformSequence:function addTransformSequence(transforms){var i;var len=transforms.length;var key='_';for(i=0;i<len;i+=1){key+=transforms[i].transform.key+'_';}var sequence=this.sequences[key];if(!sequence){sequence={transforms:[].concat(transforms),finalTransform:new Matrix(),_mdf:false};this.sequences[key]=sequence;this.sequenceList.push(sequence);}return sequence;},processSequence:function processSequence(sequence,isFirstFrame){var i=0;var len=sequence.transforms.length;var _mdf=isFirstFrame;while(i<len&&!isFirstFrame){if(sequence.transforms[i].transform.mProps._mdf){_mdf=true;break;}i+=1;}if(_mdf){var props;sequence.finalTransform.reset();for(i=len-1;i>=0;i-=1){props=sequence.transforms[i].transform.mProps.v.props;sequence.finalTransform.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);}}sequence._mdf=_mdf;},processSequences:function processSequences(isFirstFrame){var i;var len=this.sequenceList.length;for(i=0;i<len;i+=1){this.processSequence(this.sequenceList[i],isFirstFrame);}},getNewKey:function getNewKey(){this.transform_key_count+=1;return'_'+this.transform_key_count;}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(data,element){this.data=data;this.element=element;this.masksProperties=this.data.masksProperties||[];this.viewData=createSizedArray(this.masksProperties.length);var i;var len=this.masksProperties.length;var hasMasks=false;for(i=0;i<len;i+=1){if(this.masksProperties[i].mode!=='n'){hasMasks=true;}this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);}this.hasMasks=hasMasks;if(hasMasks){this.element.addRenderableComponent(this);}}CVMaskElement.prototype.renderFrame=function(){if(!this.hasMasks){return;}var transform=this.element.finalTransform.mat;var ctx=this.element.canvasContext;var i;var len=this.masksProperties.length;var pt;var pts;var data;ctx.beginPath();for(i=0;i<len;i+=1){if(this.masksProperties[i].mode!=='n'){if(this.masksProperties[i].inv){ctx.moveTo(0,0);ctx.lineTo(this.element.globalData.compSize.w,0);ctx.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h);ctx.lineTo(0,this.element.globalData.compSize.h);ctx.lineTo(0,0);}data=this.viewData[i].v;pt=transform.applyToPointArray(data.v[0][0],data.v[0][1],0);ctx.moveTo(pt[0],pt[1]);var j;var jLen=data._length;for(j=1;j<jLen;j+=1){pts=transform.applyToTriplePoints(data.o[j-1],data.i[j],data.v[j]);ctx.bezierCurveTo(pts[0],pts[1],pts[2],pts[3],pts[4],pts[5]);}pts=transform.applyToTriplePoints(data.o[j-1],data.i[0],data.v[0]);ctx.bezierCurveTo(pts[0],pts[1],pts[2],pts[3],pts[4],pts[5]);}}this.element.globalData.renderer.save(true);ctx.clip();};CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty;CVMaskElement.prototype.destroy=function(){this.element=null;};function CVBaseElement(){}CVBaseElement.prototype={createElements:function createElements(){},initRendererElement:function initRendererElement(){},createContainerElements:function createContainerElements(){this.canvasContext=this.globalData.canvasContext;this.renderableEffectsManager=new CVEffects(this);},createContent:function createContent(){},setBlendMode:function setBlendMode(){var globalData=this.globalData;if(globalData.blendMode!==this.data.bm){globalData.blendMode=this.data.bm;var blendModeValue=getBlendMode(this.data.bm);globalData.canvasContext.globalCompositeOperation=blendModeValue;}},createRenderableComponents:function createRenderableComponents(){this.maskManager=new CVMaskElement(this.data,this);},hideElement:function hideElement(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){this.hidden=true;}},showElement:function showElement(){if(this.isInRange&&!this.isTransparent){this.hidden=false;this._isFirstFrame=true;this.maskManager._isFirstFrame=true;}},renderFrame:function renderFrame(){if(this.hidden||this.data.hd){return;}this.renderTransform();this.renderRenderable();this.setBlendMode();var forceRealStack=this.data.ty===0;this.globalData.renderer.save(forceRealStack);this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);this.renderInnerContent();this.globalData.renderer.restore(forceRealStack);if(this.maskManager.hasMasks){this.globalData.renderer.restore(true);}if(this._isFirstFrame){this._isFirstFrame=false;}},destroy:function destroy(){this.canvasContext=null;this.data=null;this.globalData=null;this.maskManager.destroy();},mHelper:new Matrix()};CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement;CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(element,data,styles,transformsManager){this.styledShapes=[];this.tr=[0,0,0,0,0,0];var ty=4;if(data.ty==='rc'){ty=5;}else if(data.ty==='el'){ty=6;}else if(data.ty==='sr'){ty=7;}this.sh=ShapePropertyFactory.getShapeProp(element,data,ty,element);var i;var len=styles.length;var styledShape;for(i=0;i<len;i+=1){if(!styles[i].closed){styledShape={transforms:transformsManager.addTransformSequence(styles[i].transforms),trNodes:[]};this.styledShapes.push(styledShape);styles[i].elements.push(styledShape);}}}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(data,globalData,comp){this.shapes=[];this.shapesData=data.shapes;this.stylesList=[];this.itemsData=[];this.prevViewData=[];this.shapeModifiers=[];this.processedElements=[];this.transformsManager=new ShapeTransformManager();this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement);CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement;CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:false};CVShapeElement.prototype.dashResetter=[];CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,true,[]);};CVShapeElement.prototype.createStyleElement=function(data,transforms){var styleElem={data:data,type:data.ty,preTransforms:this.transformsManager.addTransformSequence(transforms),transforms:[],elements:[],closed:data.hd===true};var elementData={};if(data.ty==='fl'||data.ty==='st'){elementData.c=PropertyFactory.getProp(this,data.c,1,255,this);if(!elementData.c.k){styleElem.co='rgb('+bmFloor(elementData.c.v[0])+','+bmFloor(elementData.c.v[1])+','+bmFloor(elementData.c.v[2])+')';}}else if(data.ty==='gf'||data.ty==='gs'){elementData.s=PropertyFactory.getProp(this,data.s,1,null,this);elementData.e=PropertyFactory.getProp(this,data.e,1,null,this);elementData.h=PropertyFactory.getProp(this,data.h||{k:0},0,0.01,this);elementData.a=PropertyFactory.getProp(this,data.a||{k:0},0,degToRads,this);elementData.g=new GradientProperty(this,data.g,this);}elementData.o=PropertyFactory.getProp(this,data.o,0,0.01,this);if(data.ty==='st'||data.ty==='gs'){styleElem.lc=lineCapEnum[data.lc||2];styleElem.lj=lineJoinEnum[data.lj||2];if(data.lj==1){// eslint-disable-line eqeqeq\nstyleElem.ml=data.ml;}elementData.w=PropertyFactory.getProp(this,data.w,0,null,this);if(!elementData.w.k){styleElem.wi=elementData.w.v;}if(data.d){var d=new DashProperty(this,data.d,'canvas',this);elementData.d=d;if(!elementData.d.k){styleElem.da=elementData.d.dashArray;styleElem[\"do\"]=elementData.d.dashoffset[0];}}}else{styleElem.r=data.r===2?'evenodd':'nonzero';}this.stylesList.push(styleElem);elementData.style=styleElem;return elementData;};CVShapeElement.prototype.createGroupElement=function(){var elementData={it:[],prevViewData:[]};return elementData;};CVShapeElement.prototype.createTransformElement=function(data){var elementData={transform:{opacity:1,_opMdf:false,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,data.o,0,0.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,data,this)}};return elementData;};CVShapeElement.prototype.createShapeElement=function(data){var elementData=new CVShapeData(this,data,this.stylesList,this.transformsManager);this.shapes.push(elementData);this.addShapeToModifiers(elementData);return elementData;};CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=true;var i;var len=this.itemsData.length;for(i=0;i<len;i+=1){this.prevViewData[i]=this.itemsData[i];}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,true,[]);len=this.dynamicProperties.length;for(i=0;i<len;i+=1){this.dynamicProperties[i].getValue();}this.renderModifiers();this.transformsManager.processSequences(this._isFirstFrame);};CVShapeElement.prototype.addTransformToStyleList=function(transform){var i;var len=this.stylesList.length;for(i=0;i<len;i+=1){if(!this.stylesList[i].closed){this.stylesList[i].transforms.push(transform);}}};CVShapeElement.prototype.removeTransformFromStyleList=function(){var i;var len=this.stylesList.length;for(i=0;i<len;i+=1){if(!this.stylesList[i].closed){this.stylesList[i].transforms.pop();}}};CVShapeElement.prototype.closeStyles=function(styles){var i;var len=styles.length;for(i=0;i<len;i+=1){styles[i].closed=true;}};CVShapeElement.prototype.searchShapes=function(arr,itemsData,prevViewData,shouldRender,transforms){var i;var len=arr.length-1;var j;var jLen;var ownStyles=[];var ownModifiers=[];var processedPos;var modifier;var currentTransform;var ownTransforms=[].concat(transforms);for(i=len;i>=0;i-=1){processedPos=this.searchProcessedElement(arr[i]);if(!processedPos){arr[i]._shouldRender=shouldRender;}else{itemsData[i]=prevViewData[processedPos-1];}if(arr[i].ty==='fl'||arr[i].ty==='st'||arr[i].ty==='gf'||arr[i].ty==='gs'){if(!processedPos){itemsData[i]=this.createStyleElement(arr[i],ownTransforms);}else{itemsData[i].style.closed=false;}ownStyles.push(itemsData[i].style);}else if(arr[i].ty==='gr'){if(!processedPos){itemsData[i]=this.createGroupElement(arr[i]);}else{jLen=itemsData[i].it.length;for(j=0;j<jLen;j+=1){itemsData[i].prevViewData[j]=itemsData[i].it[j];}}this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,shouldRender,ownTransforms);}else if(arr[i].ty==='tr'){if(!processedPos){currentTransform=this.createTransformElement(arr[i]);itemsData[i]=currentTransform;}ownTransforms.push(itemsData[i]);this.addTransformToStyleList(itemsData[i]);}else if(arr[i].ty==='sh'||arr[i].ty==='rc'||arr[i].ty==='el'||arr[i].ty==='sr'){if(!processedPos){itemsData[i]=this.createShapeElement(arr[i]);}}else if(arr[i].ty==='tm'||arr[i].ty==='rd'||arr[i].ty==='pb'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);modifier.init(this,arr[i]);itemsData[i]=modifier;this.shapeModifiers.push(modifier);}else{modifier=itemsData[i];modifier.closed=false;}ownModifiers.push(modifier);}else if(arr[i].ty==='rp'){if(!processedPos){modifier=ShapeModifiers.getModifier(arr[i].ty);itemsData[i]=modifier;modifier.init(this,arr,i,itemsData);this.shapeModifiers.push(modifier);shouldRender=false;}else{modifier=itemsData[i];modifier.closed=true;}ownModifiers.push(modifier);}this.addProcessedElement(arr[i],i+1);}this.removeTransformFromStyleList();this.closeStyles(ownStyles);len=ownModifiers.length;for(i=0;i<len;i+=1){ownModifiers[i].closed=true;}};CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1;this.transformHelper._opMdf=false;this.renderModifiers();this.transformsManager.processSequences(this._isFirstFrame);this.renderShape(this.transformHelper,this.shapesData,this.itemsData,true);};CVShapeElement.prototype.renderShapeTransform=function(parentTransform,groupTransform){if(parentTransform._opMdf||groupTransform.op._mdf||this._isFirstFrame){groupTransform.opacity=parentTransform.opacity;groupTransform.opacity*=groupTransform.op.v;groupTransform._opMdf=true;}};CVShapeElement.prototype.drawLayer=function(){var i;var len=this.stylesList.length;var j;var jLen;var k;var kLen;var elems;var nodes;var renderer=this.globalData.renderer;var ctx=this.globalData.canvasContext;var type;var currentStyle;for(i=0;i<len;i+=1){currentStyle=this.stylesList[i];type=currentStyle.type;// Skipping style when\n// Stroke width equals 0\n// style should not be rendered (extra unused repeaters)\n// current opacity equals 0\n// global opacity equals 0\nif(!((type==='st'||type==='gs')&&currentStyle.wi===0||!currentStyle.data._shouldRender||currentStyle.coOp===0||this.globalData.currentGlobalAlpha===0)){renderer.save();elems=currentStyle.elements;if(type==='st'||type==='gs'){ctx.strokeStyle=type==='st'?currentStyle.co:currentStyle.grd;ctx.lineWidth=currentStyle.wi;ctx.lineCap=currentStyle.lc;ctx.lineJoin=currentStyle.lj;ctx.miterLimit=currentStyle.ml||0;}else{ctx.fillStyle=type==='fl'?currentStyle.co:currentStyle.grd;}renderer.ctxOpacity(currentStyle.coOp);if(type!=='st'&&type!=='gs'){ctx.beginPath();}renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);jLen=elems.length;for(j=0;j<jLen;j+=1){if(type==='st'||type==='gs'){ctx.beginPath();if(currentStyle.da){ctx.setLineDash(currentStyle.da);ctx.lineDashOffset=currentStyle[\"do\"];}}nodes=elems[j].trNodes;kLen=nodes.length;for(k=0;k<kLen;k+=1){if(nodes[k].t==='m'){ctx.moveTo(nodes[k].p[0],nodes[k].p[1]);}else if(nodes[k].t==='c'){ctx.bezierCurveTo(nodes[k].pts[0],nodes[k].pts[1],nodes[k].pts[2],nodes[k].pts[3],nodes[k].pts[4],nodes[k].pts[5]);}else{ctx.closePath();}}if(type==='st'||type==='gs'){ctx.stroke();if(currentStyle.da){ctx.setLineDash(this.dashResetter);}}}if(type!=='st'&&type!=='gs'){ctx.fill(currentStyle.r);}renderer.restore();}}};CVShapeElement.prototype.renderShape=function(parentTransform,items,data,isMain){var i;var len=items.length-1;var groupTransform;groupTransform=parentTransform;for(i=len;i>=0;i-=1){if(items[i].ty==='tr'){groupTransform=data[i].transform;this.renderShapeTransform(parentTransform,groupTransform);}else if(items[i].ty==='sh'||items[i].ty==='el'||items[i].ty==='rc'||items[i].ty==='sr'){this.renderPath(items[i],data[i]);}else if(items[i].ty==='fl'){this.renderFill(items[i],data[i],groupTransform);}else if(items[i].ty==='st'){this.renderStroke(items[i],data[i],groupTransform);}else if(items[i].ty==='gf'||items[i].ty==='gs'){this.renderGradientFill(items[i],data[i],groupTransform);}else if(items[i].ty==='gr'){this.renderShape(groupTransform,items[i].it,data[i].it);}else if(items[i].ty==='tm'){//\n}}if(isMain){this.drawLayer();}};CVShapeElement.prototype.renderStyledShape=function(styledShape,shape){if(this._isFirstFrame||shape._mdf||styledShape.transforms._mdf){var shapeNodes=styledShape.trNodes;var paths=shape.paths;var i;var len;var j;var jLen=paths._length;shapeNodes.length=0;var groupTransformMat=styledShape.transforms.finalTransform;for(j=0;j<jLen;j+=1){var pathNodes=paths.shapes[j];if(pathNodes&&pathNodes.v){len=pathNodes._length;for(i=1;i<len;i+=1){if(i===1){shapeNodes.push({t:'m',p:groupTransformMat.applyToPointArray(pathNodes.v[0][0],pathNodes.v[0][1],0)});}shapeNodes.push({t:'c',pts:groupTransformMat.applyToTriplePoints(pathNodes.o[i-1],pathNodes.i[i],pathNodes.v[i])});}if(len===1){shapeNodes.push({t:'m',p:groupTransformMat.applyToPointArray(pathNodes.v[0][0],pathNodes.v[0][1],0)});}if(pathNodes.c&&len){shapeNodes.push({t:'c',pts:groupTransformMat.applyToTriplePoints(pathNodes.o[i-1],pathNodes.i[0],pathNodes.v[0])});shapeNodes.push({t:'z'});}}}styledShape.trNodes=shapeNodes;}};CVShapeElement.prototype.renderPath=function(pathData,itemData){if(pathData.hd!==true&&pathData._shouldRender){var i;var len=itemData.styledShapes.length;for(i=0;i<len;i+=1){this.renderStyledShape(itemData.styledShapes[i],itemData.sh);}}};CVShapeElement.prototype.renderFill=function(styleData,itemData,groupTransform){var styleElem=itemData.style;if(itemData.c._mdf||this._isFirstFrame){styleElem.co='rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')';}if(itemData.o._mdf||groupTransform._opMdf||this._isFirstFrame){styleElem.coOp=itemData.o.v*groupTransform.opacity;}};CVShapeElement.prototype.renderGradientFill=function(styleData,itemData,groupTransform){var styleElem=itemData.style;var grd;if(!styleElem.grd||itemData.g._mdf||itemData.s._mdf||itemData.e._mdf||styleData.t!==1&&(itemData.h._mdf||itemData.a._mdf)){var ctx=this.globalData.canvasContext;var pt1=itemData.s.v;var pt2=itemData.e.v;if(styleData.t===1){grd=ctx.createLinearGradient(pt1[0],pt1[1],pt2[0],pt2[1]);}else{var rad=Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));var ang=Math.atan2(pt2[1]-pt1[1],pt2[0]-pt1[0]);var percent=itemData.h.v;if(percent>=1){percent=0.99;}else if(percent<=-1){percent=-0.99;}var dist=rad*percent;var x=Math.cos(ang+itemData.a.v)*dist+pt1[0];var y=Math.sin(ang+itemData.a.v)*dist+pt1[1];grd=ctx.createRadialGradient(x,y,0,pt1[0],pt1[1],rad);}var i;var len=styleData.g.p;var cValues=itemData.g.c;var opacity=1;for(i=0;i<len;i+=1){if(itemData.g._hasOpacity&&itemData.g._collapsable){opacity=itemData.g.o[i*2+1];}grd.addColorStop(cValues[i*4]/100,'rgba('+cValues[i*4+1]+','+cValues[i*4+2]+','+cValues[i*4+3]+','+opacity+')');}styleElem.grd=grd;}styleElem.coOp=itemData.o.v*groupTransform.opacity;};CVShapeElement.prototype.renderStroke=function(styleData,itemData,groupTransform){var styleElem=itemData.style;var d=itemData.d;if(d&&(d._mdf||this._isFirstFrame)){styleElem.da=d.dashArray;styleElem[\"do\"]=d.dashoffset[0];}if(itemData.c._mdf||this._isFirstFrame){styleElem.co='rgb('+bmFloor(itemData.c.v[0])+','+bmFloor(itemData.c.v[1])+','+bmFloor(itemData.c.v[2])+')';}if(itemData.o._mdf||groupTransform._opMdf||this._isFirstFrame){styleElem.coOp=itemData.o.v*groupTransform.opacity;}if(itemData.w._mdf||this._isFirstFrame){styleElem.wi=itemData.w.v;}};CVShapeElement.prototype.destroy=function(){this.shapesData=null;this.globalData=null;this.canvasContext=null;this.stylesList.length=0;this.itemsData.length=0;};function CVTextElement(data,globalData,comp){this.textSpans=[];this.yOffset=0;this.fillColorAnim=false;this.strokeColorAnim=false;this.strokeWidthAnim=false;this.stroke=false;this.fill=false;this.justifyOffset=0;this.currentRender=null;this.renderType='canvas';this.values={fill:'rgba(0,0,0,0)',stroke:'rgba(0,0,0,0)',sWidth:0,fValue:''};this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement);CVTextElement.prototype.tHelper=createTag('canvas').getContext('2d');CVTextElement.prototype.buildNewText=function(){var documentData=this.textProperty.currentData;this.renderedLetters=createSizedArray(documentData.l?documentData.l.length:0);var hasFill=false;if(documentData.fc){hasFill=true;this.values.fill=this.buildColor(documentData.fc);}else{this.values.fill='rgba(0,0,0,0)';}this.fill=hasFill;var hasStroke=false;if(documentData.sc){hasStroke=true;this.values.stroke=this.buildColor(documentData.sc);this.values.sWidth=documentData.sw;}var fontData=this.globalData.fontManager.getFontByName(documentData.f);var i;var len;var letters=documentData.l;var matrixHelper=this.mHelper;this.stroke=hasStroke;this.values.fValue=documentData.finalSize+'px '+this.globalData.fontManager.getFontByName(documentData.f).fFamily;len=documentData.finalText.length;// this.tHelper.font = this.values.fValue;\nvar charData;var shapeData;var k;var kLen;var shapes;var j;var jLen;var pathNodes;var commands;var pathArr;var singleShape=this.data.singleShape;var trackingOffset=documentData.tr*0.001*documentData.finalSize;var xPos=0;var yPos=0;var firstLine=true;var cnt=0;for(i=0;i<len;i+=1){charData=this.globalData.fontManager.getCharData(documentData.finalText[i],fontData.fStyle,this.globalData.fontManager.getFontByName(documentData.f).fFamily);shapeData=charData&&charData.data||{};matrixHelper.reset();if(singleShape&&letters[i].n){xPos=-trackingOffset;yPos+=documentData.yOffset;yPos+=firstLine?1:0;firstLine=false;}shapes=shapeData.shapes?shapeData.shapes[0].it:[];jLen=shapes.length;matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);if(singleShape){this.applyTextPropertiesToMatrix(documentData,matrixHelper,letters[i].line,xPos,yPos);}commands=createSizedArray(jLen-1);var commandsCounter=0;for(j=0;j<jLen;j+=1){if(shapes[j].ty==='sh'){kLen=shapes[j].ks.k.i.length;pathNodes=shapes[j].ks.k;pathArr=[];for(k=1;k<kLen;k+=1){if(k===1){pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));}pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToY(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToX(pathNodes.v[k][0],pathNodes.v[k][1],0),matrixHelper.applyToY(pathNodes.v[k][0],pathNodes.v[k][1],0));}pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToY(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));commands[commandsCounter]=pathArr;commandsCounter+=1;}}if(singleShape){xPos+=letters[i].l;xPos+=trackingOffset;}if(this.textSpans[cnt]){this.textSpans[cnt].elem=commands;}else{this.textSpans[cnt]={elem:commands};}cnt+=1;}};CVTextElement.prototype.renderInnerContent=function(){var ctx=this.canvasContext;ctx.font=this.values.fValue;ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;if(!this.data.singleShape){this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);}var i;var len;var j;var jLen;var k;var kLen;var renderedLetters=this.textAnimator.renderedLetters;var letters=this.textProperty.currentData.l;len=letters.length;var renderedLetter;var lastFill=null;var lastStroke=null;var lastStrokeW=null;var commands;var pathArr;for(i=0;i<len;i+=1){if(!letters[i].n){renderedLetter=renderedLetters[i];if(renderedLetter){this.globalData.renderer.save();this.globalData.renderer.ctxTransform(renderedLetter.p);this.globalData.renderer.ctxOpacity(renderedLetter.o);}if(this.fill){if(renderedLetter&&renderedLetter.fc){if(lastFill!==renderedLetter.fc){lastFill=renderedLetter.fc;ctx.fillStyle=renderedLetter.fc;}}else if(lastFill!==this.values.fill){lastFill=this.values.fill;ctx.fillStyle=this.values.fill;}commands=this.textSpans[i].elem;jLen=commands.length;this.globalData.canvasContext.beginPath();for(j=0;j<jLen;j+=1){pathArr=commands[j];kLen=pathArr.length;this.globalData.canvasContext.moveTo(pathArr[0],pathArr[1]);for(k=2;k<kLen;k+=6){this.globalData.canvasContext.bezierCurveTo(pathArr[k],pathArr[k+1],pathArr[k+2],pathArr[k+3],pathArr[k+4],pathArr[k+5]);}}this.globalData.canvasContext.closePath();this.globalData.canvasContext.fill();/// ctx.fillText(this.textSpans[i].val,0,0);\n}if(this.stroke){if(renderedLetter&&renderedLetter.sw){if(lastStrokeW!==renderedLetter.sw){lastStrokeW=renderedLetter.sw;ctx.lineWidth=renderedLetter.sw;}}else if(lastStrokeW!==this.values.sWidth){lastStrokeW=this.values.sWidth;ctx.lineWidth=this.values.sWidth;}if(renderedLetter&&renderedLetter.sc){if(lastStroke!==renderedLetter.sc){lastStroke=renderedLetter.sc;ctx.strokeStyle=renderedLetter.sc;}}else if(lastStroke!==this.values.stroke){lastStroke=this.values.stroke;ctx.strokeStyle=this.values.stroke;}commands=this.textSpans[i].elem;jLen=commands.length;this.globalData.canvasContext.beginPath();for(j=0;j<jLen;j+=1){pathArr=commands[j];kLen=pathArr.length;this.globalData.canvasContext.moveTo(pathArr[0],pathArr[1]);for(k=2;k<kLen;k+=6){this.globalData.canvasContext.bezierCurveTo(pathArr[k],pathArr[k+1],pathArr[k+2],pathArr[k+3],pathArr[k+4],pathArr[k+5]);}}this.globalData.canvasContext.closePath();this.globalData.canvasContext.stroke();/// ctx.strokeText(letters[i].val,0,0);\n}if(renderedLetter){this.globalData.renderer.restore();}}}};function CVImageElement(data,globalData,comp){this.assetData=globalData.getAssetData(data.refId);this.img=globalData.imageLoader.getAsset(this.assetData);this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement);CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement;CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame;CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var canvas=createTag('canvas');canvas.width=this.assetData.w;canvas.height=this.assetData.h;var ctx=canvas.getContext('2d');var imgW=this.img.width;var imgH=this.img.height;var imgRel=imgW/imgH;var canvasRel=this.assetData.w/this.assetData.h;var widthCrop;var heightCrop;var par=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;if(imgRel>canvasRel&&par==='xMidYMid slice'||imgRel<canvasRel&&par!=='xMidYMid slice'){heightCrop=imgH;widthCrop=heightCrop*canvasRel;}else{widthCrop=imgW;heightCrop=widthCrop/canvasRel;}ctx.drawImage(this.img,(imgW-widthCrop)/2,(imgH-heightCrop)/2,widthCrop,heightCrop,0,0,this.assetData.w,this.assetData.h);this.img=canvas;}};CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0);};CVImageElement.prototype.destroy=function(){this.img=null;};function CVSolidElement(data,globalData,comp){this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement);CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement;CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame;CVSolidElement.prototype.renderInnerContent=function(){var ctx=this.canvasContext;ctx.fillStyle=this.data.sc;ctx.fillRect(0,0,this.data.sw,this.data.sh);//\n};function CanvasRendererBase(animationItem,config){this.animationItem=animationItem;this.renderConfig={clearCanvas:config&&config.clearCanvas!==undefined?config.clearCanvas:true,context:config&&config.context||null,progressiveLoad:config&&config.progressiveLoad||false,preserveAspectRatio:config&&config.preserveAspectRatio||'xMidYMid meet',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',contentVisibility:config&&config.contentVisibility||'visible',className:config&&config.className||'',id:config&&config.id||''};this.renderConfig.dpr=config&&config.dpr||1;if(this.animationItem.wrapper){this.renderConfig.dpr=config&&config.dpr||window.devicePixelRatio||1;}this.renderedFrame=-1;this.globalData={frameNum:-1,_mdf:false,renderConfig:this.renderConfig,currentGlobalAlpha:-1};this.contextData=new CVContextData();this.elements=[];this.pendingElements=[];this.transformMat=new Matrix();this.completeLayers=false;this.rendererType='canvas';}extendPrototype([BaseRenderer],CanvasRendererBase);CanvasRendererBase.prototype.createShape=function(data){return new CVShapeElement(data,this.globalData,this);};CanvasRendererBase.prototype.createText=function(data){return new CVTextElement(data,this.globalData,this);};CanvasRendererBase.prototype.createImage=function(data){return new CVImageElement(data,this.globalData,this);};CanvasRendererBase.prototype.createSolid=function(data){return new CVSolidElement(data,this.globalData,this);};CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull;CanvasRendererBase.prototype.ctxTransform=function(props){if(props[0]===1&&props[1]===0&&props[4]===0&&props[5]===1&&props[12]===0&&props[13]===0){return;}if(!this.renderConfig.clearCanvas){this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);return;}this.transformMat.cloneFromProps(props);var cProps=this.contextData.cTr.props;this.transformMat.transform(cProps[0],cProps[1],cProps[2],cProps[3],cProps[4],cProps[5],cProps[6],cProps[7],cProps[8],cProps[9],cProps[10],cProps[11],cProps[12],cProps[13],cProps[14],cProps[15]);// this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\nthis.contextData.cTr.cloneFromProps(this.transformMat.props);var trProps=this.contextData.cTr.props;this.canvasContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);};CanvasRendererBase.prototype.ctxOpacity=function(op){/* if(op === 1){\n          return;\n      } */if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=op<0?0:op;this.globalData.currentGlobalAlpha=this.contextData.cO;return;}this.contextData.cO*=op<0?0:op;if(this.globalData.currentGlobalAlpha!==this.contextData.cO){this.canvasContext.globalAlpha=this.contextData.cO;this.globalData.currentGlobalAlpha=this.contextData.cO;}};CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return;}this.contextData.reset();};CanvasRendererBase.prototype.save=function(actionFlag){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return;}if(actionFlag){this.canvasContext.save();}var props=this.contextData.cTr.props;if(this.contextData._length<=this.contextData.cArrPos){this.contextData.duplicate();}var i;var arr=this.contextData.saved[this.contextData.cArrPos];for(i=0;i<16;i+=1){arr[i]=props[i];}this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO;this.contextData.cArrPos+=1;};CanvasRendererBase.prototype.restore=function(actionFlag){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return;}if(actionFlag){this.canvasContext.restore();this.globalData.blendMode='source-over';}this.contextData.cArrPos-=1;var popped=this.contextData.saved[this.contextData.cArrPos];var i;var arr=this.contextData.cTr.props;for(i=0;i<16;i+=1){arr[i]=popped[i];}this.canvasContext.setTransform(popped[0],popped[1],popped[4],popped[5],popped[12],popped[13]);popped=this.contextData.savedOp[this.contextData.cArrPos];this.contextData.cO=popped;if(this.globalData.currentGlobalAlpha!==popped){this.canvasContext.globalAlpha=popped;this.globalData.currentGlobalAlpha=popped;}};CanvasRendererBase.prototype.configAnimation=function(animData){if(this.animationItem.wrapper){this.animationItem.container=createTag('canvas');var containerStyle=this.animationItem.container.style;containerStyle.width='100%';containerStyle.height='100%';var origin='0px 0px 0px';containerStyle.transformOrigin=origin;containerStyle.mozTransformOrigin=origin;containerStyle.webkitTransformOrigin=origin;containerStyle['-webkit-transform']=origin;containerStyle.contentVisibility=this.renderConfig.contentVisibility;this.animationItem.wrapper.appendChild(this.animationItem.container);this.canvasContext=this.animationItem.container.getContext('2d');if(this.renderConfig.className){this.animationItem.container.setAttribute('class',this.renderConfig.className);}if(this.renderConfig.id){this.animationItem.container.setAttribute('id',this.renderConfig.id);}}else{this.canvasContext=this.renderConfig.context;}this.data=animData;this.layers=animData.layers;this.transformCanvas={w:animData.w,h:animData.h,sx:0,sy:0,tx:0,ty:0};this.setupGlobalData(animData,document.body);this.globalData.canvasContext=this.canvasContext;this.globalData.renderer=this;this.globalData.isDashed=false;this.globalData.progressiveLoad=this.renderConfig.progressiveLoad;this.globalData.transformCanvas=this.transformCanvas;this.elements=createSizedArray(animData.layers.length);this.updateContainerSize();};CanvasRendererBase.prototype.updateContainerSize=function(){this.reset();var elementWidth;var elementHeight;if(this.animationItem.wrapper&&this.animationItem.container){elementWidth=this.animationItem.wrapper.offsetWidth;elementHeight=this.animationItem.wrapper.offsetHeight;this.animationItem.container.setAttribute('width',elementWidth*this.renderConfig.dpr);this.animationItem.container.setAttribute('height',elementHeight*this.renderConfig.dpr);}else{elementWidth=this.canvasContext.canvas.width*this.renderConfig.dpr;elementHeight=this.canvasContext.canvas.height*this.renderConfig.dpr;}var elementRel;var animationRel;if(this.renderConfig.preserveAspectRatio.indexOf('meet')!==-1||this.renderConfig.preserveAspectRatio.indexOf('slice')!==-1){var par=this.renderConfig.preserveAspectRatio.split(' ');var fillType=par[1]||'meet';var pos=par[0]||'xMidYMid';var xPos=pos.substr(0,4);var yPos=pos.substr(4);elementRel=elementWidth/elementHeight;animationRel=this.transformCanvas.w/this.transformCanvas.h;if(animationRel>elementRel&&fillType==='meet'||animationRel<elementRel&&fillType==='slice'){this.transformCanvas.sx=elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);this.transformCanvas.sy=elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);}else{this.transformCanvas.sx=elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);this.transformCanvas.sy=elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);}if(xPos==='xMid'&&(animationRel<elementRel&&fillType==='meet'||animationRel>elementRel&&fillType==='slice')){this.transformCanvas.tx=(elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;}else if(xPos==='xMax'&&(animationRel<elementRel&&fillType==='meet'||animationRel>elementRel&&fillType==='slice')){this.transformCanvas.tx=(elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;}else{this.transformCanvas.tx=0;}if(yPos==='YMid'&&(animationRel>elementRel&&fillType==='meet'||animationRel<elementRel&&fillType==='slice')){this.transformCanvas.ty=(elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2*this.renderConfig.dpr;}else if(yPos==='YMax'&&(animationRel>elementRel&&fillType==='meet'||animationRel<elementRel&&fillType==='slice')){this.transformCanvas.ty=(elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))*this.renderConfig.dpr;}else{this.transformCanvas.ty=0;}}else if(this.renderConfig.preserveAspectRatio==='none'){this.transformCanvas.sx=elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);this.transformCanvas.sy=elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);this.transformCanvas.tx=0;this.transformCanvas.ty=0;}else{this.transformCanvas.sx=this.renderConfig.dpr;this.transformCanvas.sy=this.renderConfig.dpr;this.transformCanvas.tx=0;this.transformCanvas.ty=0;}this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];/* var i, len = this.elements.length;\n      for(i=0;i<len;i+=1){\n          if(this.elements[i] && this.elements[i].data.ty === 0){\n              this.elements[i].resize(this.globalData.transformCanvas);\n          }\n      } */this.ctxTransform(this.transformCanvas.props);this.canvasContext.beginPath();this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);this.canvasContext.closePath();this.canvasContext.clip();this.renderFrame(this.renderedFrame,true);};CanvasRendererBase.prototype.destroy=function(){if(this.renderConfig.clearCanvas&&this.animationItem.wrapper){this.animationItem.wrapper.innerText='';}var i;var len=this.layers?this.layers.length:0;for(i=len-1;i>=0;i-=1){if(this.elements[i]){this.elements[i].destroy();}}this.elements.length=0;this.globalData.canvasContext=null;this.animationItem.container=null;this.destroyed=true;};CanvasRendererBase.prototype.renderFrame=function(num,forceRender){if(this.renderedFrame===num&&this.renderConfig.clearCanvas===true&&!forceRender||this.destroyed||num===-1){return;}this.renderedFrame=num;this.globalData.frameNum=num-this.animationItem._isFirstFrame;this.globalData.frameId+=1;this.globalData._mdf=!this.renderConfig.clearCanvas||forceRender;this.globalData.projectInterface.currentFrame=num;// console.log('--------');\n// console.log('NEW: ',num);\nvar i;var len=this.layers.length;if(!this.completeLayers){this.checkLayers(num);}for(i=0;i<len;i+=1){if(this.completeLayers||this.elements[i]){this.elements[i].prepareFrame(num-this.layers[i].st);}}if(this.globalData._mdf){if(this.renderConfig.clearCanvas===true){this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h);}else{this.save();}for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}if(this.renderConfig.clearCanvas!==true){this.restore();}}};CanvasRendererBase.prototype.buildItem=function(pos){var elements=this.elements;if(elements[pos]||this.layers[pos].ty===99){return;}var element=this.createItem(this.layers[pos],this,this.globalData);elements[pos]=element;element.initExpressions();/* if(this.layers[pos].ty === 0){\n          element.resize(this.globalData.transformCanvas);\n      } */};CanvasRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var element=this.pendingElements.pop();element.checkParenting();}};CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display='none';};CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display='block';};function CVCompElement(data,globalData,comp){this.completeLayers=false;this.layers=data.layers;this.pendingElements=[];this.elements=createSizedArray(this.layers.length);this.initElement(data,globalData,comp);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement);CVCompElement.prototype.renderInnerContent=function(){var ctx=this.canvasContext;ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(this.data.w,0);ctx.lineTo(this.data.w,this.data.h);ctx.lineTo(0,this.data.h);ctx.lineTo(0,0);ctx.clip();var i;var len=this.layers.length;for(i=len-1;i>=0;i-=1){if(this.completeLayers||this.elements[i]){this.elements[i].renderFrame();}}};CVCompElement.prototype.destroy=function(){var i;var len=this.layers.length;for(i=len-1;i>=0;i-=1){if(this.elements[i]){this.elements[i].destroy();}}this.layers=null;this.elements=null;};CVCompElement.prototype.createComp=function(data){return new CVCompElement(data,this.globalData,this);};function CanvasRenderer(animationItem,config){this.animationItem=animationItem;this.renderConfig={clearCanvas:config&&config.clearCanvas!==undefined?config.clearCanvas:true,context:config&&config.context||null,progressiveLoad:config&&config.progressiveLoad||false,preserveAspectRatio:config&&config.preserveAspectRatio||'xMidYMid meet',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',contentVisibility:config&&config.contentVisibility||'visible',className:config&&config.className||'',id:config&&config.id||''};this.renderConfig.dpr=config&&config.dpr||1;if(this.animationItem.wrapper){this.renderConfig.dpr=config&&config.dpr||window.devicePixelRatio||1;}this.renderedFrame=-1;this.globalData={frameNum:-1,_mdf:false,renderConfig:this.renderConfig,currentGlobalAlpha:-1};this.contextData=new CVContextData();this.elements=[];this.pendingElements=[];this.transformMat=new Matrix();this.completeLayers=false;this.rendererType='canvas';}extendPrototype([CanvasRendererBase],CanvasRenderer);CanvasRenderer.prototype.createComp=function(data){return new CVCompElement(data,this.globalData,this);};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function checkBlendMode(){},initRendererElement:function initRendererElement(){this.baseElement=createTag(this.data.tg||'div');if(this.data.hasMask){this.svgElement=createNS('svg');this.layerElement=createNS('g');this.maskedElement=this.layerElement;this.svgElement.appendChild(this.layerElement);this.baseElement.appendChild(this.svgElement);}else{this.layerElement=this.baseElement;}styleDiv(this.baseElement);},createContainerElements:function createContainerElements(){this.renderableEffectsManager=new CVEffects(this);this.transformedElement=this.baseElement;this.maskedElement=this.layerElement;if(this.data.ln){this.layerElement.setAttribute('id',this.data.ln);}if(this.data.cl){this.layerElement.setAttribute('class',this.data.cl);}if(this.data.bm!==0){this.setBlendMode();}},renderElement:function renderElement(){var transformedElementStyle=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var matrixValue=this.finalTransform.mat.toCSS();transformedElementStyle.transform=matrixValue;transformedElementStyle.webkitTransform=matrixValue;}if(this.finalTransform._opMdf){transformedElementStyle.opacity=this.finalTransform.mProp.o.v;}},renderFrame:function renderFrame(){// If it is exported as hidden (data.hd === true) no need to render\n// If it is not visible no need to render\nif(this.data.hd||this.hidden){return;}this.renderTransform();this.renderRenderable();this.renderElement();this.renderInnerContent();if(this._isFirstFrame){this._isFirstFrame=false;}},destroy:function destroy(){this.layerElement=null;this.transformedElement=null;if(this.matteElement){this.matteElement=null;}if(this.maskManager){this.maskManager.destroy();this.maskManager=null;}},createRenderableComponents:function createRenderableComponents(){this.maskManager=new MaskElement(this.data,this,this.globalData);},addEffects:function addEffects(){},setMatte:function setMatte(){}};HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement;HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy;HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(data,globalData,comp){this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement);HSolidElement.prototype.createContent=function(){var rect;if(this.data.hasMask){rect=createNS('rect');rect.setAttribute('width',this.data.sw);rect.setAttribute('height',this.data.sh);rect.setAttribute('fill',this.data.sc);this.svgElement.setAttribute('width',this.data.sw);this.svgElement.setAttribute('height',this.data.sh);}else{rect=createTag('div');rect.style.width=this.data.sw+'px';rect.style.height=this.data.sh+'px';rect.style.backgroundColor=this.data.sc;}this.layerElement.appendChild(rect);};function HShapeElement(data,globalData,comp){// List of drawable elements\nthis.shapes=[];// Full shape data\nthis.shapesData=data.shapes;// List of styles that will be applied to shapes\nthis.stylesList=[];// List of modifiers that will be applied to shapes\nthis.shapeModifiers=[];// List of items in shape tree\nthis.itemsData=[];// List of items in previous shape tree\nthis.processedElements=[];// List of animated components\nthis.animatedContents=[];this.shapesContainer=createNS('g');this.initElement(data,globalData,comp);// Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n// List of elements that have been created\nthis.prevViewData=[];this.currentBBox={x:999999,y:-999999,h:0,w:0};}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement);HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent;HShapeElement.prototype.createContent=function(){var cont;this.baseElement.style.fontSize=0;if(this.data.hasMask){this.layerElement.appendChild(this.shapesContainer);cont=this.svgElement;}else{cont=createNS('svg');var size=this.comp.data?this.comp.data:this.globalData.compSize;cont.setAttribute('width',size.w);cont.setAttribute('height',size.h);cont.appendChild(this.shapesContainer);this.layerElement.appendChild(cont);}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],true);this.filterUniqueShapes();this.shapeCont=cont;};HShapeElement.prototype.getTransformedPoint=function(transformers,point){var i;var len=transformers.length;for(i=0;i<len;i+=1){point=transformers[i].mProps.v.applyToPointArray(point[0],point[1],0);}return point;};HShapeElement.prototype.calculateShapeBoundingBox=function(item,boundingBox){var shape=item.sh.v;var transformers=item.transformers;var i;var len=shape._length;var vPoint;var oPoint;var nextIPoint;var nextVPoint;if(len<=1){return;}for(i=0;i<len-1;i+=1){vPoint=this.getTransformedPoint(transformers,shape.v[i]);oPoint=this.getTransformedPoint(transformers,shape.o[i]);nextIPoint=this.getTransformedPoint(transformers,shape.i[i+1]);nextVPoint=this.getTransformedPoint(transformers,shape.v[i+1]);this.checkBounds(vPoint,oPoint,nextIPoint,nextVPoint,boundingBox);}if(shape.c){vPoint=this.getTransformedPoint(transformers,shape.v[i]);oPoint=this.getTransformedPoint(transformers,shape.o[i]);nextIPoint=this.getTransformedPoint(transformers,shape.i[0]);nextVPoint=this.getTransformedPoint(transformers,shape.v[0]);this.checkBounds(vPoint,oPoint,nextIPoint,nextVPoint,boundingBox);}};HShapeElement.prototype.checkBounds=function(vPoint,oPoint,nextIPoint,nextVPoint,boundingBox){this.getBoundsOfCurve(vPoint,oPoint,nextIPoint,nextVPoint);var bounds=this.shapeBoundingBox;boundingBox.x=bmMin(bounds.left,boundingBox.x);boundingBox.xMax=bmMax(bounds.right,boundingBox.xMax);boundingBox.y=bmMin(bounds.top,boundingBox.y);boundingBox.yMax=bmMax(bounds.bottom,boundingBox.yMax);};HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0};HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0};HShapeElement.prototype.getBoundsOfCurve=function(p0,p1,p2,p3){var bounds=[[p0[0],p3[0]],[p0[1],p3[1]]];for(var a,b,c,t,b2ac,t1,t2,i=0;i<2;++i){// eslint-disable-line no-plusplus\nb=6*p0[i]-12*p1[i]+6*p2[i];a=-3*p0[i]+9*p1[i]-9*p2[i]+3*p3[i];c=3*p1[i]-3*p0[i];b|=0;// eslint-disable-line no-bitwise\na|=0;// eslint-disable-line no-bitwise\nc|=0;// eslint-disable-line no-bitwise\nif(a===0&&b===0){//\n}else if(a===0){t=-c/b;if(t>0&&t<1){bounds[i].push(this.calculateF(t,p0,p1,p2,p3,i));}}else{b2ac=b*b-4*c*a;if(b2ac>=0){t1=(-b+bmSqrt(b2ac))/(2*a);if(t1>0&&t1<1)bounds[i].push(this.calculateF(t1,p0,p1,p2,p3,i));t2=(-b-bmSqrt(b2ac))/(2*a);if(t2>0&&t2<1)bounds[i].push(this.calculateF(t2,p0,p1,p2,p3,i));}}}this.shapeBoundingBox.left=bmMin.apply(null,bounds[0]);this.shapeBoundingBox.top=bmMin.apply(null,bounds[1]);this.shapeBoundingBox.right=bmMax.apply(null,bounds[0]);this.shapeBoundingBox.bottom=bmMax.apply(null,bounds[1]);};HShapeElement.prototype.calculateF=function(t,p0,p1,p2,p3,i){return bmPow(1-t,3)*p0[i]+3*bmPow(1-t,2)*t*p1[i]+3*(1-t)*bmPow(t,2)*p2[i]+bmPow(t,3)*p3[i];};HShapeElement.prototype.calculateBoundingBox=function(itemsData,boundingBox){var i;var len=itemsData.length;for(i=0;i<len;i+=1){if(itemsData[i]&&itemsData[i].sh){this.calculateShapeBoundingBox(itemsData[i],boundingBox);}else if(itemsData[i]&&itemsData[i].it){this.calculateBoundingBox(itemsData[i].it,boundingBox);}}};HShapeElement.prototype.currentBoxContains=function(box){return this.currentBBox.x<=box.x&&this.currentBBox.y<=box.y&&this.currentBBox.width+this.currentBBox.x>=box.x+box.width&&this.currentBBox.height+this.currentBBox.y>=box.y+box.height;};HShapeElement.prototype.renderInnerContent=function(){this._renderShapeFrame();if(!this.hidden&&(this._isFirstFrame||this._mdf)){var tempBoundingBox=this.tempBoundingBox;var max=999999;tempBoundingBox.x=max;tempBoundingBox.xMax=-max;tempBoundingBox.y=max;tempBoundingBox.yMax=-max;this.calculateBoundingBox(this.itemsData,tempBoundingBox);tempBoundingBox.width=tempBoundingBox.xMax<tempBoundingBox.x?0:tempBoundingBox.xMax-tempBoundingBox.x;tempBoundingBox.height=tempBoundingBox.yMax<tempBoundingBox.y?0:tempBoundingBox.yMax-tempBoundingBox.y;// var tempBoundingBox = this.shapeCont.getBBox();\nif(this.currentBoxContains(tempBoundingBox)){return;}var changed=false;if(this.currentBBox.w!==tempBoundingBox.width){this.currentBBox.w=tempBoundingBox.width;this.shapeCont.setAttribute('width',tempBoundingBox.width);changed=true;}if(this.currentBBox.h!==tempBoundingBox.height){this.currentBBox.h=tempBoundingBox.height;this.shapeCont.setAttribute('height',tempBoundingBox.height);changed=true;}if(changed||this.currentBBox.x!==tempBoundingBox.x||this.currentBBox.y!==tempBoundingBox.y){this.currentBBox.w=tempBoundingBox.width;this.currentBBox.h=tempBoundingBox.height;this.currentBBox.x=tempBoundingBox.x;this.currentBBox.y=tempBoundingBox.y;this.shapeCont.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);var shapeStyle=this.shapeCont.style;var shapeTransform='translate('+this.currentBBox.x+'px,'+this.currentBBox.y+'px)';shapeStyle.transform=shapeTransform;shapeStyle.webkitTransform=shapeTransform;}}};function HTextElement(data,globalData,comp){this.textSpans=[];this.textPaths=[];this.currentBBox={x:999999,y:-999999,h:0,w:0};this.renderType='svg';this.isMasked=false;this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement);HTextElement.prototype.createContent=function(){this.isMasked=this.checkMasks();if(this.isMasked){this.renderType='svg';this.compW=this.comp.data.w;this.compH=this.comp.data.h;this.svgElement.setAttribute('width',this.compW);this.svgElement.setAttribute('height',this.compH);var g=createNS('g');this.maskedElement.appendChild(g);this.innerElem=g;}else{this.renderType='html';this.innerElem=this.layerElement;}this.checkParenting();};HTextElement.prototype.buildNewText=function(){var documentData=this.textProperty.currentData;this.renderedLetters=createSizedArray(documentData.l?documentData.l.length:0);var innerElemStyle=this.innerElem.style;var textColor=documentData.fc?this.buildColor(documentData.fc):'rgba(0,0,0,0)';innerElemStyle.fill=textColor;innerElemStyle.color=textColor;if(documentData.sc){innerElemStyle.stroke=this.buildColor(documentData.sc);innerElemStyle.strokeWidth=documentData.sw+'px';}var fontData=this.globalData.fontManager.getFontByName(documentData.f);if(!this.globalData.fontManager.chars){innerElemStyle.fontSize=documentData.finalSize+'px';innerElemStyle.lineHeight=documentData.finalSize+'px';if(fontData.fClass){this.innerElem.className=fontData.fClass;}else{innerElemStyle.fontFamily=fontData.fFamily;var fWeight=documentData.fWeight;var fStyle=documentData.fStyle;innerElemStyle.fontStyle=fStyle;innerElemStyle.fontWeight=fWeight;}}var i;var len;var letters=documentData.l;len=letters.length;var tSpan;var tParent;var tCont;var matrixHelper=this.mHelper;var shapes;var shapeStr='';var cnt=0;for(i=0;i<len;i+=1){if(this.globalData.fontManager.chars){if(!this.textPaths[cnt]){tSpan=createNS('path');tSpan.setAttribute('stroke-linecap',lineCapEnum[1]);tSpan.setAttribute('stroke-linejoin',lineJoinEnum[2]);tSpan.setAttribute('stroke-miterlimit','4');}else{tSpan=this.textPaths[cnt];}if(!this.isMasked){if(this.textSpans[cnt]){tParent=this.textSpans[cnt];tCont=tParent.children[0];}else{tParent=createTag('div');tParent.style.lineHeight=0;tCont=createNS('svg');tCont.appendChild(tSpan);styleDiv(tParent);}}}else if(!this.isMasked){if(this.textSpans[cnt]){tParent=this.textSpans[cnt];tSpan=this.textPaths[cnt];}else{tParent=createTag('span');styleDiv(tParent);tSpan=createTag('span');styleDiv(tSpan);tParent.appendChild(tSpan);}}else{tSpan=this.textPaths[cnt]?this.textPaths[cnt]:createNS('text');}// tSpan.setAttribute('visibility', 'hidden');\nif(this.globalData.fontManager.chars){var charData=this.globalData.fontManager.getCharData(documentData.finalText[i],fontData.fStyle,this.globalData.fontManager.getFontByName(documentData.f).fFamily);var shapeData;if(charData){shapeData=charData.data;}else{shapeData=null;}matrixHelper.reset();if(shapeData&&shapeData.shapes&&shapeData.shapes.length){shapes=shapeData.shapes[0].it;matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);shapeStr=this.createPathShape(matrixHelper,shapes);tSpan.setAttribute('d',shapeStr);}if(!this.isMasked){this.innerElem.appendChild(tParent);if(shapeData&&shapeData.shapes){// document.body.appendChild is needed to get exact measure of shape\ndocument.body.appendChild(tCont);var boundingBox=tCont.getBBox();tCont.setAttribute('width',boundingBox.width+2);tCont.setAttribute('height',boundingBox.height+2);tCont.setAttribute('viewBox',boundingBox.x-1+' '+(boundingBox.y-1)+' '+(boundingBox.width+2)+' '+(boundingBox.height+2));var tContStyle=tCont.style;var tContTranslation='translate('+(boundingBox.x-1)+'px,'+(boundingBox.y-1)+'px)';tContStyle.transform=tContTranslation;tContStyle.webkitTransform=tContTranslation;letters[i].yOffset=boundingBox.y-1;}else{tCont.setAttribute('width',1);tCont.setAttribute('height',1);}tParent.appendChild(tCont);}else{this.innerElem.appendChild(tSpan);}}else{tSpan.textContent=letters[i].val;tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace','xml:space','preserve');if(!this.isMasked){this.innerElem.appendChild(tParent);//\nvar tStyle=tSpan.style;var tSpanTranslation='translate3d(0,'+-documentData.finalSize/1.2+'px,0)';tStyle.transform=tSpanTranslation;tStyle.webkitTransform=tSpanTranslation;}else{this.innerElem.appendChild(tSpan);}}//\nif(!this.isMasked){this.textSpans[cnt]=tParent;}else{this.textSpans[cnt]=tSpan;}this.textSpans[cnt].style.display='block';this.textPaths[cnt]=tSpan;cnt+=1;}while(cnt<this.textSpans.length){this.textSpans[cnt].style.display='none';cnt+=1;}};HTextElement.prototype.renderInnerContent=function(){var svgStyle;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag){return;}if(this.isMasked&&this.finalTransform._matMdf){// Todo Benchmark if using this is better than getBBox\nthis.svgElement.setAttribute('viewBox',-this.finalTransform.mProp.p.v[0]+' '+-this.finalTransform.mProp.p.v[1]+' '+this.compW+' '+this.compH);svgStyle=this.svgElement.style;var translation='translate('+-this.finalTransform.mProp.p.v[0]+'px,'+-this.finalTransform.mProp.p.v[1]+'px)';svgStyle.transform=translation;svgStyle.webkitTransform=translation;}}this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);if(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag){return;}var i;var len;var count=0;var renderedLetters=this.textAnimator.renderedLetters;var letters=this.textProperty.currentData.l;len=letters.length;var renderedLetter;var textSpan;var textPath;for(i=0;i<len;i+=1){if(letters[i].n){count+=1;}else{textSpan=this.textSpans[i];textPath=this.textPaths[i];renderedLetter=renderedLetters[count];count+=1;if(renderedLetter._mdf.m){if(!this.isMasked){textSpan.style.webkitTransform=renderedLetter.m;textSpan.style.transform=renderedLetter.m;}else{textSpan.setAttribute('transform',renderedLetter.m);}}/// /textSpan.setAttribute('opacity',renderedLetter.o);\ntextSpan.style.opacity=renderedLetter.o;if(renderedLetter.sw&&renderedLetter._mdf.sw){textPath.setAttribute('stroke-width',renderedLetter.sw);}if(renderedLetter.sc&&renderedLetter._mdf.sc){textPath.setAttribute('stroke',renderedLetter.sc);}if(renderedLetter.fc&&renderedLetter._mdf.fc){textPath.setAttribute('fill',renderedLetter.fc);textPath.style.color=renderedLetter.fc;}}}if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var boundingBox=this.innerElem.getBBox();if(this.currentBBox.w!==boundingBox.width){this.currentBBox.w=boundingBox.width;this.svgElement.setAttribute('width',boundingBox.width);}if(this.currentBBox.h!==boundingBox.height){this.currentBBox.h=boundingBox.height;this.svgElement.setAttribute('height',boundingBox.height);}var margin=1;if(this.currentBBox.w!==boundingBox.width+margin*2||this.currentBBox.h!==boundingBox.height+margin*2||this.currentBBox.x!==boundingBox.x-margin||this.currentBBox.y!==boundingBox.y-margin){this.currentBBox.w=boundingBox.width+margin*2;this.currentBBox.h=boundingBox.height+margin*2;this.currentBBox.x=boundingBox.x-margin;this.currentBBox.y=boundingBox.y-margin;this.svgElement.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);svgStyle=this.svgElement.style;var svgTransform='translate('+this.currentBBox.x+'px,'+this.currentBBox.y+'px)';svgStyle.transform=svgTransform;svgStyle.webkitTransform=svgTransform;}}};function HCameraElement(data,globalData,comp){this.initFrame();this.initBaseData(data,globalData,comp);this.initHierarchy();var getProp=PropertyFactory.getProp;this.pe=getProp(this,data.pe,0,0,this);if(data.ks.p.s){this.px=getProp(this,data.ks.p.x,1,0,this);this.py=getProp(this,data.ks.p.y,1,0,this);this.pz=getProp(this,data.ks.p.z,1,0,this);}else{this.p=getProp(this,data.ks.p,1,0,this);}if(data.ks.a){this.a=getProp(this,data.ks.a,1,0,this);}if(data.ks.or.k.length&&data.ks.or.k[0].to){var i;var len=data.ks.or.k.length;for(i=0;i<len;i+=1){data.ks.or.k[i].to=null;data.ks.or.k[i].ti=null;}}this.or=getProp(this,data.ks.or,1,degToRads,this);this.or.sh=true;this.rx=getProp(this,data.ks.rx,0,degToRads,this);this.ry=getProp(this,data.ks.ry,0,degToRads,this);this.rz=getProp(this,data.ks.rz,0,degToRads,this);this.mat=new Matrix();this._prevMat=new Matrix();this._isFirstFrame=true;// TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\nthis.finalTransform={mProp:this};}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement);HCameraElement.prototype.setup=function(){var i;var len=this.comp.threeDElements.length;var comp;var perspectiveStyle;var containerStyle;for(i=0;i<len;i+=1){// [perspectiveElem,container]\ncomp=this.comp.threeDElements[i];if(comp.type==='3d'){perspectiveStyle=comp.perspectiveElem.style;containerStyle=comp.container.style;var perspective=this.pe.v+'px';var origin='0px 0px 0px';var matrix='matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';perspectiveStyle.perspective=perspective;perspectiveStyle.webkitPerspective=perspective;containerStyle.transformOrigin=origin;containerStyle.mozTransformOrigin=origin;containerStyle.webkitTransformOrigin=origin;perspectiveStyle.transform=matrix;perspectiveStyle.webkitTransform=matrix;}}};HCameraElement.prototype.createElements=function(){};HCameraElement.prototype.hide=function(){};HCameraElement.prototype.renderFrame=function(){var _mdf=this._isFirstFrame;var i;var len;if(this.hierarchy){len=this.hierarchy.length;for(i=0;i<len;i+=1){_mdf=this.hierarchy[i].finalTransform.mProp._mdf||_mdf;}}if(_mdf||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){this.mat.reset();if(this.hierarchy){len=this.hierarchy.length-1;for(i=len;i>=0;i-=1){var mTransf=this.hierarchy[i].finalTransform.mProp;this.mat.translate(-mTransf.p.v[0],-mTransf.p.v[1],mTransf.p.v[2]);this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);this.mat.scale(1/mTransf.s.v[0],1/mTransf.s.v[1],1/mTransf.s.v[2]);this.mat.translate(mTransf.a.v[0],mTransf.a.v[1],mTransf.a.v[2]);}}if(this.p){this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]);}else{this.mat.translate(-this.px.v,-this.py.v,this.pz.v);}if(this.a){var diffVector;if(this.p){diffVector=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]];}else{diffVector=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];}var mag=Math.sqrt(Math.pow(diffVector[0],2)+Math.pow(diffVector[1],2)+Math.pow(diffVector[2],2));// var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\nvar lookDir=[diffVector[0]/mag,diffVector[1]/mag,diffVector[2]/mag];var lookLengthOnXZ=Math.sqrt(lookDir[2]*lookDir[2]+lookDir[0]*lookDir[0]);var mRotationX=Math.atan2(lookDir[1],lookLengthOnXZ);var mRotationY=Math.atan2(lookDir[0],-lookDir[2]);this.mat.rotateY(mRotationY).rotateX(-mRotationX);}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0);this.mat.translate(0,0,this.pe.v);var hasMatrixChanged=!this._prevMat.equals(this.mat);if((hasMatrixChanged||this.pe._mdf)&&this.comp.threeDElements){len=this.comp.threeDElements.length;var comp;var perspectiveStyle;var containerStyle;for(i=0;i<len;i+=1){comp=this.comp.threeDElements[i];if(comp.type==='3d'){if(hasMatrixChanged){var matValue=this.mat.toCSS();containerStyle=comp.container.style;containerStyle.transform=matValue;containerStyle.webkitTransform=matValue;}if(this.pe._mdf){perspectiveStyle=comp.perspectiveElem.style;perspectiveStyle.perspective=this.pe.v+'px';perspectiveStyle.webkitPerspective=this.pe.v+'px';}}}this.mat.clone(this._prevMat);}}this._isFirstFrame=false;};HCameraElement.prototype.prepareFrame=function(num){this.prepareProperties(num,true);};HCameraElement.prototype.destroy=function(){};HCameraElement.prototype.getBaseElement=function(){return null;};function HImageElement(data,globalData,comp){this.assetData=globalData.getAssetData(data.refId);this.initElement(data,globalData,comp);}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement);HImageElement.prototype.createContent=function(){var assetPath=this.globalData.getAssetsPath(this.assetData);var img=new Image();if(this.data.hasMask){this.imageElem=createNS('image');this.imageElem.setAttribute('width',this.assetData.w+'px');this.imageElem.setAttribute('height',this.assetData.h+'px');this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);this.layerElement.appendChild(this.imageElem);this.baseElement.setAttribute('width',this.assetData.w);this.baseElement.setAttribute('height',this.assetData.h);}else{this.layerElement.appendChild(img);}img.crossOrigin='anonymous';img.src=assetPath;if(this.data.ln){this.baseElement.setAttribute('id',this.data.ln);}};function HybridRendererBase(animationItem,config){this.animationItem=animationItem;this.layers=null;this.renderedFrame=-1;this.renderConfig={className:config&&config.className||'',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',hideOnTransparent:!(config&&config.hideOnTransparent===false),filterSize:{width:config&&config.filterSize&&config.filterSize.width||'400%',height:config&&config.filterSize&&config.filterSize.height||'400%',x:config&&config.filterSize&&config.filterSize.x||'-100%',y:config&&config.filterSize&&config.filterSize.y||'-100%'}};this.globalData={_mdf:false,frameNum:-1,renderConfig:this.renderConfig};this.pendingElements=[];this.elements=[];this.threeDElements=[];this.destroyed=false;this.camera=null;this.supports3d=true;this.rendererType='html';}extendPrototype([BaseRenderer],HybridRendererBase);HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem;HybridRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var element=this.pendingElements.pop();element.checkParenting();}};HybridRendererBase.prototype.appendElementInPos=function(element,pos){var newDOMElement=element.getBaseElement();if(!newDOMElement){return;}var layer=this.layers[pos];if(!layer.ddd||!this.supports3d){if(this.threeDElements){this.addTo3dContainer(newDOMElement,pos);}else{var i=0;var nextDOMElement;var nextLayer;var tmpDOMElement;while(i<pos){if(this.elements[i]&&this.elements[i]!==true&&this.elements[i].getBaseElement){nextLayer=this.elements[i];tmpDOMElement=this.layers[i].ddd?this.getThreeDContainerByPos(i):nextLayer.getBaseElement();nextDOMElement=tmpDOMElement||nextDOMElement;}i+=1;}if(nextDOMElement){if(!layer.ddd||!this.supports3d){this.layerElement.insertBefore(newDOMElement,nextDOMElement);}}else if(!layer.ddd||!this.supports3d){this.layerElement.appendChild(newDOMElement);}}}else{this.addTo3dContainer(newDOMElement,pos);}};HybridRendererBase.prototype.createShape=function(data){if(!this.supports3d){return new SVGShapeElement(data,this.globalData,this);}return new HShapeElement(data,this.globalData,this);};HybridRendererBase.prototype.createText=function(data){if(!this.supports3d){return new SVGTextLottieElement(data,this.globalData,this);}return new HTextElement(data,this.globalData,this);};HybridRendererBase.prototype.createCamera=function(data){this.camera=new HCameraElement(data,this.globalData,this);return this.camera;};HybridRendererBase.prototype.createImage=function(data){if(!this.supports3d){return new IImageElement(data,this.globalData,this);}return new HImageElement(data,this.globalData,this);};HybridRendererBase.prototype.createSolid=function(data){if(!this.supports3d){return new ISolidElement(data,this.globalData,this);}return new HSolidElement(data,this.globalData,this);};HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull;HybridRendererBase.prototype.getThreeDContainerByPos=function(pos){var i=0;var len=this.threeDElements.length;while(i<len){if(this.threeDElements[i].startPos<=pos&&this.threeDElements[i].endPos>=pos){return this.threeDElements[i].perspectiveElem;}i+=1;}return null;};HybridRendererBase.prototype.createThreeDContainer=function(pos,type){var perspectiveElem=createTag('div');var style;var containerStyle;styleDiv(perspectiveElem);var container=createTag('div');styleDiv(container);if(type==='3d'){style=perspectiveElem.style;style.width=this.globalData.compSize.w+'px';style.height=this.globalData.compSize.h+'px';var center='50% 50%';style.webkitTransformOrigin=center;style.mozTransformOrigin=center;style.transformOrigin=center;containerStyle=container.style;var matrix='matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';containerStyle.transform=matrix;containerStyle.webkitTransform=matrix;}perspectiveElem.appendChild(container);// this.resizerElem.appendChild(perspectiveElem);\nvar threeDContainerData={container:container,perspectiveElem:perspectiveElem,startPos:pos,endPos:pos,type:type};this.threeDElements.push(threeDContainerData);return threeDContainerData;};HybridRendererBase.prototype.build3dContainers=function(){var i;var len=this.layers.length;var lastThreeDContainerData;var currentContainer='';for(i=0;i<len;i+=1){if(this.layers[i].ddd&&this.layers[i].ty!==3){if(currentContainer!=='3d'){currentContainer='3d';lastThreeDContainerData=this.createThreeDContainer(i,'3d');}lastThreeDContainerData.endPos=Math.max(lastThreeDContainerData.endPos,i);}else{if(currentContainer!=='2d'){currentContainer='2d';lastThreeDContainerData=this.createThreeDContainer(i,'2d');}lastThreeDContainerData.endPos=Math.max(lastThreeDContainerData.endPos,i);}}len=this.threeDElements.length;for(i=len-1;i>=0;i-=1){this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);}};HybridRendererBase.prototype.addTo3dContainer=function(elem,pos){var i=0;var len=this.threeDElements.length;while(i<len){if(pos<=this.threeDElements[i].endPos){var j=this.threeDElements[i].startPos;var nextElement;while(j<pos){if(this.elements[j]&&this.elements[j].getBaseElement){nextElement=this.elements[j].getBaseElement();}j+=1;}if(nextElement){this.threeDElements[i].container.insertBefore(elem,nextElement);}else{this.threeDElements[i].container.appendChild(elem);}break;}i+=1;}};HybridRendererBase.prototype.configAnimation=function(animData){var resizerElem=createTag('div');var wrapper=this.animationItem.wrapper;var style=resizerElem.style;style.width=animData.w+'px';style.height=animData.h+'px';this.resizerElem=resizerElem;styleDiv(resizerElem);style.transformStyle='flat';style.mozTransformStyle='flat';style.webkitTransformStyle='flat';if(this.renderConfig.className){resizerElem.setAttribute('class',this.renderConfig.className);}wrapper.appendChild(resizerElem);style.overflow='hidden';var svg=createNS('svg');svg.setAttribute('width','1');svg.setAttribute('height','1');styleDiv(svg);this.resizerElem.appendChild(svg);var defs=createNS('defs');svg.appendChild(defs);this.data=animData;// Mask animation\nthis.setupGlobalData(animData,svg);this.globalData.defs=defs;this.layers=animData.layers;this.layerElement=this.resizerElem;this.build3dContainers();this.updateContainerSize();};HybridRendererBase.prototype.destroy=function(){if(this.animationItem.wrapper){this.animationItem.wrapper.innerText='';}this.animationItem.container=null;this.globalData.defs=null;var i;var len=this.layers?this.layers.length:0;for(i=0;i<len;i+=1){this.elements[i].destroy();}this.elements.length=0;this.destroyed=true;this.animationItem=null;};HybridRendererBase.prototype.updateContainerSize=function(){var elementWidth=this.animationItem.wrapper.offsetWidth;var elementHeight=this.animationItem.wrapper.offsetHeight;var elementRel=elementWidth/elementHeight;var animationRel=this.globalData.compSize.w/this.globalData.compSize.h;var sx;var sy;var tx;var ty;if(animationRel>elementRel){sx=elementWidth/this.globalData.compSize.w;sy=elementWidth/this.globalData.compSize.w;tx=0;ty=(elementHeight-this.globalData.compSize.h*(elementWidth/this.globalData.compSize.w))/2;}else{sx=elementHeight/this.globalData.compSize.h;sy=elementHeight/this.globalData.compSize.h;tx=(elementWidth-this.globalData.compSize.w*(elementHeight/this.globalData.compSize.h))/2;ty=0;}var style=this.resizerElem.style;style.webkitTransform='matrix3d('+sx+',0,0,0,0,'+sy+',0,0,0,0,1,0,'+tx+','+ty+',0,1)';style.transform=style.webkitTransform;};HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame;HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display='none';};HybridRendererBase.prototype.show=function(){this.resizerElem.style.display='block';};HybridRendererBase.prototype.initItems=function(){this.buildAllItems();if(this.camera){this.camera.setup();}else{var cWidth=this.globalData.compSize.w;var cHeight=this.globalData.compSize.h;var i;var len=this.threeDElements.length;for(i=0;i<len;i+=1){var style=this.threeDElements[i].perspectiveElem.style;style.webkitPerspective=Math.sqrt(Math.pow(cWidth,2)+Math.pow(cHeight,2))+'px';style.perspective=style.webkitPerspective;}}};HybridRendererBase.prototype.searchExtraCompositions=function(assets){var i;var len=assets.length;var floatingContainer=createTag('div');for(i=0;i<len;i+=1){if(assets[i].xt){var comp=this.createComp(assets[i],floatingContainer,this.globalData.comp,null);comp.initExpressions();this.globalData.projectInterface.registerComposition(comp);}}};function HCompElement(data,globalData,comp){this.layers=data.layers;this.supports3d=!data.hasMask;this.completeLayers=false;this.pendingElements=[];this.elements=this.layers?createSizedArray(this.layers.length):[];this.initElement(data,globalData,comp);this.tm=data.tm?PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this):{_placeholder:true};}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement);HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements;HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements();// divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\nif(this.data.hasMask){this.svgElement.setAttribute('width',this.data.w);this.svgElement.setAttribute('height',this.data.h);this.transformedElement=this.baseElement;}else{this.transformedElement=this.layerElement;}};HCompElement.prototype.addTo3dContainer=function(elem,pos){var j=0;var nextElement;while(j<pos){if(this.elements[j]&&this.elements[j].getBaseElement){nextElement=this.elements[j].getBaseElement();}j+=1;}if(nextElement){this.layerElement.insertBefore(elem,nextElement);}else{this.layerElement.appendChild(elem);}};HCompElement.prototype.createComp=function(data){if(!this.supports3d){return new SVGCompElement(data,this.globalData,this);}return new HCompElement(data,this.globalData,this);};function HybridRenderer(animationItem,config){this.animationItem=animationItem;this.layers=null;this.renderedFrame=-1;this.renderConfig={className:config&&config.className||'',imagePreserveAspectRatio:config&&config.imagePreserveAspectRatio||'xMidYMid slice',hideOnTransparent:!(config&&config.hideOnTransparent===false),filterSize:{width:config&&config.filterSize&&config.filterSize.width||'400%',height:config&&config.filterSize&&config.filterSize.height||'400%',x:config&&config.filterSize&&config.filterSize.x||'-100%',y:config&&config.filterSize&&config.filterSize.y||'-100%'}};this.globalData={_mdf:false,frameNum:-1,renderConfig:this.renderConfig};this.pendingElements=[];this.elements=[];this.threeDElements=[];this.destroyed=false;this.camera=null;this.supports3d=true;this.rendererType='html';}extendPrototype([HybridRendererBase],HybridRenderer);HybridRenderer.prototype.createComp=function(data){if(!this.supports3d){return new SVGCompElement(data,this.globalData,this);}return new HCompElement(data,this.globalData,this);};var Expressions=function(){var ob={};ob.initExpressions=initExpressions;function initExpressions(animation){var stackCount=0;var registers=[];function pushExpression(){stackCount+=1;}function popExpression(){stackCount-=1;if(stackCount===0){releaseInstances();}}function registerExpressionProperty(expression){if(registers.indexOf(expression)===-1){registers.push(expression);}}function releaseInstances(){var i;var len=registers.length;for(i=0;i<len;i+=1){registers[i].release();}registers.length=0;}animation.renderer.compInterface=CompExpressionInterface(animation.renderer);animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);animation.renderer.globalData.pushExpression=pushExpression;animation.renderer.globalData.popExpression=popExpression;animation.renderer.globalData.registerExpressionProperty=registerExpressionProperty;}return ob;}();function _typeof$1(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof$1=function _typeof(obj){return typeof obj;};}else{_typeof$1=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof$1(obj);}/* eslint-disable */ /*\n   Copyright 2014 David Bau.\n\n   Permission is hereby granted, free of charge, to any person obtaining\n   a copy of this software and associated documentation files (the\n   \"Software\"), to deal in the Software without restriction, including\n   without limitation the rights to use, copy, modify, merge, publish,\n   distribute, sublicense, and/or sell copies of the Software, and to\n   permit persons to whom the Software is furnished to do so, subject to\n   the following conditions:\n\n   The above copyright notice and this permission notice shall be\n   included in all copies or substantial portions of the Software.\n\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n   */function seedRandom(pool,math){//\n// The following constants are related to IEEE 754 limits.\n//\nvar global=this,width=256,// each RC4 output is 0 <= x < 256\nchunks=6,// at least six RC4 outputs for each double\ndigits=52,// there are 52 significant digits in a double\nrngname='random',// rngname: name for Math.random and Math.seedrandom\nstartdenom=math.pow(width,chunks),significance=math.pow(2,digits),overflow=significance*2,mask=width-1,nodecrypto;// node.js crypto module, initialized at the bottom.\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed,options,callback){var key=[];options=options===true?{entropy:true}:options||{};// Flatten the seed string or build one from local entropy if needed.\nvar shortseed=mixkey(flatten(options.entropy?[seed,tostring(pool)]:seed===null?autoseed():seed,3),key);// Use the seed to initialize an ARC4 generator.\nvar arc4=new ARC4(key);// This function returns a random double in [0, 1) that contains\n// randomness in every bit of the mantissa of the IEEE 754 value.\nvar prng=function prng(){var n=arc4.g(chunks),// Start with a numerator n < 2 ^ 48\nd=startdenom,//   and denominator d = 2 ^ 48.\nx=0;//   and no 'extra last byte'.\nwhile(n<significance){// Fill up all significant digits by\nn=(n+x)*width;//   shifting numerator and\nd*=width;//   denominator and generating a\nx=arc4.g(1);//   new least-significant-byte.\n}while(n>=overflow){// To avoid rounding up, before adding\nn/=2;//   last byte, shift everything\nd/=2;//   right using integer math until\nx>>>=1;//   we have exactly the desired bits.\n}return(n+x)/d;// Form the number within [0, 1).\n};prng.int32=function(){return arc4.g(4)|0;};prng.quick=function(){return arc4.g(4)/0x100000000;};prng[\"double\"]=prng;// Mix the randomness into accumulated entropy.\nmixkey(tostring(arc4.S),pool);// Calling convention: what to return as a function of prng, seed, is_math.\nreturn(options.pass||callback||function(prng,seed,is_math_call,state){if(state){// Load the arc4 state from the given state if it has an S array.\nif(state.S){copy(state,arc4);}// Only provide the .state method if requested via options.state.\nprng.state=function(){return copy(arc4,{});};}// If called as a method of Math (Math.seedrandom()), mutate\n// Math.random because that is how seedrandom.js has worked since v1.0.\nif(is_math_call){math[rngname]=prng;return seed;}// Otherwise, it is a newer calling convention, so return the\n// prng directly.\nelse return prng;})(prng,shortseed,'global'in options?options.global:this==math,options.state);}math['seed'+rngname]=seedrandom;//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key){var t,keylen=key.length,me=this,i=0,j=me.i=me.j=0,s=me.S=[];// The empty key [] is treated as [0].\nif(!keylen){key=[keylen++];}// Set up S using the standard key scheduling algorithm.\nwhile(i<width){s[i]=i++;}for(i=0;i<width;i++){s[i]=s[j=mask&j+key[i%keylen]+(t=s[i])];s[j]=t;}// The \"g\" method returns the next (count) outputs as one number.\nme.g=function(count){// Using instance members instead of closure state nearly doubles speed.\nvar t,r=0,i=me.i,j=me.j,s=me.S;while(count--){t=s[i=mask&i+1];r=r*width+s[mask&(s[i]=s[j=mask&j+t])+(s[j]=t)];}me.i=i;me.j=j;return r;// For robust unpredictability, the function call below automatically\n// discards an initial batch of values.  This is called RC4-drop[256].\n// See http://google.com/search?q=rsa+fluhrer+response&btnI\n};}//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f,t){t.i=f.i;t.j=f.j;t.S=f.S.slice();return t;}//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj,depth){var result=[],typ=_typeof$1(obj),prop;if(depth&&typ=='object'){for(prop in obj){try{result.push(flatten(obj[prop],depth-1));}catch(e){}}}return result.length?result:typ=='string'?obj:obj+'\\0';}//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed,key){var stringseed=seed+'',smear,j=0;while(j<stringseed.length){key[mask&j]=mask&(smear^=key[mask&j]*19)+stringseed.charCodeAt(j++);}return tostring(key);}//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed(){try{if(nodecrypto){return tostring(nodecrypto.randomBytes(width));}var out=new Uint8Array(width);(global.crypto||global.msCrypto).getRandomValues(out);return tostring(out);}catch(e){var browser=global.navigator,plugins=browser&&browser.plugins;return[+new Date(),global,plugins,global.screen,tostring(pool)];}}//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a){return String.fromCharCode.apply(0,a);}//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(),pool);//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\n// End anonymous scope, and pass initial values.\n};function initialize$2(BMMath){seedRandom([],BMMath);}var propTypes={SHAPE:'shape'};function _typeof(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof(obj);}var ExpressionManager=function(){'use strict';var ob={};var Math=BMMath;var window=null;var document=null;var XMLHttpRequest=null;var fetch=null;var frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(arr){return arr.constructor===Array||arr.constructor===Float32Array;}function isNumerable(tOfV,v){return tOfV==='number'||tOfV==='boolean'||tOfV==='string'||v instanceof Number;}function $bm_neg(a){var tOfA=_typeof(a);if(tOfA==='number'||tOfA==='boolean'||a instanceof Number){return-a;}if($bm_isInstanceOfArray(a)){var i;var lenA=a.length;var retArr=[];for(i=0;i<lenA;i+=1){retArr[i]=-a[i];}return retArr;}if(a.propType){return a.v;}return-a;}var easeInBez=BezierFactory.getBezierEasing(0.333,0,0.833,0.833,'easeIn').get;var easeOutBez=BezierFactory.getBezierEasing(0.167,0.167,0.667,1,'easeOut').get;var easeInOutBez=BezierFactory.getBezierEasing(0.33,0,0.667,1,'easeInOut').get;function sum(a,b){var tOfA=_typeof(a);var tOfB=_typeof(b);if(tOfA==='string'||tOfB==='string'){return a+b;}if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){return a+b;}if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){a=a.slice(0);a[0]+=b;return a;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){b=b.slice(0);b[0]=a+b[0];return b;}if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){var i=0;var lenA=a.length;var lenB=b.length;var retArr=[];while(i<lenA||i<lenB){if((typeof a[i]==='number'||a[i]instanceof Number)&&(typeof b[i]==='number'||b[i]instanceof Number)){retArr[i]=a[i]+b[i];}else{retArr[i]=b[i]===undefined?a[i]:a[i]||b[i];}i+=1;}return retArr;}return 0;}var add=sum;function sub(a,b){var tOfA=_typeof(a);var tOfB=_typeof(b);if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){if(tOfA==='string'){a=parseInt(a,10);}if(tOfB==='string'){b=parseInt(b,10);}return a-b;}if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){a=a.slice(0);a[0]-=b;return a;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){b=b.slice(0);b[0]=a-b[0];return b;}if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){var i=0;var lenA=a.length;var lenB=b.length;var retArr=[];while(i<lenA||i<lenB){if((typeof a[i]==='number'||a[i]instanceof Number)&&(typeof b[i]==='number'||b[i]instanceof Number)){retArr[i]=a[i]-b[i];}else{retArr[i]=b[i]===undefined?a[i]:a[i]||b[i];}i+=1;}return retArr;}return 0;}function mul(a,b){var tOfA=_typeof(a);var tOfB=_typeof(b);var arr;if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){return a*b;}var i;var len;if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){len=a.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a[i]*b;}return arr;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){len=b.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a*b[i];}return arr;}return 0;}function div(a,b){var tOfA=_typeof(a);var tOfB=_typeof(b);var arr;if(isNumerable(tOfA,a)&&isNumerable(tOfB,b)){return a/b;}var i;var len;if($bm_isInstanceOfArray(a)&&isNumerable(tOfB,b)){len=a.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a[i]/b;}return arr;}if(isNumerable(tOfA,a)&&$bm_isInstanceOfArray(b)){len=b.length;arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=a/b[i];}return arr;}return 0;}function mod(a,b){if(typeof a==='string'){a=parseInt(a,10);}if(typeof b==='string'){b=parseInt(b,10);}return a%b;}var $bm_sum=sum;var $bm_sub=sub;var $bm_mul=mul;var $bm_div=div;var $bm_mod=mod;function clamp(num,min,max){if(min>max){var mm=max;max=min;min=mm;}return Math.min(Math.max(num,min),max);}function radiansToDegrees(val){return val/degToRads;}var radians_to_degrees=radiansToDegrees;function degreesToRadians(val){return val*degToRads;}var degrees_to_radians=radiansToDegrees;var helperLengthArray=[0,0,0,0,0,0];function length(arr1,arr2){if(typeof arr1==='number'||arr1 instanceof Number){arr2=arr2||0;return Math.abs(arr1-arr2);}if(!arr2){arr2=helperLengthArray;}var i;var len=Math.min(arr1.length,arr2.length);var addedLength=0;for(i=0;i<len;i+=1){addedLength+=Math.pow(arr2[i]-arr1[i],2);}return Math.sqrt(addedLength);}function normalize(vec){return div(vec,length(vec));}function rgbToHsl(val){var r=val[0];var g=val[1];var b=val[2];var max=Math.max(r,g,b);var min=Math.min(r,g,b);var h;var s;var l=(max+min)/2;if(max===min){h=0;// achromatic\ns=0;// achromatic\n}else{var d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;default:break;}h/=6;}return[h,s,l,val[3]];}function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;}function hslToRgb(val){var h=val[0];var s=val[1];var l=val[2];var r;var g;var b;if(s===0){r=l;// achromatic\nb=l;// achromatic\ng=l;// achromatic\n}else{var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3);}return[r,g,b,val[3]];}function linear(t,tMin,tMax,value1,value2){if(value1===undefined||value2===undefined){value1=tMin;value2=tMax;tMin=0;tMax=1;}if(tMax<tMin){var _tMin=tMax;tMax=tMin;tMin=_tMin;}if(t<=tMin){return value1;}if(t>=tMax){return value2;}var perc=tMax===tMin?0:(t-tMin)/(tMax-tMin);if(!value1.length){return value1+(value2-value1)*perc;}var i;var len=value1.length;var arr=createTypedArray('float32',len);for(i=0;i<len;i+=1){arr[i]=value1[i]+(value2[i]-value1[i])*perc;}return arr;}function random(min,max){if(max===undefined){if(min===undefined){min=0;max=1;}else{max=min;min=undefined;}}if(max.length){var i;var len=max.length;if(!min){min=createTypedArray('float32',len);}var arr=createTypedArray('float32',len);var rnd=BMMath.random();for(i=0;i<len;i+=1){arr[i]=min[i]+rnd*(max[i]-min[i]);}return arr;}if(min===undefined){min=0;}var rndm=BMMath.random();return min+rndm*(max-min);}function createPath(points,inTangents,outTangents,closed){var i;var len=points.length;var path=shapePool.newElement();path.setPathData(!!closed,len);var arrPlaceholder=[0,0];var inVertexPoint;var outVertexPoint;for(i=0;i<len;i+=1){inVertexPoint=inTangents&&inTangents[i]?inTangents[i]:arrPlaceholder;outVertexPoint=outTangents&&outTangents[i]?outTangents[i]:arrPlaceholder;path.setTripleAt(points[i][0],points[i][1],outVertexPoint[0]+points[i][0],outVertexPoint[1]+points[i][1],inVertexPoint[0]+points[i][0],inVertexPoint[1]+points[i][1],i,true);}return path;}function initiateExpression(elem,data,property){var val=data.x;var needsVelocity=/velocity(?![\\w\\d])/.test(val);var _needsRandom=val.indexOf('random')!==-1;var elemType=elem.data.ty;var transform;var $bm_transform;var content;var effect;var thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime;Object.defineProperty(thisProperty,'value',{get:function get(){return thisProperty.v;}});elem.comp.frameDuration=1/elem.comp.globalData.frameRate;elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate;var outPoint=elem.data.op/elem.comp.globalData.frameRate;var width=elem.data.sw?elem.data.sw:0;var height=elem.data.sh?elem.data.sh:0;var name=elem.data.nm;var loopIn;var loop_in;var loopOut;var loop_out;var smooth;var toWorld;var fromWorld;var fromComp;var toComp;var fromCompToSurface;var position;var rotation;var anchorPoint;var scale;var thisLayer;var thisComp;var mask;var valueAtTime;var velocityAtTime;var scoped_bm_rt;// val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\nvar expression_function=eval('[function _expression_function(){'+val+';scoped_bm_rt=$bm_rt}]')[0];// eslint-disable-line no-eval\nvar numKeys=property.kf?data.k.length:0;var active=!this.data||this.data.hd!==true;var wiggle=function wiggle(freq,amp){var iWiggle;var j;var lenWiggle=this.pv.length?this.pv.length:1;var addedAmps=createTypedArray('float32',lenWiggle);freq=5;var iterations=Math.floor(time*freq);iWiggle=0;j=0;while(iWiggle<iterations){// var rnd = BMMath.random();\nfor(j=0;j<lenWiggle;j+=1){addedAmps[j]+=-amp+amp*2*BMMath.random();// addedAmps[j] += -amp + amp*2*rnd;\n}iWiggle+=1;}// var rnd2 = BMMath.random();\nvar periods=time*freq;var perc=periods-Math.floor(periods);var arr=createTypedArray('float32',lenWiggle);if(lenWiggle>1){for(j=0;j<lenWiggle;j+=1){arr[j]=this.pv[j]+addedAmps[j]+(-amp+amp*2*BMMath.random())*perc;// arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n// arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n}return arr;}return this.pv+addedAmps[0]+(-amp+amp*2*BMMath.random())*perc;}.bind(this);if(thisProperty.loopIn){loopIn=thisProperty.loopIn.bind(thisProperty);loop_in=loopIn;}if(thisProperty.loopOut){loopOut=thisProperty.loopOut.bind(thisProperty);loop_out=loopOut;}if(thisProperty.smooth){smooth=thisProperty.smooth.bind(thisProperty);}function loopInDuration(type,duration){return loopIn(type,duration,true);}function loopOutDuration(type,duration){return loopOut(type,duration,true);}if(this.getValueAtTime){valueAtTime=this.getValueAtTime.bind(this);}if(this.getVelocityAtTime){velocityAtTime=this.getVelocityAtTime.bind(this);}var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(elem1,elem2){var fVec=[elem2[0]-elem1[0],elem2[1]-elem1[1],elem2[2]-elem1[2]];var pitch=Math.atan2(fVec[0],Math.sqrt(fVec[1]*fVec[1]+fVec[2]*fVec[2]))/degToRads;var yaw=-Math.atan2(fVec[1],fVec[2])/degToRads;return[yaw,pitch,0];}function easeOut(t,tMin,tMax,val1,val2){return applyEase(easeOutBez,t,tMin,tMax,val1,val2);}function easeIn(t,tMin,tMax,val1,val2){return applyEase(easeInBez,t,tMin,tMax,val1,val2);}function ease(t,tMin,tMax,val1,val2){return applyEase(easeInOutBez,t,tMin,tMax,val1,val2);}function applyEase(fn,t,tMin,tMax,val1,val2){if(val1===undefined){val1=tMin;val2=tMax;}else{t=(t-tMin)/(tMax-tMin);}if(t>1){t=1;}else if(t<0){t=0;}var mult=fn(t);if($bm_isInstanceOfArray(val1)){var iKey;var lenKey=val1.length;var arr=createTypedArray('float32',lenKey);for(iKey=0;iKey<lenKey;iKey+=1){arr[iKey]=(val2[iKey]-val1[iKey])*mult+val1[iKey];}return arr;}return(val2-val1)*mult+val1;}function nearestKey(time){var iKey;var lenKey=data.k.length;var index;var keyTime;if(!data.k.length||typeof data.k[0]==='number'){index=0;keyTime=0;}else{index=-1;time*=elem.comp.globalData.frameRate;if(time<data.k[0].t){index=1;keyTime=data.k[0].t;}else{for(iKey=0;iKey<lenKey-1;iKey+=1){if(time===data.k[iKey].t){index=iKey+1;keyTime=data.k[iKey].t;break;}else if(time>data.k[iKey].t&&time<data.k[iKey+1].t){if(time-data.k[iKey].t>data.k[iKey+1].t-time){index=iKey+2;keyTime=data.k[iKey+1].t;}else{index=iKey+1;keyTime=data.k[iKey].t;}break;}}if(index===-1){index=iKey+1;keyTime=data.k[iKey].t;}}}var obKey={};obKey.index=index;obKey.time=keyTime/elem.comp.globalData.frameRate;return obKey;}function key(ind){var obKey;var iKey;var lenKey;if(!data.k.length||typeof data.k[0]==='number'){throw new Error('The property has no keyframe at index '+ind);}ind-=1;obKey={time:data.k[ind].t/elem.comp.globalData.frameRate,value:[]};var arr=Object.prototype.hasOwnProperty.call(data.k[ind],'s')?data.k[ind].s:data.k[ind-1].e;lenKey=arr.length;for(iKey=0;iKey<lenKey;iKey+=1){obKey[iKey]=arr[iKey];obKey.value[iKey]=arr[iKey];}return obKey;}function framesToTime(fr,fps){if(!fps){fps=elem.comp.globalData.frameRate;}return fr/fps;}function timeToFrames(t,fps){if(!t&&t!==0){t=time;}if(!fps){fps=elem.comp.globalData.frameRate;}return t*fps;}function seedRandom(seed){BMMath.seedrandom(randSeed+seed);}function sourceRectAtTime(){return elem.sourceRectAtTime();}function substring(init,end){if(typeof value==='string'){if(end===undefined){return value.substring(init);}return value.substring(init,end);}return'';}function substr(init,end){if(typeof value==='string'){if(end===undefined){return value.substr(init);}return value.substr(init,end);}return'';}function posterizeTime(framesPerSecond){time=framesPerSecond===0?0:Math.floor(time*framesPerSecond)/framesPerSecond;value=valueAtTime(time);}var time;var velocity;var value;var text;var textIndex;var textTotal;var selectorValue;var index=elem.data.ind;var hasParent=!!(elem.hierarchy&&elem.hierarchy.length);var parent;var randSeed=Math.floor(Math.random()*1000000);var globalData=elem.globalData;function executeExpression(_value){// globalData.pushExpression();\nvalue=_value;if(this.frameExpressionId===elem.globalData.frameId&&this.propType!=='textSelector'){return value;}if(this.propType==='textSelector'){textIndex=this.textIndex;textTotal=this.textTotal;selectorValue=this.selectorValue;}if(!thisLayer){text=elem.layerInterface.text;thisLayer=elem.layerInterface;thisComp=elem.comp.compInterface;toWorld=thisLayer.toWorld.bind(thisLayer);fromWorld=thisLayer.fromWorld.bind(thisLayer);fromComp=thisLayer.fromComp.bind(thisLayer);toComp=thisLayer.toComp.bind(thisLayer);mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null;fromCompToSurface=fromComp;}if(!transform){transform=elem.layerInterface('ADBE Transform Group');$bm_transform=transform;if(transform){anchorPoint=transform.anchorPoint;/* position = transform.position;\n                      rotation = transform.rotation;\n                      scale = transform.scale; */}}if(elemType===4&&!content){content=thisLayer('ADBE Root Vectors Group');}if(!effect){effect=thisLayer(4);}hasParent=!!(elem.hierarchy&&elem.hierarchy.length);if(hasParent&&!parent){parent=elem.hierarchy[0].layerInterface;}time=this.comp.renderedFrame/this.comp.globalData.frameRate;if(_needsRandom){seedRandom(randSeed+time);}if(needsVelocity){velocity=velocityAtTime(time);}expression_function();this.frameExpressionId=elem.globalData.frameId;// TODO: Check if it's possible to return on ShapeInterface the .v value\n// Changed this to a ternary operation because Rollup failed compiling it correctly\nscoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt;return scoped_bm_rt;}// Bundlers will see these as dead code and unless we reference them\nexecuteExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData];return executeExpression;}ob.initiateExpression=initiateExpression;ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath];return ob;}();var expressionHelpers=function(){function searchExpressions(elem,data,prop){if(data.x){prop.k=true;prop.x=true;prop.initiateExpression=ExpressionManager.initiateExpression;prop.effectsSequence.push(prop.initiateExpression(elem,data,prop).bind(prop));}}function getValueAtTime(frameNum){frameNum*=this.elem.globalData.frameRate;frameNum-=this.offsetTime;if(frameNum!==this._cachingAtTime.lastFrame){this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<frameNum?this._cachingAtTime.lastIndex:0;this._cachingAtTime.value=this.interpolateValue(frameNum,this._cachingAtTime);this._cachingAtTime.lastFrame=frameNum;}return this._cachingAtTime.value;}function getSpeedAtTime(frameNum){var delta=-0.01;var v1=this.getValueAtTime(frameNum);var v2=this.getValueAtTime(frameNum+delta);var speed=0;if(v1.length){var i;for(i=0;i<v1.length;i+=1){speed+=Math.pow(v2[i]-v1[i],2);}speed=Math.sqrt(speed)*100;}else{speed=0;}return speed;}function getVelocityAtTime(frameNum){if(this.vel!==undefined){return this.vel;}var delta=-0.001;// frameNum += this.elem.data.st;\nvar v1=this.getValueAtTime(frameNum);var v2=this.getValueAtTime(frameNum+delta);var velocity;if(v1.length){velocity=createTypedArray('float32',v1.length);var i;for(i=0;i<v1.length;i+=1){// removing frameRate\n// if needed, don't add it here\n// velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\nvelocity[i]=(v2[i]-v1[i])/delta;}}else{velocity=(v2-v1)/delta;}return velocity;}function getStaticValueAtTime(){return this.pv;}function setGroupProperty(propertyGroup){this.propertyGroup=propertyGroup;}return{searchExpressions:searchExpressions,getSpeedAtTime:getSpeedAtTime,getVelocityAtTime:getVelocityAtTime,getValueAtTime:getValueAtTime,getStaticValueAtTime:getStaticValueAtTime,setGroupProperty:setGroupProperty};}();function addPropertyDecorator(){function loopOut(type,duration,durationFlag){if(!this.k||!this.keyframes){return this.pv;}type=type?type.toLowerCase():'';var currentFrame=this.comp.renderedFrame;var keyframes=this.keyframes;var lastKeyFrame=keyframes[keyframes.length-1].t;if(currentFrame<=lastKeyFrame){return this.pv;}var cycleDuration;var firstKeyFrame;if(!durationFlag){if(!duration||duration>keyframes.length-1){duration=keyframes.length-1;}firstKeyFrame=keyframes[keyframes.length-1-duration].t;cycleDuration=lastKeyFrame-firstKeyFrame;}else{if(!duration){cycleDuration=Math.max(0,lastKeyFrame-this.elem.data.ip);}else{cycleDuration=Math.abs(lastKeyFrame-this.elem.comp.globalData.frameRate*duration);}firstKeyFrame=lastKeyFrame-cycleDuration;}var i;var len;var ret;if(type==='pingpong'){var iterations=Math.floor((currentFrame-firstKeyFrame)/cycleDuration);if(iterations%2!==0){return this.getValueAtTime((cycleDuration-(currentFrame-firstKeyFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\n}}else if(type==='offset'){var initV=this.getValueAtTime(firstKeyFrame/this.comp.globalData.frameRate,0);var endV=this.getValueAtTime(lastKeyFrame/this.comp.globalData.frameRate,0);var current=this.getValueAtTime(((currentFrame-firstKeyFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\nvar repeats=Math.floor((currentFrame-firstKeyFrame)/cycleDuration);if(this.pv.length){ret=new Array(initV.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=(endV[i]-initV[i])*repeats+current[i];}return ret;}return(endV-initV)*repeats+current;}else if(type==='continue'){var lastValue=this.getValueAtTime(lastKeyFrame/this.comp.globalData.frameRate,0);var nextLastValue=this.getValueAtTime((lastKeyFrame-0.001)/this.comp.globalData.frameRate,0);if(this.pv.length){ret=new Array(lastValue.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=lastValue[i]+(lastValue[i]-nextLastValue[i])*((currentFrame-lastKeyFrame)/this.comp.globalData.frameRate)/0.0005;// eslint-disable-line\n}return ret;}return lastValue+(lastValue-nextLastValue)*((currentFrame-lastKeyFrame)/0.001);}return this.getValueAtTime(((currentFrame-firstKeyFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\n}function loopIn(type,duration,durationFlag){if(!this.k){return this.pv;}type=type?type.toLowerCase():'';var currentFrame=this.comp.renderedFrame;var keyframes=this.keyframes;var firstKeyFrame=keyframes[0].t;if(currentFrame>=firstKeyFrame){return this.pv;}var cycleDuration;var lastKeyFrame;if(!durationFlag){if(!duration||duration>keyframes.length-1){duration=keyframes.length-1;}lastKeyFrame=keyframes[duration].t;cycleDuration=lastKeyFrame-firstKeyFrame;}else{if(!duration){cycleDuration=Math.max(0,this.elem.data.op-firstKeyFrame);}else{cycleDuration=Math.abs(this.elem.comp.globalData.frameRate*duration);}lastKeyFrame=firstKeyFrame+cycleDuration;}var i;var len;var ret;if(type==='pingpong'){var iterations=Math.floor((firstKeyFrame-currentFrame)/cycleDuration);if(iterations%2===0){return this.getValueAtTime(((firstKeyFrame-currentFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);// eslint-disable-line\n}}else if(type==='offset'){var initV=this.getValueAtTime(firstKeyFrame/this.comp.globalData.frameRate,0);var endV=this.getValueAtTime(lastKeyFrame/this.comp.globalData.frameRate,0);var current=this.getValueAtTime((cycleDuration-(firstKeyFrame-currentFrame)%cycleDuration+firstKeyFrame)/this.comp.globalData.frameRate,0);var repeats=Math.floor((firstKeyFrame-currentFrame)/cycleDuration)+1;if(this.pv.length){ret=new Array(initV.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=current[i]-(endV[i]-initV[i])*repeats;}return ret;}return current-(endV-initV)*repeats;}else if(type==='continue'){var firstValue=this.getValueAtTime(firstKeyFrame/this.comp.globalData.frameRate,0);var nextFirstValue=this.getValueAtTime((firstKeyFrame+0.001)/this.comp.globalData.frameRate,0);if(this.pv.length){ret=new Array(firstValue.length);len=ret.length;for(i=0;i<len;i+=1){ret[i]=firstValue[i]+(firstValue[i]-nextFirstValue[i])*(firstKeyFrame-currentFrame)/0.001;}return ret;}return firstValue+(firstValue-nextFirstValue)*(firstKeyFrame-currentFrame)/0.001;}return this.getValueAtTime((cycleDuration-((firstKeyFrame-currentFrame)%cycleDuration+firstKeyFrame))/this.comp.globalData.frameRate,0);// eslint-disable-line\n}function smooth(width,samples){if(!this.k){return this.pv;}width=(width||0.4)*0.5;samples=Math.floor(samples||5);if(samples<=1){return this.pv;}var currentTime=this.comp.renderedFrame/this.comp.globalData.frameRate;var initFrame=currentTime-width;var endFrame=currentTime+width;var sampleFrequency=samples>1?(endFrame-initFrame)/(samples-1):1;var i=0;var j=0;var value;if(this.pv.length){value=createTypedArray('float32',this.pv.length);}else{value=0;}var sampleValue;while(i<samples){sampleValue=this.getValueAtTime(initFrame+i*sampleFrequency);if(this.pv.length){for(j=0;j<this.pv.length;j+=1){value[j]+=sampleValue[j];}}else{value+=sampleValue;}i+=1;}if(this.pv.length){for(j=0;j<this.pv.length;j+=1){value[j]/=samples;}}else{value/=samples;}return value;}function getTransformValueAtTime(time){if(!this._transformCachingAtTime){this._transformCachingAtTime={v:new Matrix()};}/// /\nvar matrix=this._transformCachingAtTime.v;matrix.cloneFromProps(this.pre.props);if(this.appliedTransformations<1){var anchor=this.a.getValueAtTime(time);matrix.translate(-anchor[0]*this.a.mult,-anchor[1]*this.a.mult,anchor[2]*this.a.mult);}if(this.appliedTransformations<2){var scale=this.s.getValueAtTime(time);matrix.scale(scale[0]*this.s.mult,scale[1]*this.s.mult,scale[2]*this.s.mult);}if(this.sk&&this.appliedTransformations<3){var skew=this.sk.getValueAtTime(time);var skewAxis=this.sa.getValueAtTime(time);matrix.skewFromAxis(-skew*this.sk.mult,skewAxis*this.sa.mult);}if(this.r&&this.appliedTransformations<4){var rotation=this.r.getValueAtTime(time);matrix.rotate(-rotation*this.r.mult);}else if(!this.r&&this.appliedTransformations<4){var rotationZ=this.rz.getValueAtTime(time);var rotationY=this.ry.getValueAtTime(time);var rotationX=this.rx.getValueAtTime(time);var orientation=this.or.getValueAtTime(time);matrix.rotateZ(-rotationZ*this.rz.mult).rotateY(rotationY*this.ry.mult).rotateX(rotationX*this.rx.mult).rotateZ(-orientation[2]*this.or.mult).rotateY(orientation[1]*this.or.mult).rotateX(orientation[0]*this.or.mult);}if(this.data.p&&this.data.p.s){var positionX=this.px.getValueAtTime(time);var positionY=this.py.getValueAtTime(time);if(this.data.p.z){var positionZ=this.pz.getValueAtTime(time);matrix.translate(positionX*this.px.mult,positionY*this.py.mult,-positionZ*this.pz.mult);}else{matrix.translate(positionX*this.px.mult,positionY*this.py.mult,0);}}else{var position=this.p.getValueAtTime(time);matrix.translate(position[0]*this.p.mult,position[1]*this.p.mult,-position[2]*this.p.mult);}return matrix;/// /\n}function getTransformStaticValueAtTime(){return this.v.clone(new Matrix());}var getTransformProperty=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(elem,data,container){var prop=getTransformProperty(elem,data,container);if(prop.dynamicProperties.length){prop.getValueAtTime=getTransformValueAtTime.bind(prop);}else{prop.getValueAtTime=getTransformStaticValueAtTime.bind(prop);}prop.setGroupProperty=expressionHelpers.setGroupProperty;return prop;};var propertyGetProp=PropertyFactory.getProp;PropertyFactory.getProp=function(elem,data,type,mult,container){var prop=propertyGetProp(elem,data,type,mult,container);// prop.getVelocityAtTime = getVelocityAtTime;\n// prop.loopOut = loopOut;\n// prop.loopIn = loopIn;\nif(prop.kf){prop.getValueAtTime=expressionHelpers.getValueAtTime.bind(prop);}else{prop.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(prop);}prop.setGroupProperty=expressionHelpers.setGroupProperty;prop.loopOut=loopOut;prop.loopIn=loopIn;prop.smooth=smooth;prop.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(prop);prop.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(prop);prop.numKeys=data.a===1?data.k.length:0;prop.propertyIndex=data.ix;var value=0;if(type!==0){value=createTypedArray('float32',data.a===1?data.k[0].s.length:data.k.length);}prop._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:value};expressionHelpers.searchExpressions(elem,data,prop);if(prop.k){container.addDynamicProperty(prop);}return prop;};function getShapeValueAtTime(frameNum){// For now this caching object is created only when needed instead of creating it when the shape is initialized.\nif(!this._cachingAtTime){this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame};}frameNum*=this.elem.globalData.frameRate;frameNum-=this.offsetTime;if(frameNum!==this._cachingAtTime.lastTime){this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<frameNum?this._caching.lastIndex:0;this._cachingAtTime.lastTime=frameNum;this.interpolateShape(frameNum,this._cachingAtTime.shapeValue,this._cachingAtTime);}return this._cachingAtTime.shapeValue;}var ShapePropertyConstructorFunction=ShapePropertyFactory.getConstructorFunction();var KeyframedShapePropertyConstructorFunction=ShapePropertyFactory.getKeyframedConstructorFunction();function ShapeExpressions(){}ShapeExpressions.prototype={vertices:function vertices(prop,time){if(this.k){this.getValue();}var shapePath=this.v;if(time!==undefined){shapePath=this.getValueAtTime(time,0);}var i;var len=shapePath._length;var vertices=shapePath[prop];var points=shapePath.v;var arr=createSizedArray(len);for(i=0;i<len;i+=1){if(prop==='i'||prop==='o'){arr[i]=[vertices[i][0]-points[i][0],vertices[i][1]-points[i][1]];}else{arr[i]=[vertices[i][0],vertices[i][1]];}}return arr;},points:function points(time){return this.vertices('v',time);},inTangents:function inTangents(time){return this.vertices('i',time);},outTangents:function outTangents(time){return this.vertices('o',time);},isClosed:function isClosed(){return this.v.c;},pointOnPath:function pointOnPath(perc,time){var shapePath=this.v;if(time!==undefined){shapePath=this.getValueAtTime(time,0);}if(!this._segmentsLength){this._segmentsLength=bez.getSegmentsLength(shapePath);}var segmentsLength=this._segmentsLength;var lengths=segmentsLength.lengths;var lengthPos=segmentsLength.totalLength*perc;var i=0;var len=lengths.length;var accumulatedLength=0;var pt;while(i<len){if(accumulatedLength+lengths[i].addedLength>lengthPos){var initIndex=i;var endIndex=shapePath.c&&i===len-1?0:i+1;var segmentPerc=(lengthPos-accumulatedLength)/lengths[i].addedLength;pt=bez.getPointInSegment(shapePath.v[initIndex],shapePath.v[endIndex],shapePath.o[initIndex],shapePath.i[endIndex],segmentPerc,lengths[i]);break;}else{accumulatedLength+=lengths[i].addedLength;}i+=1;}if(!pt){pt=shapePath.c?[shapePath.v[0][0],shapePath.v[0][1]]:[shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1]];}return pt;},vectorOnPath:function vectorOnPath(perc,time,vectorType){// perc doesn't use triple equality because it can be a Number object as well as a primitive.\nif(perc==1){// eslint-disable-line eqeqeq\nperc=this.v.c;}else if(perc==0){// eslint-disable-line eqeqeq\nperc=0.999;}var pt1=this.pointOnPath(perc,time);var pt2=this.pointOnPath(perc+0.001,time);var xLength=pt2[0]-pt1[0];var yLength=pt2[1]-pt1[1];var magnitude=Math.sqrt(Math.pow(xLength,2)+Math.pow(yLength,2));if(magnitude===0){return[0,0];}var unitVector=vectorType==='tangent'?[xLength/magnitude,yLength/magnitude]:[-yLength/magnitude,xLength/magnitude];return unitVector;},tangentOnPath:function tangentOnPath(perc,time){return this.vectorOnPath(perc,time,'tangent');},normalOnPath:function normalOnPath(perc,time){return this.vectorOnPath(perc,time,'normal');},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime};extendPrototype([ShapeExpressions],ShapePropertyConstructorFunction);extendPrototype([ShapeExpressions],KeyframedShapePropertyConstructorFunction);KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime=getShapeValueAtTime;KeyframedShapePropertyConstructorFunction.prototype.initiateExpression=ExpressionManager.initiateExpression;var propertyGetShapeProp=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(elem,data,type,arr,trims){var prop=propertyGetShapeProp(elem,data,type,arr,trims);prop.propertyIndex=data.ix;prop.lock=false;if(type===3){expressionHelpers.searchExpressions(elem,data.pt,prop);}else if(type===4){expressionHelpers.searchExpressions(elem,data.ks,prop);}if(prop.k){elem.addDynamicProperty(prop);}return prop;};}function initialize$1(){addPropertyDecorator();}function addDecorator(){function searchExpressions(){if(this.data.d.x){this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this);this.addEffect(this.getExpressionValue.bind(this));return true;}return null;}TextProperty.prototype.getExpressionValue=function(currentValue,text){var newValue=this.calculateExpression(text);if(currentValue.t!==newValue){var newData={};this.copyData(newData,currentValue);newData.t=newValue.toString();newData.__complete=false;return newData;}return currentValue;};TextProperty.prototype.searchProperty=function(){var isKeyframed=this.searchKeyframes();var hasExpressions=this.searchExpressions();this.kf=isKeyframed||hasExpressions;return this.kf;};TextProperty.prototype.searchExpressions=searchExpressions;}function initialize(){addDecorator();}registerRenderer('canvas',CanvasRenderer);registerRenderer('html',HybridRenderer);registerRenderer('svg',SVGRenderer);// Registering shape modifiers\nShapeModifiers.registerModifier('tm',TrimModifier);ShapeModifiers.registerModifier('pb',PuckerAndBloatModifier);ShapeModifiers.registerModifier('rp',RepeaterModifier);ShapeModifiers.registerModifier('rd',RoundCornersModifier);// Registering expression plugin\nsetExpressionsPlugin(Expressions);initialize$1();initialize();// Registering svg effects\nregisterEffect(20,SVGTintFilter,true);registerEffect(21,SVGFillFilter,true);registerEffect(22,SVGStrokeEffect,false);registerEffect(23,SVGTritoneFilter,true);registerEffect(24,SVGProLevelsFilter,true);registerEffect(25,SVGDropShadowEffect,true);registerEffect(28,SVGMatte3Effect,false);registerEffect(29,SVGGaussianBlurEffect,true);return lottie;});","map":{"version":3,"sources":["C:/Users/Max/Desktop/project1.0.0-main/node_modules/lottie-web/build/player/lottie.js"],"names":["navigator","global","factory","exports","module","define","amd","globalThis","self","lottie","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","value","getLocationHref","createTag","type","document","createElement","extendPrototype","sources","destination","i","len","length","sourcePrototype","prototype","attr","Object","hasOwnProperty","call","getDescriptor","object","prop","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","push","pause","resume","setRate","rateValue","createAudio","assetPath","window","Howl","src","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","createTypedArrayFactory","Float32Array","Int16Array","Uint8ClampedArray","createSizedArray","Array","apply","_typeof$6","obj","Symbol","iterator","_typeof","constructor","subframeEnabled","expressionsPlugin","idPrefix","isSafari","test","userAgent","_shouldRoundValues","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","propertyNames","ProjectInterface$1","random","abs","val","tOfVal","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","round","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","target","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","createID","HSVtoRGB","h","s","v","r","g","b","f","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","colorMap","hex","toString","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","_typeof$5","dataManager","_counterId","processes","workerFn","workerInstance","workerProxy","onmessage","postMessage","path","data","_workerSelf","createWorker","fn","Worker","Blob","blob","url","URL","createObjectURL","setupWorker","workerStart","e","dataFunctionManager","completeLayers","layers","comps","layerData","j","jLen","k","kLen","completed","tt","td","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","completeText","completeChars","chars","assets","findComp","id","comp","__used","JSON","parse","stringify","ks","it","o","checkVersion","minimum","animVersionString","animVersion","split","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","animationData","checkChars","charData","ip","op","st","sr","a","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","c","checkShapes","completeClosingShapes","closed","cl","completeData","__complete","moduleOb","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","indexOf","response","responseText","loadAsset","fullPath","callback","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","open","error","send","load","payload","animation","event","process","onComplete","onError","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","width","height","ctx","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","box","getBBox","_imageLoaded","clearInterval","bind","createImageData","addEventListener","ob","setAttributeNS","_elementHelper","append","appendChild","createImgData","crossOrigin","createFootageData","footageData","_footageLoaded","loadAssets","cb","images","_createImageData","setPath","setAssetsPath","getAsset","destroy","loadedImages","loadedFootages","setCacheType","elementHelper","ImagePreloaderFactory","BaseEvent","triggerEvent","eventName","args","_cbs","callbacks","removeEventListener","splice","markerParser","parsePayloadLines","lines","keys","line","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","__","name","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","key","getRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","autoplay","loop","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","segments","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","setParams","params","wrapper","container","animType","RendererClass","rendererSettings","globalData","defs","setProjectInterface","undefined","parseInt","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","substr","fileName","trigger","setData","wrapperAttributes","attributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","setTimeout","rendererType","initItems","gotoFrame","resize","updateContainerSize","setSubframe","renderFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","init","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getAssetData","hide","show","getDuration","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","getRegisteredAnimations","lenAnims","animations","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","first","searchAnimations","standalone","animElements","concat","slice","getElementsByClassName","setAttribute","body","getElementsByTagName","innerText","div","freeze","unfreeze","BezierFactory","getBezierEasing","beziers","str","replace","bezEasing","BezierEasing","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","points","_p","_mSampleValues","_precomputed","get","x","mY1","mY2","_precompute","_getTForX","_calcSampleValues","mSampleValues","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","pooling","_double","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","create","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","pointOnLine3D","z1","z2","z3","dist1","dist2","dist3","diffDist","getBezierLength","pt1","pt2","pt3","pt4","curveSegments","ptCoord","perc","ptDistance","point","lastPoint","lengthData","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","getPointInSegment","percent","t1","u1","ptX","ptY","bezierSegmentPoints","getNewSegment","startPerc","endPerc","t0","u0","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","bez","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","offsetTime","newValue","propType","pv","iterationIndex","lastIndex","keyframes","keyData","nextKeyData","keyframeMetadata","keyframesMetadata","fnc","nextKeyTime","keyTime","endValue","to","ti","ind","__fnct","y","n","distanceInLine","segmentPerc","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","quaternionToEuler","slerp","out","ax","ay","az","aw","bx","by","bz","bw","omega","cosom","sinom","scale0","scale1","acos","sin","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","values","c1","cos","c2","c3","s1","s2","s3","w","z","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","getProp","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","clone","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","paths","localShapeCollection","shapesEqual","shape1","shape2","ShapeProperty","reset","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","or","os","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","rad","roundness","perimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","getShapeProp","dataProp","getConstructorFunction","getKeyframedConstructorFunction","Matrix","_cos","_sin","_tan","tan","_rnd","props","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","l","m","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_a","_b","_c","_d","_e","_f","_typeof$3","setLocation","href","setSubframeRendering","setPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","useWebWorker","setIDPrefix","__getFactory","version","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","scripts","index","myScript","bodymovin","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","TrimModifier","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","shapeSegments","segmentOb","shapeS","shapeE","releasePathsData","processShapes","_s","shapePaths","totalShapeLength","edges","newShapesData","addShapes","lastShapeInCollection","lastShape","pop","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","PuckerAndBloatModifier","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","applyToMatrix","mat","rz","ry","rx","px","py","pz","forceRender","_isDirty","precalculateMatrix","pre","appliedTransformations","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","TransformProperty","getTransformProperty","RepeaterModifier","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","RoundCornersModifier","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","getFontProperties","fontData","styles","fStyle","fWeight","styleName","toLowerCase","weight","FontManager","maxWaitingTime","emptyChar","size","combinedCharacters","surrogateModifiers","zeroWidthJoiner","trimFontOptions","font","familyArray","enabledFamilies","join","setUpNode","family","parentNode","fontFamily","node","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","parent","checkLoadedFonts","loadedCount","loaded","fOrigin","monoCase","sansCase","removeChild","Date","now","checkLoadedFontsBinded","setIsLoadedBinded","createHelper","def","tHelper","fontProps","fFamily","textContent","fClass","tCanvasHelper","list","fontArr","_pendingFonts","shouldLoadFont","loadedSelector","fPath","querySelectorAll","rel","sc","helper","cache","found","ch","getCharData","_char","charCodeAt","console","warn","_warned","measureText","_char2","fontName","getFontByName","doubleSize","getComputedTextLength","singleSize","fName","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","_char3","setIsLoaded","Font","typekitLoaded","fontPrototype","RenderableElement","initRenderable","isInRange","hidden","isTransparent","renderableComponents","addRenderableComponent","component","removeRenderableComponent","prepareRenderableFrame","num","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","MaskManagerInterface","MaskInterface","mask","_mask","_data","defineProperty","MaskManager","maskManager","_masksInterfaces","viewData","maskFunction","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","property","getVelocityAtTime","numKeys","valueProp","assign","valueAtTime","speedAtTime","getSpeedAtTime","velocityAtTime","propertyGroup","UnidimensionalPropertyInterface","MultidimensionalPropertyInterface","arrValue","defaultGetter","TransformExpressionInterface","_thisFunction","rotation","xRotation","yRotation","xPosition","yPosition","zPosition","anchorPoint","opacity","_px","_py","_pz","_transformFactory","LayerExpressionInterface","getMatrix","toWorldMat","propMatrix","_elem","transformMat","toWorldVec","applyPoint","toWorld","fromWorldVec","invertPoint","fromWorld","hierarchy","fromComp","sampleImage","transformInterface","_registerMaskInterface","_thisLayerFunction","_registerEffectsInterface","effects","effect","shapeInterface","textInterface","toComp","anchorPointDescriptor","defineProperties","hasParent","layerInterface","anchor_point","active","startTime","source","inPoint","outPoint","_name","registerMaskInterface","registerEffectsInterface","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","_propertyGroup","EffectsExpressionInterface","createEffectsInterface","effectsManager","effectElements","effectsData","ef","createGroupInterface","groupInterface","mn","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","CompExpressionInterface","layer","pixelAspect","compSize","frameDuration","displayStartTime","numLayers","ShapePathInterface","pathInterfaceFactory","view","propertyIndex","ShapeExpressionInterface","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","defaultInterfaceFactory","contentsInterfaceFactory","interfaces","_interfaceFunction","transformInterfaceFactory","cix","content","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dataProps","strokeWidth","dash","start","skewAxis","outerRadius","outerRoundness","innerRadius","innerRoundness","radius","parentGroupWrapper","TextExpressionInterface","_prevValue","_sourceText","sourceText","textProperty","stringValue","currentData","String","getBlendMode","blendModeEnums","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effectItem","GroupEffect","eff","BaseElement","checkMasks","effectsInterface","shapesData","itemsData","text","setBlendMode","blendModeValue","bm","baseElement","layerElement","initBaseData","layerId","getType","FrameElement","prepareProperties","isVisible","_isParent","_typeof$2","FootageInterface","outlineInterfaceFactory","currentPropertyName","currentProperty","getFootageData","searchProperty","propertyNameIndex","dataInterfaceFactory","outlineInterface","dataInterface","FootageElement","imageLoader","getBaseElement","AudioElement","_isPlaying","_canPlay","_currentTime","_placeholder","timeRemapped","volumeValue","BaseRenderer","checkLayers","buildItem","checkPendingElements","createItem","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","addPendingElement","setAsParent","setHierarchy","pendingElements","setupGlobalData","fontsContainer","animationItem","TransformElement","initTransform","_matMdf","_opMdf","ao","renderTransform","finalMat","globalToLocal","transforms","ptNew","mHelper","MaskElement","maskElement","solidPath","properties","count","currentMasks","rect","expansor","feMorph","maskType","maskRef","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","createFilter","createAlphaToLuminanceFilter","filId","skipCoordinates","fil","feColorMatrix","featureSupport","SVGTintFilter","filter","filterManager","matrixFilter","feMerge","feMergeNode","colorBlack","colorWhite","SVGFillFilter","SVGStrokeEffect","initialized","initialize","elemChildren","children","childNodes","groupPath","masker","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","color1","color2","color3","tableR","tableG","tableB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","feFunc","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","table","colorValue","outputDelta","inputDelta","SVGDropShadowEffect","filterSize","feGaussianBlur","feOffset","feFlood","feComposite","originalNodeAdded","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","matteElement","transformedElement","findSymbol","replaceInParent","symbolId","nextChild","useElem","insertBefore","setElementAsMask","symbol","hd","setMatte","SVGGaussianBlurEffect","kBlurrinessToSigma","sigma","dimensions","sigmaX","sigmaY","edgeMode","registeredEffects","SVGEffects","filters","Effect","countsAsEffect","registerEffect","SVGBaseElement","initRendererElement","createContainerElements","_sizeChanged","layerElementParent","gg","maskGroup","maskGrouper","feCTr","alphaRect","ln","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","renderableEffectsManager","HierarchyElement","initHierarchy","checkParenting","RenderableDOMElement","_prototype","initElement","createContent","renderInnerContent","innerElem","IImageElement","sourceRect","pr","imagePreserveAspectRatio","ProcessedElement","IShapeElement","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","shouldBreakProcess","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","comparePoints","diff","SVGGradientFillStyleData","initGradientData","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","lj","ml","of","ms","ost","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","createRenderFunction","renderFill","renderGradient","renderGradientStroke","renderStroke","renderPath","renderContentTransform","renderNoop","styleData","itemData","pathStringTransformed","redraw","lLen","iterations","styleElem","hasOpacity","attr1","attr2","cValues","oValues","ang","SVGShapeElement","stylesList","animatedContents","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","GradientConstructor","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","shapeProperty","setElementStyles","render","ownStyles","ownModifiers","currentTransform","modifier","processedPos","renderShape","animatedContent","LetterProps","sw","fc","update","updated","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","completeTextData","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charactersArray","charCode","shouldCombine","charAt","letters","newLineFlag","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","boxHeight","currentHeight","lastSpaceIndex","uncollapsedSpaces","currentChar","an","add","anIndexes","animatorJustifyOffset","extra","animators","animatorData","letterData","based","indexes","fh","fs","fb","rn","totalChars","currentInd","newInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","searchProperties","getMeasures","matrixHelper","renderedLettersCount","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","tLength","pi","yOff","firstLine","animatorSelector","letterValue","offf","xPathPos","yPathPos","initPathPos","initSegmentInd","initPointInd","elemOpacity","letterSw","letterSc","letterFc","letterM","letterP","defaultPropsArray","letterO","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","rot","atan","ITextElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","emptyShapeData","SVGTextLottieElement","textSpans","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","fromCharCode","usesGlyphs","tSpan","tElement","justify","span","glyph","cachedSpansLength","childSpan","glyphElement","SVGCompElement","_debug","textBox","bbox","renderedLetter","textSpan","ISolidElement","NullElement","SVGRendererBase","svgElement","viewBoxSize","viewBoxOnly","contentVisibility","className","focusable","preserveAspectRatio","destroyed","appendElementInPos","nextElement","ICompElement","setElements","getElements","destroyElements","supports3d","SVGRenderer","config","ariaLabel","title","titleElement","titleId","description","descElement","descId","CVContextData","saved","cArrPos","cTr","cO","savedOp","duplicate","newLength","currentSavedOp","set","ShapeTransformManager","sequences","sequenceList","transform_key_count","addTransformSequence","sequence","processSequence","processSequences","getNewKey","CVEffects","CVMaskElement","hasMasks","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","save","clip","CVBaseElement","createElements","blendMode","globalCompositeOperation","hideElement","showElement","forceRealStack","ctxTransform","ctxOpacity","restore","CVShapeData","transformsManager","styledShapes","styledShape","trNodes","CVShapeElement","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","currentGlobalAlpha","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","closePath","stroke","fill","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","CVTextElement","currentRender","sWidth","fValue","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","CVImageElement","imgW","imgH","imgRel","canvasRel","widthCrop","heightCrop","par","drawImage","CVSolidElement","CanvasRendererBase","clearCanvas","context","dpr","devicePixelRatio","contextData","cProps","trProps","globalAlpha","actionFlag","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","offsetHeight","elementRel","animationRel","fillType","clearRect","CVCompElement","CanvasRenderer","HBaseElement","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","HSolidElement","backgroundColor","HShapeElement","shapesContainer","currentBBox","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","changed","shapeStyle","shapeTransform","HTextElement","textPaths","isMasked","compW","compH","innerElemStyle","textColor","lineHeight","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","HCameraElement","pe","_prevMat","setup","threeDElements","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","HImageElement","Image","imageElem","HybridRendererBase","camera","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","tmpDOMElement","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","center","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","overflow","svg","cWidth","cHeight","floatingContainer","HCompElement","_createBaseContainerElements","HybridRenderer","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","_typeof$1","seedRandom","chunks","digits","rngname","startdenom","significance","nodecrypto","seedrandom","seed","options","entropy","shortseed","mixkey","flatten","tostring","autoseed","arc4","ARC4","prng","int32","quick","S","pass","is_math_call","state","copy","keylen","me","depth","result","typ","stringseed","smear","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","initialize$2","propTypes","SHAPE","ExpressionManager","fetch","frames","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","rndm","createPath","inTangents","outTangents","arrPlaceholder","inVertexPoint","outVertexPoint","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","loopIn","loop_in","loopOut","loop_out","smooth","fromCompToSurface","thisLayer","thisComp","scoped_bm_rt","expression_function","eval","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","lookAt","elem1","elem2","fVec","pitch","yaw","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","randSeed","substring","posterizeTime","framesPerSecond","velocity","textIndex","textTotal","selectorValue","executeExpression","_value","frameExpressionId","__preventDeadCodeRemoval","expressionHelpers","searchExpressions","_cachingAtTime","delta","speed","getStaticValueAtTime","addPropertyDecorator","durationFlag","lastKeyFrame","cycleDuration","firstKeyFrame","ret","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","endFrame","sampleFrequency","sampleValue","getTransformValueAtTime","_transformCachingAtTime","anchor","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","getShapeValueAtTime","shapeValue","lastTime","ShapePropertyConstructorFunction","KeyframedShapePropertyConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","unitVector","tangentOnPath","normalOnPath","propertyGetShapeProp","trims","initialize$1","addDecorator","calculateExpression","getExpressionValue","isKeyframed","hasExpressions"],"mappings":"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","sourcesContent":["(typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n\n      return createRegularArray(type, len);\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n\n    return createRegularArray;\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var idPrefix = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface$1() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n\n    return value;\n  }\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix + '__lottie_element_' + _count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n\n      default:\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n\n      default:\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix = value;\n  };\n\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\n\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n\n      workerFn = fn;\n      return workerProxy;\n    }\n\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n\n                  if (layerData.tt) {\n                    layers[i - 1].td = layerData.tt;\n                  }\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n\n                i += 1;\n              }\n\n              return null;\n            }\n\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n\n              return null;\n            }\n\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n\n              return null;\n            }\n\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\n              }\n            }\n\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n\n                return null;\n              }\n\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\n\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n\n                try {\n                  xhr.open('GET', path, true);\n                } catch (error) {\n                  xhr.open('GET', fullPath + '/' + path, true);\n                }\n\n                xhr.send();\n              }\n\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n\n            _workerSelf.dataManager.completeData(animation);\n\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n\n          clearInterval(intervalId);\n        }\n\n        _count += 1;\n      }.bind(this), 50);\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n\n      return null;\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n\n      if (keysCount === 0) {\n        throw new Error();\n      }\n\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i]\n            };\n          }\n        }\n\n        markers.push(markerData);\n      }\n\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n\n  function getRenderer(key) {\n    return renderers[key];\n  }\n\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = 'svg';\n\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    this.setParams(params);\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function () {\n    this.renderer.updateContainerSize();\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n\n    try {\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n\n      if (marker.payload && marker.payload.name.cm === markerName) {\n        return marker;\n      }\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.renderer = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n        case 'drawnFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; // moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\n       * BezierEasing - use bezier curve for transition easing function\n       * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n       *\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\n       * Usage:\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\n       *\n       */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\n       */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n\n          flag = false;\n        }\n      }\n\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n\n      return bezierSegmentPoints;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  var PropertyFactory = function () {\n    var initFrame = initialDefaultFrame;\n    var mathAbs = Math.abs;\n\n    function interpolateValue(frameNum, caching) {\n      var offsetTime = this.offsetTime;\n      var newValue;\n\n      if (this.propType === 'multidimensional') {\n        newValue = createTypedArray('float32', this.pv.length);\n      }\n\n      var iterationIndex = caching.lastIndex;\n      var i = iterationIndex;\n      var len = this.keyframes.length - 1;\n      var flag = true;\n      var keyData;\n      var nextKeyData;\n      var keyframeMetadata;\n\n      while (flag) {\n        keyData = this.keyframes[i];\n        nextKeyData = this.keyframes[i + 1];\n\n        if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n          if (keyData.h) {\n            keyData = nextKeyData;\n          }\n\n          iterationIndex = 0;\n          break;\n        }\n\n        if (nextKeyData.t - offsetTime > frameNum) {\n          iterationIndex = i;\n          break;\n        }\n\n        if (i < len - 1) {\n          i += 1;\n        } else {\n          iterationIndex = 0;\n          flag = false;\n        }\n      }\n\n      keyframeMetadata = this.keyframesMetadata[i] || {};\n      var k;\n      var kLen;\n      var perc;\n      var jLen;\n      var j;\n      var fnc;\n      var nextKeyTime = nextKeyData.t - offsetTime;\n      var keyTime = keyData.t - offsetTime;\n      var endValue;\n\n      if (keyData.to) {\n        if (!keyframeMetadata.bezierData) {\n          keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n        }\n\n        var bezierData = keyframeMetadata.bezierData;\n\n        if (frameNum >= nextKeyTime || frameNum < keyTime) {\n          var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n          kLen = bezierData.points[ind].point.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            newValue[k] = bezierData.points[ind].point[k];\n          } // caching._lastKeyframeIndex = -1;\n\n        } else {\n          if (keyframeMetadata.__fnct) {\n            fnc = keyframeMetadata.__fnct;\n          } else {\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n            keyframeMetadata.__fnct = fnc;\n          }\n\n          perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n          var distanceInLine = bezierData.segmentLength * perc;\n          var segmentPerc;\n          var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n          j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n          flag = true;\n          jLen = bezierData.points.length;\n\n          while (flag) {\n            addedLength += bezierData.points[j].partialLength;\n\n            if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k];\n              }\n\n              break;\n            } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n              segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n              }\n\n              break;\n            }\n\n            if (j < jLen - 1) {\n              j += 1;\n            } else {\n              flag = false;\n            }\n          }\n\n          caching._lastPoint = j;\n          caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n          caching._lastKeyframeIndex = i;\n        }\n      } else {\n        var outX;\n        var outY;\n        var inX;\n        var inY;\n        var keyValue;\n        len = keyData.s.length;\n        endValue = nextKeyData.s || keyData.e;\n\n        if (this.sh && keyData.h !== 1) {\n          if (frameNum >= nextKeyTime) {\n            newValue[0] = endValue[0];\n            newValue[1] = endValue[1];\n            newValue[2] = endValue[2];\n          } else if (frameNum <= keyTime) {\n            newValue[0] = keyData.s[0];\n            newValue[1] = keyData.s[1];\n            newValue[2] = keyData.s[2];\n          } else {\n            var quatStart = createQuaternion(keyData.s);\n            var quatEnd = createQuaternion(endValue);\n            var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n            quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n          }\n        } else {\n          for (i = 0; i < len; i += 1) {\n            if (keyData.h !== 1) {\n              if (frameNum >= nextKeyTime) {\n                perc = 1;\n              } else if (frameNum < keyTime) {\n                perc = 0;\n              } else {\n                if (keyData.o.x.constructor === Array) {\n                  if (!keyframeMetadata.__fnct) {\n                    keyframeMetadata.__fnct = [];\n                  }\n\n                  if (!keyframeMetadata.__fnct[i]) {\n                    outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                    outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                    inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                    inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                    keyframeMetadata.__fnct[i] = fnc;\n                  } else {\n                    fnc = keyframeMetadata.__fnct[i];\n                  }\n                } else if (!keyframeMetadata.__fnct) {\n                  outX = keyData.o.x;\n                  outY = keyData.o.y;\n                  inX = keyData.i.x;\n                  inY = keyData.i.y;\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyData.keyframeMetadata = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct;\n                }\n\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n              }\n            }\n\n            endValue = nextKeyData.s || keyData.e;\n            keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n            if (this.propType === 'multidimensional') {\n              newValue[i] = keyValue;\n            } else {\n              newValue = keyValue;\n            }\n          }\n        }\n      }\n\n      caching.lastIndex = iterationIndex;\n      return newValue;\n    } // based on @Toji's https://github.com/toji/gl-matrix/\n\n\n    function slerp(a, b, t) {\n      var out = [];\n      var ax = a[0];\n      var ay = a[1];\n      var az = a[2];\n      var aw = a[3];\n      var bx = b[0];\n      var by = b[1];\n      var bz = b[2];\n      var bw = b[3];\n      var omega;\n      var cosom;\n      var sinom;\n      var scale0;\n      var scale1;\n      cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n      if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n      }\n\n      if (1.0 - cosom > 0.000001) {\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n      } else {\n        scale0 = 1.0 - t;\n        scale1 = t;\n      }\n\n      out[0] = scale0 * ax + scale1 * bx;\n      out[1] = scale0 * ay + scale1 * by;\n      out[2] = scale0 * az + scale1 * bz;\n      out[3] = scale0 * aw + scale1 * bw;\n      return out;\n    }\n\n    function quaternionToEuler(out, quat) {\n      var qx = quat[0];\n      var qy = quat[1];\n      var qz = quat[2];\n      var qw = quat[3];\n      var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n      var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n      var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n      out[0] = heading / degToRads;\n      out[1] = attitude / degToRads;\n      out[2] = bank / degToRads;\n    }\n\n    function createQuaternion(values) {\n      var heading = values[0] * degToRads;\n      var attitude = values[1] * degToRads;\n      var bank = values[2] * degToRads;\n      var c1 = Math.cos(heading / 2);\n      var c2 = Math.cos(attitude / 2);\n      var c3 = Math.cos(bank / 2);\n      var s1 = Math.sin(heading / 2);\n      var s2 = Math.sin(attitude / 2);\n      var s3 = Math.sin(bank / 2);\n      var w = c1 * c2 * c3 - s1 * s2 * s3;\n      var x = s1 * s2 * c3 + c1 * c2 * s3;\n      var y = s1 * c2 * c3 + c1 * s2 * s3;\n      var z = c1 * s2 * c3 - s1 * c2 * s3;\n      return [x, y, z, w];\n    }\n\n    function getValueAtCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n      if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n        if (this._caching.lastFrame >= frameNum) {\n          this._caching._lastKeyframeIndex = -1;\n          this._caching.lastIndex = 0;\n        }\n\n        var renderResult = this.interpolateValue(frameNum, this._caching);\n        this.pv = renderResult;\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function setVValue(val) {\n      var multipliedValue;\n\n      if (this.propType === 'unidimensional') {\n        multipliedValue = val * this.mult;\n\n        if (mathAbs(this.v - multipliedValue) > 0.00001) {\n          this.v = multipliedValue;\n          this._mdf = true;\n        }\n      } else {\n        var i = 0;\n        var len = this.v.length;\n\n        while (i < len) {\n          multipliedValue = val[i] * this.mult;\n\n          if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n            this.v[i] = multipliedValue;\n            this._mdf = true;\n          }\n\n          i += 1;\n        }\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = this._isFirstFrame;\n      var i;\n      var len = this.effectsSequence.length;\n      var finalValue = this.kf ? this.pv : this.data.k;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this._isFirstFrame = false;\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    function ValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this.v = mult ? data.k * mult : data.k;\n      this.pv = data.k;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.vel = 0;\n      this.effectsSequence = [];\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function MultiDimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.frameId = -1;\n      var i;\n      var len = data.k.length;\n      this.v = createTypedArray('float32', len);\n      this.pv = createTypedArray('float32', len);\n      this.vel = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        this.v[i] = data.k[i] * this.mult;\n        this.pv[i] = data.k[i];\n      }\n\n      this._isFirstFrame = true;\n      this.effectsSequence = [];\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.frameId = -1;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: 0,\n        _lastKeyframeIndex: -1\n      };\n      this.k = true;\n      this.kf = true;\n      this.data = data;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.v = initFrame;\n      this.pv = initFrame;\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      var i;\n      var len = data.k.length;\n      var s;\n      var e;\n      var to;\n      var ti;\n\n      for (i = 0; i < len - 1; i += 1) {\n        if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n          s = data.k[i].s;\n          e = data.k[i + 1].s;\n          to = data.k[i].to;\n          ti = data.k[i].ti;\n\n          if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n\n          if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n            if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n              data.k[i].to = null;\n              data.k[i].ti = null;\n            }\n          }\n        }\n      }\n\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.data = data;\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.k = true;\n      this.kf = true;\n      this._isFirstFrame = true;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.frameId = -1;\n      var arrLen = data.k[0].s.length;\n      this.v = createTypedArray('float32', arrLen);\n      this.pv = createTypedArray('float32', arrLen);\n\n      for (i = 0; i < arrLen; i += 1) {\n        this.v[i] = initFrame;\n        this.pv[i] = initFrame;\n      }\n\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: createTypedArray('float32', arrLen)\n      };\n      this.addEffect = addEffect;\n    }\n\n    function getProp(elem, data, type, mult, container) {\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n\n      default:\n        arr = [];\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\n                  keyPropS = kf[kf.length - 1].s[0];\n              }else{\n                  keyPropS = kf[kf.length - 2].e[0];\n              } */\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i;\n      var len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n\n      var i;\n      var len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\n                  this.v.i.length = numPts;\n                  this.v.o.length = numPts; */\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /* this.v.v[i] = [x,y];\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\n                      this.v._length = numPts; */\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\n   Transformation Matrix v2.0\n   (c) Epistemex 2014-2015\n   www.epistemex.com\n   By Ken Fyrstenberg\n   Contributions by leeoniya.\n   License: MIT, header required.\n   */\n\n  /**\n   * 2D transformation matrix object initialized with identity matrix.\n   *\n   * The matrix can synchronize a canvas context by supplying the context\n   * as an argument, or later apply current absolute transform to an\n   * existing context.\n   *\n   * All values are handled as floating point values.\n   *\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\n   * @prop {number} a - scale x\n   * @prop {number} b - shear y\n   * @prop {number} c - shear x\n   * @prop {number} d - scale y\n   * @prop {number} e - translate x\n   * @prop {number} f - translate y\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\n   * @constructor\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2; // }\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\n           * ace\n           * bdf\n           * 001\n           */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n\n      return matr;\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\n           x: x * me.a + y * me.c + me.e,\n           y: x * me.b + y * me.d + me.f\n           }; */\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\n              return '';\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\n              return '';\n          } */\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n\n      case 'matrix':\n        return Matrix;\n\n      default:\n        return null;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; // lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.9.2';\n\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n\n    return null;\n  }\n\n  var queryString;\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\n\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\n\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {//\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return clonedPath;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      if (!this.a.k) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      // var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n\n    while (pos > 0) {\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n\n        cont += 1;\n      }\n\n      this._currentCopies = copies; /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n\n    return hasReloaded;\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\n                  clonedPath.o[index] = currentO;\n                  clonedPath.i[index] = currentI; */\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return clonedPath;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = []; // Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n    var zeroWidthJoiner = [65039, 8205];\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\n\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(def, fontData) {\n      var tHelper = createNS('text');\n      tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\n\n      var fontProps = getFontProperties(fontData);\n      tHelper.setAttribute('font-family', fontData.fFamily);\n      tHelper.setAttribute('font-style', fontProps.style);\n      tHelper.setAttribute('font-weight', fontProps.weight);\n      tHelper.textContent = '1';\n\n      if (fontData.fClass) {\n        tHelper.style.fontFamily = 'inherit';\n        tHelper.setAttribute('class', fontData.fClass);\n      } else {\n        tHelper.style.fontFamily = fontData.fFamily;\n      }\n\n      def.appendChild(tHelper);\n      var tCanvasHelper = createTag('canvas').getContext('2d');\n      tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily; // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\n\n      return tHelper;\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(defs, fontArr[i]);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName);\n\n      var index = _char2.charCodeAt(0);\n\n      if (!fontData.cache[index + 1]) {\n        var tHelper = fontData.helper; // Canvas version\n        // fontData.cache[index] = tHelper.measureText(char).width / 100;\n        // SVG version\n        // console.log(tHelper.getBBox().width)\n\n        if (_char2 === ' ') {\n          tHelper.textContent = '|' + _char2 + '|';\n          var doubleSize = tHelper.getComputedTextLength();\n          tHelper.textContent = '||';\n          var singleSize = tHelper.getComputedTextLength();\n          fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\n        } else {\n          tHelper.textContent = _char2;\n          fontData.cache[index + 1] = tHelper.getComputedTextLength() / 100;\n        }\n      }\n\n      return fontData.cache[index + 1] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n\n    function isZeroWidthJoiner(firstCharCode, secondCharCode) {\n      if (!secondCharCode) {\n        return firstCharCode === zeroWidthJoiner[1];\n      }\n\n      return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\n    }\n\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; // layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; // list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\n       * @function\n       * Initializes frame related properties.\n       *\n       * @param {number} num\n       * current frame number in Layer's time\n       *\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i;\n      var len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n\n        var value = '';\n\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n\n        return expressionValue;\n      };\n    } // TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      var _px;\n\n      var _py;\n\n      var _pz;\n\n      var _transformFactory;\n\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      return toWorldMat;\n    }\n\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n\n          default:\n            return null;\n        }\n      }\n\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return propertyGroup(val - 1);\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n\n          return null;\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n\n      return null;\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n\n            return effectElements[i]();\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; // return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n\n        return null;\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); // interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          }\n\n          return interfaces[value - 1];\n        }\n\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _prevValue;\n\n      var _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (stringValue !== _prevValue) {\n            elem.textProperty.currentData.t = _prevValue;\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0;\n      var len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\n   * @file\n   * Handles element's layer frame update.\n   * Checks layer in point and out point\n   *\n   */\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\n       * @function\n       * Initializes frame related properties.\n       *\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false; // list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\n       * @function\n       * Calculates all dynamic values\n       *\n       * @param {number} num\n       * current frame number in Layer's time\n       * @param {boolean} isVisible\n       * if layers is currently in range\n       *\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        return '';\n      }\n\n      return init;\n    };\n\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n\n        return null;\n      }\n\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n\n        return null;\n      }\n\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n\n  FootageElement.prototype.prepareFrame = function () {};\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  FootageElement.prototype.renderFrame = function () {};\n\n  FootageElement.prototype.destroy = function () {};\n\n  FootageElement.prototype.initExpressions = function () {\n    this.layerInterface = FootageInterface(this);\n  };\n\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this.audio.volume(volumeValue);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n\n      case 15:\n        return this.createFootage(layer);\n\n      default:\n        return this.createNull(layer);\n    }\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _opMdf: false,\n        mat: new Matrix()\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } // TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {// this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            mat = this.hierarchy[i].finalTransform.mProp.v.props;\n            finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i;\n      var len = transforms.length;\n      var ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        } // TODO move this to a factory or to a constructor\n\n\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        } // TODO move this to a factory or to a constructor\n\n\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } // pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    return ob;\n  }();\n\n  function SVGTintFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', 'f1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', 'f2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n\n    if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\n      var feMerge = createNS('feMerge');\n      filter.appendChild(feMerge);\n      var feMergeNode;\n      feMergeNode = createNS('feMergeNode');\n      feMergeNode.setAttribute('in', 'SourceGraphic');\n      feMerge.appendChild(feMergeNode);\n      feMergeNode = createNS('feMergeNode');\n      feMergeNode.setAttribute('in', 'f2');\n      feMerge.appendChild(feMergeNode);\n    }\n  }\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(elem, filterManager) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', 'f1');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    filter.appendChild(feComponentTransfer);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB); // var opacity = this.filterManager.effectElements[2].p.v/100;\n      // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer');\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    }\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    }\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    }\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n      feComponentTransfer = createNS('feComponentTransfer');\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager) {\n    var filterSize = filterManager.container.globalData.renderConfig.filterSize;\n    filter.setAttribute('x', filterSize.x);\n    filter.setAttribute('y', filterSize.y);\n    filter.setAttribute('width', filterSize.width);\n    filter.setAttribute('height', filterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', 'drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', 'drop_shadow_1');\n    feOffset.setAttribute('result', 'drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', 'drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', 'drop_shadow_3');\n    feComposite.setAttribute('in2', 'drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', 'drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = createNS('feMerge');\n    filter.appendChild(feMerge);\n    var feMergeNode;\n    feMergeNode = createNS('feMergeNode');\n    feMerge.appendChild(feMergeNode);\n    feMergeNode = createNS('feMergeNode');\n    feMergeNode.setAttribute('in', 'SourceGraphic');\n    this.feMergeNode = feMergeNode;\n    this.feMerge = feMerge;\n    this.originalNodeAdded = false;\n    feMerge.appendChild(feMergeNode);\n  }\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n      /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\n              if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\n                  this.feMerge.removeChild(this.feMergeNode);\n                  this.originalNodeAdded = false;\n              } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\n                  this.feMerge.appendChild(this.feMergeNode);\n                  this.originalNodeAdded = true;\n              }\n          } */\n\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  var registeredEffects = {};\n\n  function SVGEffects(elem) {\n    var i;\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem);\n\n        if (registeredEffects[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n\n      if (elem.data.ef[i].ty === 20) {\n        count += 1;\n        filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 21) {\n        count += 1;\n        filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 22) {\n        filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 23) {\n        count += 1;\n        filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 24) {\n        count += 1;\n        filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 25) {\n        count += 1;\n        filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 28) {\n        // count += 1;\n        filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\n      } else if (elem.data.ef[i].ty === 29) {\n        count += 1;\n        filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  function registerEffect(id, effect, countsAsEffect) {\n    registeredEffects[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\n\n      var filId;\n      var fil;\n      var gg;\n\n      if (this.data.td) {\n        if (this.data.td == 3 || this.data.td == 1) {\n          // eslint-disable-line eqeqeq\n          var masker = createNS('mask');\n          masker.setAttribute('id', this.layerId);\n          masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\n\n          masker.appendChild(this.layerElement);\n          layerElementParent = masker;\n          this.globalData.defs.appendChild(masker); // This is only for IE and Edge when mask if of type alpha\n\n          if (!featureSupport.maskType && this.data.td == 1) {\n            // eslint-disable-line eqeqeq\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (this.data.td == 2) {\n          // eslint-disable-line eqeqeq\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', this.layerId);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); /// /\n          // This solution doesn't work on Android when meta tag with viewport attribute is set\n\n          /* var feColorMatrix = createNS('feColorMatrix');\n                  feColorMatrix.setAttribute('type', 'matrix');\n                  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n                  feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\n                  fil.appendChild(feColorMatrix); */\n          /// /\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); /// /\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          maskGrouper.appendChild(this.layerElement);\n          layerElementParent = maskGrouper;\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._matMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\n   * @file\n   * Handles AE's layer parenting property.\n   *\n   */\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\n       * @function\n       * Initializes hierarchy properties\n       *\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\n       * @function\n       * Sets layer's hierarchy.\n       * @param {array} hierarch\n       * layer's parent list\n       *\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\n       * @function\n       * Sets layer as parent.\n       *\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\n       * @function\n       * Searches layer's parenting chain\n       *\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i;\n      var len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0;\n    var len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n\n        case 'no':\n          return renderNoop;\n\n        default:\n          return null;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderNoop() {}\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var props;\n      var iterations;\n      var k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              props = itemData.transformers[k].mProps.v.props;\n              mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops;\n      var i;\n      var len;\n      var stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } // gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\n  This method searches for multiple shapes that affect a single element and one of them is animated\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n\n    while (i < len) {\n      charCode = text.charCodeAt(i);\n\n      if (FontManager.isCombinedCharacter(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n          if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\n            charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n            shouldCombine = false;\n          } else {\n            charactersArray.push(text.substr(i, 2));\n          }\n\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\n          shouldCombine = true;\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n        shouldCombine = true;\n      } else {\n        charactersArray.push(text.charAt(i));\n      }\n\n      i += 1;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        } // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n\n\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n\n          var threshold = 0.5 - smoothness * 0.5;\n\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n\n              default:\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true; // Force alignment only works with a single line for now\n\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n\n            default:\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  var emptyShapeData = {\n    shapes: []\n  };\n\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n\n        default:\n          justify = 'start';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n        matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement;\n\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n\n            if (charData.data && charData.data.shapes) {\n              data = charData.data;\n            }\n\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n\n          if (this.textSpans[i].glyph) {\n            var glyph = this.textSpans[i].glyph;\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n            glyph.destroy();\n          }\n\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement);\n          this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n\n  extendPrototype([BaseRenderer], SVGRendererBase);\n\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n\n    if (this.renderConfig.width) {\n      this.svgElement.setAttribute('width', this.renderConfig.width);\n    }\n\n    if (this.renderConfig.height) {\n      this.svgElement.setAttribute('height', this.renderConfig.height);\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\n        this.buildItem(pos - 1);\n        this.addPendingElement(element);\n      } else {\n        element.setMatte(elements[pos - 1].layerId);\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            element.setMatte(this.elements[i - 1].layerId);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /* ICompElement.prototype.hide = function(){\n      if(!this.hidden){\n          this.hideElement();\n          var i,len = this.elements.length;\n          for( i = 0; i < len; i+=1 ){\n              if(this.elements[i]){\n                  this.elements[i].hide();\n              }\n          }\n      }\n  }; */\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i;\n    var len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } // This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      },\n      width: config && config.width,\n      height: config && config.height\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([SVGRendererBase], SVGRenderer);\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function CVContextData() {\n    this.saved = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    this.cO = 1;\n    var i;\n    var len = 15;\n    this.savedOp = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = len;\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var currentSavedOp = this.savedOp;\n    this.savedOp = createTypedArray('float32', newLength);\n    this.savedOp.set(currentSavedOp);\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.cO = 1;\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        var props;\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          props = sequence.transforms[i].transform.mProps.v.props;\n          sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  function CVEffects() {}\n\n  CVEffects.prototype.renderFrame = function () {};\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      this.canvasContext = this.globalData.canvasContext;\n      this.renderableEffectsManager = new CVEffects(this);\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    renderFrame: function renderFrame() {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n\n        if (type === 'st' || type === 'gs') {\n          ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n          ctx.lineWidth = currentStyle.wi;\n          ctx.lineCap = currentStyle.lc;\n          ctx.lineJoin = currentStyle.lj;\n          ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n\n        renderer.ctxOpacity(currentStyle.coOp);\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n\n          if (type === 'st' || type === 'gs') {\n            ctx.stroke();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.fill(currentStyle.r);\n        }\n\n        renderer.restore();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\n\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n    ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n\n        if (renderedLetter) {\n          this.globalData.renderer.save();\n          this.globalData.renderer.ctxTransform(renderedLetter.p);\n          this.globalData.renderer.ctxOpacity(renderedLetter.o);\n        }\n\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              lastFill = renderedLetter.fc;\n              ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            ctx.fillStyle = this.values.fill;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.fill(); /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            ctx.lineWidth = this.values.sWidth;\n          }\n\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            ctx.strokeStyle = this.values.stroke;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.stroke(); /// ctx.strokeText(letters[i].val,0,0);\n        }\n\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.fillStyle = this.data.sc;\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh); //\n  };\n\n  function CanvasRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n      return;\n    }\n\n    this.transformMat.cloneFromProps(props);\n    var cProps = this.contextData.cTr.props;\n    this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]); // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\n    var trProps = this.contextData.cTr.props;\n    this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    /* if(op === 1){\n          return;\n      } */\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n      return;\n    }\n\n    this.contextData.cO *= op < 0 ? 0 : op;\n\n    if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\n      this.canvasContext.globalAlpha = this.contextData.cO;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n    }\n  };\n\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRendererBase.prototype.save = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.save();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.save();\n    }\n\n    var props = this.contextData.cTr.props;\n\n    if (this.contextData._length <= this.contextData.cArrPos) {\n      this.contextData.duplicate();\n    }\n\n    var i;\n    var arr = this.contextData.saved[this.contextData.cArrPos];\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = props[i];\n    }\n\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\n    this.contextData.cArrPos += 1;\n  };\n\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.restore();\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.cArrPos -= 1;\n    var popped = this.contextData.saved[this.contextData.cArrPos];\n    var i;\n    var arr = this.contextData.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = popped[i];\n    }\n\n    this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\n    this.contextData.cO = popped;\n\n    if (this.globalData.currentGlobalAlpha !== popped) {\n      this.canvasContext.globalAlpha = popped;\n      this.globalData.currentGlobalAlpha = popped;\n    }\n  };\n\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRendererBase.prototype.updateContainerSize = function () {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n\n    if (this.animationItem.wrapper && this.animationItem.container) {\n      elementWidth = this.animationItem.wrapper.offsetWidth;\n      elementHeight = this.animationItem.wrapper.offsetHeight;\n      this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\n      this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\n    } else {\n      elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\n      elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\n    }\n\n    var elementRel;\n    var animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\n      for(i=0;i<len;i+=1){\n          if(this.elements[i] && this.elements[i].data.ty === 0){\n              this.elements[i].resize(this.globalData.transformCanvas);\n          }\n      } */\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\n          element.resize(this.globalData.transformCanvas);\n      } */\n  };\n\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n\n      a |= 0; // eslint-disable-line no-bitwise\n\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {//\n      } else if (a === 0) {\n        t = -c / b;\n\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      } // tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    var svgStyle;\n\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n        textSpan.style.opacity = renderedLetter.o;\n\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; // Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      this.elements[i].destroy();\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([HybridRendererBase], HybridRenderer);\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\n\n  /* eslint-disable */\n\n  /*\n   Copyright 2014 David Bau.\n\n   Permission is hereby granted, free of charge, to any person obtaining\n   a copy of this software and associated documentation files (the\n   \"Software\"), to deal in the Software without restriction, including\n   without limitation the rights to use, copy, modify, merge, publish,\n   distribute, sublicense, and/or sell copies of the Software, and to\n   permit persons to whom the Software is furnished to do so, subject to\n   the following conditions:\n\n   The above copyright notice and this permission notice shall be\n   included in all copies or substantial portions of the Software.\n\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n   */\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = _typeof$1(obj),\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  }\n\n  ;\n\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    initialize$2(BMMath);\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\n    }\n\n    function $bm_neg(a) {\n      var tOfA = _typeof(a);\n\n      if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n\n      return -a;\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n\n      if (max === min) {\n        h = 0; // achromatic\n\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n\n          default:\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n\n      if (s === 0) {\n        r = l; // achromatic\n\n        b = l; // achromatic\n\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      }\n\n      if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i;\n        var len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          iWiggle += 1;\n        } // var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        }\n\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n\n          return arr;\n        }\n\n        return (val2 - val1) * mult + val1;\n      }\n\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n\n        return obKey;\n      }\n\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return fr / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\n                      rotation = transform.rotation;\n                      scale = transform.scale; */\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      } // Bundlers will see these as dead code and unless we reference them\n\n\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath];\n    return ob;\n  }();\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; // frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var firstKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n\n          return ret;\n        }\n\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n\n          return ret;\n        }\n\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var lastKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n\n          return ret;\n        }\n\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n\n          return ret;\n        }\n\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } /// /\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n\n      return matrix; /// /\n    }\n\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  }\n\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n\n      return null;\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n\n  function initialize() {\n    addDecorator();\n  }\n\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier); // Registering expression plugin\n\n  setExpressionsPlugin(Expressions);\n  initialize$1();\n  initialize(); // Registering svg effects\n\n  registerEffect(20, SVGTintFilter, true);\n  registerEffect(21, SVGFillFilter, true);\n  registerEffect(22, SVGStrokeEffect, false);\n  registerEffect(23, SVGTritoneFilter, true);\n  registerEffect(24, SVGProLevelsFilter, true);\n  registerEffect(25, SVGDropShadowEffect, true);\n  registerEffect(28, SVGMatte3Effect, false);\n  registerEffect(29, SVGGaussianBlurEffect, true);\n\n  return lottie;\n\n}));\n"]},"metadata":{},"sourceType":"script"}