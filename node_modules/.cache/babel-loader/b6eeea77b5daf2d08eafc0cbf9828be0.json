{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport Layout from \"../../layouts/main.vue\";\nimport PageHeader from \"@/components/page-header\";\nimport appConfig from \"../../../app.config\";\nimport \"prismjs\";\nimport \"prismjs/themes/prism.css\";\nimport UniversalDataService from \"../../services/UniversalDataService\";\nimport router from \"../../router\";\nimport Warehouse_cellDataService from \"../../services/Warehouse_cellDataService\";\nexport default {\n  page: {\n    title: \"Warehouse cells\",\n    meta: [{\n      name: \"description\",\n      content: appConfig.description\n    }]\n  },\n  data: function data() {\n    return {\n      PageRequest: {\n        Fields: [{\n          Name: '',\n          Value: '',\n          Operation: '',\n          Order: ''\n        }],\n        PageNumber: 0,\n        PageLenght: 0,\n        TotalRecords: 0,\n        TotalPage: 0\n      },\n      page: 1,\n      perPage: 7,\n      pages: [],\n      jsonPages: {\n        PageNumber: 0,\n        TotalRecords: 0\n      },\n      jsonFields: [{\n        name: '',\n        value: ''\n      }],\n      search: \"\",\n      type_list: 'warehouseCells/list',\n      main_type: 'warehouse_cell',\n      list_items: [],\n      title: \"Warehouse cells\",\n      items: [{\n        text: \"Главная\",\n        href: \"/\"\n      }, {\n        text: \"Warehouse cells\",\n        active: true\n      }]\n    };\n  },\n  components: {\n    Layout: Layout,\n    PageHeader: PageHeader\n  },\n  methods: {\n    setPage: function setPage(numPage) {\n      console.log(this.setPage);\n      this.page = numPage;\n      this.retrieveWarehousesCells();\n    },\n    retrieveWarehousesCells: function retrieveWarehousesCells() {\n      var _this = this;\n\n      console.log(\"*******************\");\n      console.log(this.page);\n      this.jsonPages = {\n        pg_number: this.page,\n        pg_length: this.perPage\n      };\n\n      if (this.search != \"\") {\n        this.jsonFields = [{\n          field: \"name\",\n          value: this.search\n        }];\n      } else {\n        this.jsonFields = [];\n      }\n\n      UniversalDataService.setPath(this.type_list);\n      UniversalDataService.list(this.jsonPages).then(function (response) {\n        //dispatch('notification/success', 'Получение списка прошло успешно', { root: true });\n        _this.list_items = response.data.List;\n        console.log(response.data.List);\n        _this.perPage = response.data.pg_length;\n        _this.page = response.data.pg_number;\n        var i = 0;\n\n        for (i = 0; i < response.data.total_pg; i++) {\n          _this.pages[i] = i + 1;\n        }\n      }).catch(function (error) {\n        //dispatch('notification/error', error, { root: true });\n        console.log(error);\n      });\n    },\n    edit: function edit(id) {\n      router.push('/' + this.main_type + '/' + id);\n      console.log(router.push('/' + this.main_type + '/' + id));\n    },\n    remove: function remove(id) {\n      var _this2 = this;\n\n      Warehouse_cellDataService.delete(id).then(function () {\n        //dispatch('notification/success', 'Удаление прошло успешно', { root: true });\n        _this2.retrieveWarehouse_cells();\n      }).catch(function (error) {\n        //dispatch('notification/error', error, { root: true });\n        console.log(error);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.retrieveWarehousesCells();\n  }\n};","map":{"version":3,"mappings":"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","names":["Layout","PageHeader","appConfig","UniversalDataService","router","Warehouse_cellDataService","page","title","meta","name","content","description","data","PageRequest","Fields","Name","Value","Operation","Order","PageNumber","PageLenght","TotalRecords","TotalPage","perPage","pages","jsonPages","jsonFields","value","search","type_list","main_type","list_items","items","text","href","active","components","methods","setPage","numPage","console","log","retrieveWarehousesCells","pg_number","pg_length","field","setPath","list","then","response","List","i","total_pg","catch","error","edit","id","push","remove","delete","retrieveWarehouse_cells","mounted"],"sourceRoot":"","sources":["C:\\Users\\Max\\Desktop\\project1.0.0-main\\src\\views\\warehouse_cells\\list.vue"],"sourcesContent":["<script>\n    import Layout from \"../../layouts/main.vue\";\n    import PageHeader from \"@/components/page-header\";\n    import appConfig from \"../../../app.config\";\n\n    import \"prismjs\";\n    import \"prismjs/themes/prism.css\";\n\n    import UniversalDataService from \"../../services/UniversalDataService\";\n    import router from \"../../router\";\nimport Warehouse_cellDataService from \"../../services/Warehouse_cellDataService\";\n\n    export default {\n        page: {\n            title: \"Warehouse cells\",\n            meta: [{ name: \"description\", content: appConfig.description }],\n        },\n        data() {\n            return {\n                PageRequest: {\n                        Fields: [{\n                        Name :'',\n                        Value:'',\n                        Operation:'',\n                        Order:'',\n                        }],\n                        PageNumber:0,\n                        PageLenght:0,\n                        TotalRecords:0,\n                        TotalPage:0,\n                    },\n                page: 1,\n                perPage: 7,\n                pages: [],\n                jsonPages: {\n                            PageNumber: 0,\n                            TotalRecords:0,\n                },\n                jsonFields: [{\n                            name:'',\n                            value: ''\n                }],\n\n                search:\"\",\n                type_list:'warehouseCells/list',\n                main_type:'warehouse_cell',\n                list_items:[],\n                title: \"Warehouse cells\",\n                items: [\n                    {\n                        text: \"Главная\",\n                        href: \"/\",\n                    },\n                    {\n                        text: \"Warehouse cells\",\n                        active: true,\n                    },\n                ],\n            };\n        },\n        components: {\n            Layout,\n            PageHeader,\n        },\n        methods: {\n    setPage(numPage){\n console.log(this.setPage)\n        this.page = numPage;\n         this.retrieveWarehousesCells();\n        \n    },\n    retrieveWarehousesCells() {\n         console.log(\"*******************\")\n          console.log(this.page)\n        this.jsonPages = {\n          pg_number:this.page,\n          pg_length: this.perPage\n      };\n\n      if (this.search!=\"\"){\n       this.jsonFields = [{\n          field:\"name\",\n          value: this.search\n       }];\n       }else{\n           this.jsonFields = [];\n       }\n\n       UniversalDataService.setPath(this.type_list)\n       UniversalDataService.list(this.jsonPages)\n       .then(response => {\n\n                    //dispatch('notification/success', 'Получение списка прошло успешно', { root: true });\n                    this.list_items = response.data.List;\n\n                    console.log(response.data.List)\n\n                    this.perPage = response.data.pg_length;\n\n                    this.page = response.data.pg_number;\n\n                    let i=0;\n                    for(i=0; i<response.data.total_pg;i++){\n                    this.pages[i]=i+1;}\n                    })\n                    .catch(error => {\n                    //dispatch('notification/error', error, { root: true });\n                    console.log(error);\n                    });\n\n    },\n            edit(id){\n                router.push('/'+this.main_type+'/'+id);\n                    console.log(router.push('/'+this.main_type+'/'+id))\n            },\n            remove(id){\n                \n                Warehouse_cellDataService.delete(id)\n                    .then(() => {\n                        //dispatch('notification/success', 'Удаление прошло успешно', { root: true });\n                        this.retrieveWarehouse_cells();\n                    })\n                    .catch(error => {\n                        //dispatch('notification/error', error, { root: true });\n                        console.log(error);\n                    });\n\n            },\n        },\n        mounted() {\n            this.retrieveWarehousesCells();\n        },\n    };\n</script>\n\n<template>\n    <Layout>\n        <PageHeader :title=\"title\" :items=\"items\"/>\n\n        <div class=\"row\">\n            <div class=\"col-xl-12\">\n\n\n                        <div class=\"live-preview\">\n                            <div class=\"table-responsive\">\n                                <table class=\"table table-primary table-striped align-middle table-nowrap mb-0\">\n                                    <thead>\n                                        <tr>\n                                            <th scope=\"col\">Id</th>\n                                            <th scope=\"col\">Name</th>\n                                            <th scope=\"col\">Slug</th>\n                                            <th scope=\"col\">Warehouse</th>\n                                            <th scope=\"col\"></th>\n                                           \n                                            \n                                        \n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                    <tr v-for=\"item in list_items\" :key=\"item.id\">\n\n                                    <td><a href=\"#\" class=\"fw-medium\">{{item.id}}</a></td>\n                                      \n                                       <td>{{item.name}}</td>\n                                        <td>{{item.slug}}</td>\n                                        <td>{{item.Warehouse.name}}</td>\n\n                                        <td>\n                                            <div class=\"hstack gap-3 flex-wrap\">\n                                              \n                                                <a @click=\"edit(item.id)\" href=\"javascript:void(0);\" class=\"link-primary fs-15\"><i class=\"ri-edit-2-line\"></i></a>\n\n                                                <a href=\"javascript:void(0);\" class=\"link-danger fs-15\"><i class=\"ri-delete-bin-line\" @click=\"remove(item.id)\"></i></a>\n                                            </div>\n                                        </td>\n                                    </tr>\n\n                                    </tbody>\n\n                                </table>\n                                <!-- end table -->\n                                <div class=\"pagination-wrap hstack gap-2\">\n              <a\n                class=\"page-item pagination-prev disabled\"\n                href=\"#\"\n                v-if=\"page != 1\"\n                @click=\"setPage((--page))\"\n              >\n                Previous\n              </a>\n              <ul class=\"pagination listjs-pagination mb-0\">\n                <li\n                 :class=\"{\n                              active: pageNumber == page,\n                              disabled: pageNumber == '...',\n                            }\"\n                  v-for=\"(pageNumber, index) in pages.slice(page - 1, page + 5)\"\n                  :key=\"index\"\n                  @click=\"setPage(page = pageNumber)\"\n                >\n                  <a class=\"page\" href=\"#\"  @click=\"setPage(pageNumber)\">{{ pageNumber }}</a>\n                </li>\n              </ul>\n              <a\n                class=\"page-item pagination-next\"\n                href=\"#\"\n                @click=\"setPage(++page)\"\n                v-if=\"page < pages.length\"\n              >\n                Next\n              </a>\n            </div>\n                            </div>\n                            <!-- end table responsive -->\n                        </div>\n\n            </div>\n            <!-- end col -->\n        </div>\n        <!--end row-->\n    </Layout>\n</template>\n"]},"metadata":{},"sourceType":"module"}